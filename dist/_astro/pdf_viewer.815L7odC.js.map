{"version":3,"file":"pdf_viewer.815L7odC.js","sources":["../../node_modules/react-pdf-highlighter/dist/node_modules/pdfjs-dist/web/pdf_viewer.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar _classList, _disableAutoFetchTimeout, _percent, _style, _visible, _state, _updateMatchesCountOnProgress, _visitedPagesCount, _PDFFindController_instances, onFind_fn, reset_fn, query_get, shouldDirtyMatch_fn, isEntireWord_fn, calculateRegExpMatch_fn, convertToRegExpString_fn, calculateMatch_fn, extractText_fn, updatePage_fn, updateAllPages_fn, nextMatch_fn, matchesReady_fn, nextPageMatch_fn, advanceOffsetPage_fn, updateMatch_fn, onFindBarClose_fn, requestMatchesCount_fn, updateUIResultsCount_fn, updateUIState_fn, _PDFLinkService_static, isValidExplicitDest_fn, _onAppend, _eventAbortController, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn, _openBlobUrls, _listeners, _dir, _elements, _lang, _l10n, _L10n_static, fixupLangCode_fn, isRTL_fn, _genericl10n_GenericL10n_static, generateBundles_fn, createBundle_fn, getPaths_fn, generateBundlesFallback_fn, createBundleFallback_fn, _eventAbortController2, _PDFHistory_instances, pushOrReplaceState_fn, tryPushCurrentPosition_fn, isValidPage_fn, isValidState_fn, updateInternalState_fn, parseCurrentHash_fn, updateViewarea_fn, popState_fn, pageHide_fn, bindEvents_fn, unbindEvents_fn, _annotationLayer, _drawLayer, _onAppend2, _textLayer, _uiManager, _drawLayer2, _treeDom, _StructTreeLayerBuilder_instances, setAttributes_fn, walk_fn, _enabled, _textChildren, _textNodes, _waitingElements, _TextAccessibilityManager_static, compareElementPositions_fn, _TextAccessibilityManager_instances, addIdToAriaOwns_fn, _eventAbortController3, _enablePermissions, _onAppend3, _renderingDone, _textLayer2, _textLayers, _selectionChangeAbortController, _TextLayerBuilder_instances, bindMouse_fn, _TextLayerBuilder_static, removeGlobalSelectionListener_fn, enableGlobalSelectionListener_fn, _annotationMode, _enableHWA, _hasRestrictedScaling, _layerProperties, _loadingId, _previousRotation, _renderError, _renderingState, _textLayerMode, _useThumbnailCanvas, _viewportMap, _layers, _PDFPageView_instances, addLayer_fn, setDimensions_fn, dispatchLayerRendered_fn, renderAnnotationLayer_fn, renderAnnotationEditorLayer_fn, renderDrawLayer_fn, renderXfaLayer_fn, renderTextLayer_fn, renderStructTreeLayer_fn, buildXfaTextContentItems_fn, finishRenderTask_fn, _closeCapability, _destroyCapability, _docProperties, _eventAbortController4, _eventBus, _externalServices, _pdfDocument, _pdfViewer, _ready, _scripting, _willPrintCapability, _PDFScriptingManager_instances, updateFromSandbox_fn, dispatchPageOpen_fn, dispatchPageClose_fn, initScripting_fn, destroyScripting_fn, _buf, _size, _PDFPageViewBuffer_instances, destroyFirstView_fn, _buffer, _altTextManager, _annotationEditorHighlightColors, _annotationEditorMode, _annotationEditorUIManager, _annotationMode2, _containerTopLeft, _enableHWA2, _enableHighlightFloatingButton, _enablePermissions2, _eventAbortController5, _mlManager, _getAllTextInProgress, _hiddenCopyElement, _interruptCopyCondition, _previousContainerHeight, _resizeObserver, _scrollModePageState, _scaleTimeoutId, _textLayerMode2, _PDFViewer_instances, initializePermissions_fn, onePageRenderedOrForceFetch_fn, copyCallback_fn, ensurePageViewVisible_fn, scrollIntoView_fn, isSameScale_fn, setScaleUpdatePages_fn, pageWidthScaleFactor_get, setScale_fn, resetCurrentPageView_fn, ensurePdfPageLoaded_fn, getScrollAhead_fn, updateContainerHeightCss_fn, resizeObserverCallback_fn;\nvar __webpack_require__ = {};\n(() => {\n  __webpack_require__.d = (exports, definition) => {\n    for (var key in definition) {\n      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n        Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n      }\n    }\n  };\n})();\n(() => {\n  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n})();\nvar __webpack_exports__ = globalThis.pdfjsViewer = {};\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () => (\n    /* reexport */\n    AnnotationLayerBuilder\n  ),\n  DownloadManager: () => (\n    /* reexport */\n    DownloadManager\n  ),\n  EventBus: () => (\n    /* reexport */\n    EventBus\n  ),\n  FindState: () => (\n    /* reexport */\n    FindState\n  ),\n  GenericL10n: () => (\n    /* reexport */\n    genericl10n_GenericL10n\n  ),\n  LinkTarget: () => (\n    /* reexport */\n    LinkTarget\n  ),\n  PDFFindController: () => (\n    /* reexport */\n    PDFFindController\n  ),\n  PDFHistory: () => (\n    /* reexport */\n    PDFHistory\n  ),\n  PDFLinkService: () => (\n    /* reexport */\n    PDFLinkService\n  ),\n  PDFPageView: () => (\n    /* reexport */\n    PDFPageView\n  ),\n  PDFScriptingManager: () => (\n    /* reexport */\n    PDFScriptingManagerComponents\n  ),\n  PDFSinglePageViewer: () => (\n    /* reexport */\n    PDFSinglePageViewer\n  ),\n  PDFViewer: () => (\n    /* reexport */\n    PDFViewer\n  ),\n  ProgressBar: () => (\n    /* reexport */\n    ProgressBar\n  ),\n  RenderingStates: () => (\n    /* reexport */\n    RenderingStates\n  ),\n  ScrollMode: () => (\n    /* reexport */\n    ScrollMode\n  ),\n  SimpleLinkService: () => (\n    /* reexport */\n    SimpleLinkService\n  ),\n  SpreadMode: () => (\n    /* reexport */\n    SpreadMode\n  ),\n  StructTreeLayerBuilder: () => (\n    /* reexport */\n    StructTreeLayerBuilder\n  ),\n  TextLayerBuilder: () => (\n    /* reexport */\n    TextLayerBuilder\n  ),\n  XfaLayerBuilder: () => (\n    /* reexport */\n    XfaLayerBuilder\n  ),\n  parseQueryString: () => (\n    /* reexport */\n    parseQueryString\n  )\n});\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n}\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== void 0) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== void 0) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback, abortSignal = void 0) {\n  const debounceScroll = function(evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal == null ? void 0 : abortSignal.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\nfunction parseQueryString(query) {\n  const params = /* @__PURE__ */ new Map();\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n  return params;\n}\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, (m) => m === \"\\0\" ? \"\" : \" \");\n  }\n  return str.replaceAll(\"\\0\", \"\");\n}\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0, b = 1, c = 1, d = 1;\n  while (true) {\n    const p = a + c, q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop, bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft, right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n  const visible = [], ids = /* @__PURE__ */ new Set(), numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i], element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth, viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight, fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n  const first = visible[0], last = visible.at(-1);\n  if (sortByVisibility) {\n    visible.sort(function(a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 1e-3) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nnew Promise(function(resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  constructor(bar) {\n    __privateAdd(this, _classList, null);\n    __privateAdd(this, _disableAutoFetchTimeout, null);\n    __privateAdd(this, _percent, 0);\n    __privateAdd(this, _style, null);\n    __privateAdd(this, _visible, true);\n    __privateSet(this, _classList, bar.classList);\n    __privateSet(this, _style, bar.style);\n  }\n  get percent() {\n    return __privateGet(this, _percent);\n  }\n  set percent(val) {\n    __privateSet(this, _percent, clamp(val, 0, 100));\n    if (isNaN(val)) {\n      __privateGet(this, _classList).add(\"indeterminate\");\n      return;\n    }\n    __privateGet(this, _classList).remove(\"indeterminate\");\n    __privateGet(this, _style).setProperty(\"--progressBar-percent\", `${__privateGet(this, _percent)}%`);\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      __privateGet(this, _style).setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n  setDisableAutoFetch(delay = 5e3) {\n    if (isNaN(__privateGet(this, _percent))) {\n      return;\n    }\n    if (__privateGet(this, _disableAutoFetchTimeout)) {\n      clearTimeout(__privateGet(this, _disableAutoFetchTimeout));\n    }\n    this.show();\n    __privateSet(this, _disableAutoFetchTimeout, setTimeout(() => {\n      __privateSet(this, _disableAutoFetchTimeout, null);\n      this.hide();\n    }, delay));\n  }\n  hide() {\n    if (!__privateGet(this, _visible)) {\n      return;\n    }\n    __privateSet(this, _visible, false);\n    __privateGet(this, _classList).add(\"hidden\");\n  }\n  show() {\n    if (__privateGet(this, _visible)) {\n      return;\n    }\n    __privateSet(this, _visible, true);\n    __privateGet(this, _classList).remove(\"hidden\");\n  }\n}\n_classList = new WeakMap();\n_disableAutoFetchTimeout = new WeakMap();\n_percent = new WeakMap();\n_style = new WeakMap();\n_visible = new WeakMap();\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL, spreadMode = SpreadMode.NONE;\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n    case \"OneColumn\":\n      break;\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 11904;\n}\nfunction isAscii(charCode) {\n  return (charCode & 65408) === 0;\n}\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 97 && charCode <= 122 || charCode >= 65 && charCode <= 90;\n}\nfunction isAsciiDigit(charCode) {\n  return charCode >= 48 && charCode <= 57;\n}\nfunction isAsciiSpace(charCode) {\n  return charCode === 32 || charCode === 9 || charCode === 13 || charCode === 10;\n}\nfunction isHan(charCode) {\n  return charCode >= 13312 && charCode <= 40959 || charCode >= 63744 && charCode <= 64255;\n}\nfunction isKatakana(charCode) {\n  return charCode >= 12448 && charCode <= 12543;\n}\nfunction isHiragana(charCode) {\n  return charCode >= 12352 && charCode <= 12447;\n}\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 65376 && charCode <= 65439;\n}\nfunction isThai(charCode) {\n  return (charCode & 65408) === 3584;\n}\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 95) {\n        return CharacterType.ALPHA_LETTER;\n      }\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 160) {\n      return CharacterType.SPACE;\n    }\n    return CharacterType.ALPHA_LETTER;\n  }\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n  return CharacterType.ALPHA_LETTER;\n}\nlet NormalizeWithNFKC;\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC || (NormalizeWithNFKC = ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`);\n  return NormalizeWithNFKC;\n}\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"‐\": \"-\",\n  \"‘\": \"'\",\n  \"’\": \"'\",\n  \"‚\": \"'\",\n  \"‛\": \"'\",\n  \"“\": '\"',\n  \"”\": '\"',\n  \"„\": '\"',\n  \"‟\": '\"',\n  \"¼\": \"1/4\",\n  \"½\": \"1/2\",\n  \"¾\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = /* @__PURE__ */ new Set([12441, 12442, 2381, 2509, 2637, 2765, 2893, 3021, 3149, 3277, 3387, 3388, 3405, 3530, 3642, 3770, 3972, 4153, 4154, 5908, 5940, 6098, 6752, 6980, 7082, 7083, 7154, 7155, 11647, 43014, 43052, 43204, 43347, 43456, 43766, 44013, 3158, 3953, 3954, 3962, 3963, 3964, 3965, 3968, 3956]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = new RegExp(\"\\\\p{M}+\", \"gu\");\nconst SPECIAL_CHARS_REG_EXP = new RegExp(\"([.*+?^${}()|[\\\\]\\\\\\\\])|(\\\\p{P})|(\\\\s+)|(\\\\p{M})|(\\\\p{L})\", \"gu\");\nconst NOT_DIACRITIC_FROM_END_REG_EXP = new RegExp(\"([^\\\\p{M}])\\\\p{M}*$\", \"u\");\nconst NOT_DIACRITIC_FROM_START_REG_EXP = new RegExp(\"^\\\\p{M}*([^\\\\p{M}])\", \"u\");\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = /* @__PURE__ */ new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = /* @__PURE__ */ new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n      syllablePositions.push([len, index++]);\n    }\n  }\n  let normalizationRegex;\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[぀-ヿ])\";\n    const HKDiacritics = \"(?:゙|゚)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n  const rawDiacriticsPositions = [];\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match2, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    var _a, _b, _c;\n    i -= shiftOrigin;\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p3) {\n      hasDiacritics = true;\n      if (i + eol === ((_a = rawDiacriticsPositions[rawDiacriticsIndex]) == null ? void 0 : _a[1])) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n      if (i + eol === ((_b = rawDiacriticsPositions[rawDiacriticsIndex]) == null ? void 0 : _b[1])) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n      shift -= jj;\n      shiftOrigin += jj;\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n      return p4;\n    }\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n    if (i + eol === ((_c = syllablePositions[syllableIndex]) == null ? void 0 : _c[1])) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, (x) => x[0] >= start);\n  if (diffs[i][0] > start) {\n    --i;\n  }\n  let j = binarySearchFirstItem(diffs, (x) => x[0] >= end, i);\n  if (diffs[j][0] > end) {\n    --j;\n  }\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\nclass PDFFindController {\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    __privateAdd(this, _PDFFindController_instances);\n    __privateAdd(this, _state, null);\n    __privateAdd(this, _updateMatchesCountOnProgress, true);\n    __privateAdd(this, _visitedPagesCount, 0);\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    __privateSet(this, _updateMatchesCountOnProgress, updateMatchesCountOnProgress);\n    this.onIsPageVisible = null;\n    __privateMethod(this, _PDFFindController_instances, reset_fn).call(this);\n    eventBus._on(\"find\", __privateMethod(this, _PDFFindController_instances, onFind_fn).bind(this));\n    eventBus._on(\"findbarclose\", __privateMethod(this, _PDFFindController_instances, onFindBarClose_fn).bind(this));\n  }\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n  get pageMatches() {\n    return this._pageMatches;\n  }\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n  get selected() {\n    return this._selected;\n  }\n  get state() {\n    return __privateGet(this, _state);\n  }\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      __privateMethod(this, _PDFFindController_instances, reset_fn).call(this);\n    }\n    if (!pdfDocument) {\n      return;\n    }\n    this._pdfDocument = pdfDocument;\n    this._firstPageCapability.resolve();\n  }\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n}\n_state = new WeakMap();\n_updateMatchesCountOnProgress = new WeakMap();\n_visitedPagesCount = new WeakMap();\n_PDFFindController_instances = new WeakSet();\nonFind_fn = function(state) {\n  if (!state) {\n    return;\n  }\n  const pdfDocument = this._pdfDocument;\n  const {\n    type\n  } = state;\n  if (__privateGet(this, _state) === null || __privateMethod(this, _PDFFindController_instances, shouldDirtyMatch_fn).call(this, state)) {\n    this._dirtyMatch = true;\n  }\n  __privateSet(this, _state, state);\n  if (type !== \"highlightallchange\") {\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.PENDING);\n  }\n  this._firstPageCapability.promise.then(() => {\n    if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFFindController_instances, extractText_fn).call(this);\n    const findbarClosed = !this._highlightMatches;\n    const pendingTimeout = !!this._findTimeout;\n    if (this._findTimeout) {\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n    }\n    if (!type) {\n      this._findTimeout = setTimeout(() => {\n        __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n        this._findTimeout = null;\n      }, FIND_TIMEOUT);\n    } else if (this._dirtyMatch) {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n    } else if (type === \"again\") {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n      if (findbarClosed && __privateGet(this, _state).highlightAll) {\n        __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n      }\n    } else if (type === \"highlightallchange\") {\n      if (pendingTimeout) {\n        __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n      } else {\n        this._highlightMatches = true;\n      }\n      __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n    } else {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n    }\n  });\n};\nreset_fn = function() {\n  this._highlightMatches = false;\n  this._scrollMatches = false;\n  this._pdfDocument = null;\n  this._pageMatches = [];\n  this._pageMatchesLength = [];\n  __privateSet(this, _visitedPagesCount, 0);\n  __privateSet(this, _state, null);\n  this._selected = {\n    pageIdx: -1,\n    matchIdx: -1\n  };\n  this._offset = {\n    pageIdx: null,\n    matchIdx: null,\n    wrapped: false\n  };\n  this._extractTextPromises = [];\n  this._pageContents = [];\n  this._pageDiffs = [];\n  this._hasDiacritics = [];\n  this._matchesCountTotal = 0;\n  this._pagesToSearch = null;\n  this._pendingFindMatches = /* @__PURE__ */ new Set();\n  this._resumePageIdx = null;\n  this._dirtyMatch = false;\n  clearTimeout(this._findTimeout);\n  this._findTimeout = null;\n  this._firstPageCapability = Promise.withResolvers();\n};\nquery_get = function() {\n  const {\n    query\n  } = __privateGet(this, _state);\n  if (typeof query === \"string\") {\n    if (query !== this._rawQuery) {\n      this._rawQuery = query;\n      [this._normalizedQuery] = normalize(query);\n    }\n    return this._normalizedQuery;\n  }\n  return (query || []).filter((q) => !!q).map((q) => normalize(q)[0]);\n};\nshouldDirtyMatch_fn = function(state) {\n  var _a;\n  const newQuery = state.query, prevQuery = __privateGet(this, _state).query;\n  const newType = typeof newQuery, prevType = typeof prevQuery;\n  if (newType !== prevType) {\n    return true;\n  }\n  if (newType === \"string\") {\n    if (newQuery !== prevQuery) {\n      return true;\n    }\n  } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n    return true;\n  }\n  switch (state.type) {\n    case \"again\":\n      const pageNumber = this._selected.pageIdx + 1;\n      const linkService = this._linkService;\n      return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(((_a = this.onIsPageVisible) == null ? void 0 : _a.call(this, pageNumber)) ?? true);\n    case \"highlightallchange\":\n      return false;\n  }\n  return true;\n};\nisEntireWord_fn = function(content, startIdx, length) {\n  let match2 = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n  if (match2) {\n    const first = content.charCodeAt(startIdx);\n    const limit = match2[1].charCodeAt(0);\n    if (getCharacterType(first) === getCharacterType(limit)) {\n      return false;\n    }\n  }\n  match2 = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n  if (match2) {\n    const last = content.charCodeAt(startIdx + length - 1);\n    const limit = match2[1].charCodeAt(0);\n    if (getCharacterType(last) === getCharacterType(limit)) {\n      return false;\n    }\n  }\n  return true;\n};\ncalculateRegExpMatch_fn = function(query, entireWord, pageIndex, pageContent) {\n  const matches = this._pageMatches[pageIndex] = [];\n  const matchesLength = this._pageMatchesLength[pageIndex] = [];\n  if (!query) {\n    return;\n  }\n  const diffs = this._pageDiffs[pageIndex];\n  let match2;\n  while ((match2 = query.exec(pageContent)) !== null) {\n    if (entireWord && !__privateMethod(this, _PDFFindController_instances, isEntireWord_fn).call(this, pageContent, match2.index, match2[0].length)) {\n      continue;\n    }\n    const [matchPos, matchLen] = getOriginalIndex(diffs, match2.index, match2[0].length);\n    if (matchLen) {\n      matches.push(matchPos);\n      matchesLength.push(matchLen);\n    }\n  }\n};\nconvertToRegExpString_fn = function(query, hasDiacritics) {\n  const {\n    matchDiacritics\n  } = __privateGet(this, _state);\n  let isUnicode = false;\n  query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match2, p1, p2, p3, p4, p5) => {\n    if (p1) {\n      return `[ ]*\\\\${p1}[ ]*`;\n    }\n    if (p2) {\n      return `[ ]*${p2}[ ]*`;\n    }\n    if (p3) {\n      return \"[ ]+\";\n    }\n    if (matchDiacritics) {\n      return p4 || p5;\n    }\n    if (p4) {\n      return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n    }\n    if (hasDiacritics) {\n      isUnicode = true;\n      return `${p5}\\\\p{M}*`;\n    }\n    return p5;\n  });\n  const trailingSpaces = \"[ ]*\";\n  if (query.endsWith(trailingSpaces)) {\n    query = query.slice(0, query.length - trailingSpaces.length);\n  }\n  if (matchDiacritics) {\n    if (hasDiacritics) {\n      DIACRITICS_EXCEPTION_STR || (DIACRITICS_EXCEPTION_STR = String.fromCharCode(...DIACRITICS_EXCEPTION));\n      isUnicode = true;\n      query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n    }\n  }\n  return [isUnicode, query];\n};\ncalculateMatch_fn = function(pageIndex) {\n  let query = __privateGet(this, _PDFFindController_instances, query_get);\n  if (query.length === 0) {\n    return;\n  }\n  const {\n    caseSensitive,\n    entireWord\n  } = __privateGet(this, _state);\n  const pageContent = this._pageContents[pageIndex];\n  const hasDiacritics = this._hasDiacritics[pageIndex];\n  let isUnicode = false;\n  if (typeof query === \"string\") {\n    [isUnicode, query] = __privateMethod(this, _PDFFindController_instances, convertToRegExpString_fn).call(this, query, hasDiacritics);\n  } else {\n    query = query.sort().reverse().map((q) => {\n      const [isUnicodePart, queryPart] = __privateMethod(this, _PDFFindController_instances, convertToRegExpString_fn).call(this, q, hasDiacritics);\n      isUnicode || (isUnicode = isUnicodePart);\n      return `(${queryPart})`;\n    }).join(\"|\");\n  }\n  const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n  query = query ? new RegExp(query, flags) : null;\n  __privateMethod(this, _PDFFindController_instances, calculateRegExpMatch_fn).call(this, query, entireWord, pageIndex, pageContent);\n  if (__privateGet(this, _state).highlightAll) {\n    __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, pageIndex);\n  }\n  if (this._resumePageIdx === pageIndex) {\n    this._resumePageIdx = null;\n    __privateMethod(this, _PDFFindController_instances, nextPageMatch_fn).call(this);\n  }\n  const pageMatchesCount = this._pageMatches[pageIndex].length;\n  this._matchesCountTotal += pageMatchesCount;\n  if (__privateGet(this, _updateMatchesCountOnProgress)) {\n    if (pageMatchesCount > 0) {\n      __privateMethod(this, _PDFFindController_instances, updateUIResultsCount_fn).call(this);\n    }\n  } else if (++__privateWrapper(this, _visitedPagesCount)._ === this._linkService.pagesCount) {\n    __privateMethod(this, _PDFFindController_instances, updateUIResultsCount_fn).call(this);\n  }\n};\nextractText_fn = function() {\n  if (this._extractTextPromises.length > 0) {\n    return;\n  }\n  let deferred = Promise.resolve();\n  const textOptions = {\n    disableNormalization: true\n  };\n  for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n    const {\n      promise,\n      resolve\n    } = Promise.withResolvers();\n    this._extractTextPromises[i] = promise;\n    deferred = deferred.then(() => {\n      return this._pdfDocument.getPage(i + 1).then((pdfPage) => pdfPage.getTextContent(textOptions)).then((textContent) => {\n        const strBuf = [];\n        for (const textItem of textContent.items) {\n          strBuf.push(textItem.str);\n          if (textItem.hasEOL) {\n            strBuf.push(\"\\n\");\n          }\n        }\n        [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n        resolve();\n      }, (reason) => {\n        console.error(`Unable to get text content for page ${i + 1}`, reason);\n        this._pageContents[i] = \"\";\n        this._pageDiffs[i] = null;\n        this._hasDiacritics[i] = false;\n        resolve();\n      });\n    });\n  }\n};\nupdatePage_fn = function(index) {\n  if (this._scrollMatches && this._selected.pageIdx === index) {\n    this._linkService.page = index + 1;\n  }\n  this._eventBus.dispatch(\"updatetextlayermatches\", {\n    source: this,\n    pageIndex: index\n  });\n};\nupdateAllPages_fn = function() {\n  this._eventBus.dispatch(\"updatetextlayermatches\", {\n    source: this,\n    pageIndex: -1\n  });\n};\nnextMatch_fn = function() {\n  const previous = __privateGet(this, _state).findPrevious;\n  const currentPageIndex = this._linkService.page - 1;\n  const numPages = this._linkService.pagesCount;\n  this._highlightMatches = true;\n  if (this._dirtyMatch) {\n    this._dirtyMatch = false;\n    this._selected.pageIdx = this._selected.matchIdx = -1;\n    this._offset.pageIdx = currentPageIndex;\n    this._offset.matchIdx = null;\n    this._offset.wrapped = false;\n    this._resumePageIdx = null;\n    this._pageMatches.length = 0;\n    this._pageMatchesLength.length = 0;\n    __privateSet(this, _visitedPagesCount, 0);\n    this._matchesCountTotal = 0;\n    __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n    for (let i = 0; i < numPages; i++) {\n      if (this._pendingFindMatches.has(i)) {\n        continue;\n      }\n      this._pendingFindMatches.add(i);\n      this._extractTextPromises[i].then(() => {\n        this._pendingFindMatches.delete(i);\n        __privateMethod(this, _PDFFindController_instances, calculateMatch_fn).call(this, i);\n      });\n    }\n  }\n  const query = __privateGet(this, _PDFFindController_instances, query_get);\n  if (query.length === 0) {\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.FOUND);\n    return;\n  }\n  if (this._resumePageIdx) {\n    return;\n  }\n  const offset = this._offset;\n  this._pagesToSearch = numPages;\n  if (offset.matchIdx !== null) {\n    const numPageMatches = this._pageMatches[offset.pageIdx].length;\n    if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n      offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n      __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, true);\n      return;\n    }\n    __privateMethod(this, _PDFFindController_instances, advanceOffsetPage_fn).call(this, previous);\n  }\n  __privateMethod(this, _PDFFindController_instances, nextPageMatch_fn).call(this);\n};\nmatchesReady_fn = function(matches) {\n  const offset = this._offset;\n  const numMatches = matches.length;\n  const previous = __privateGet(this, _state).findPrevious;\n  if (numMatches) {\n    offset.matchIdx = previous ? numMatches - 1 : 0;\n    __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, true);\n    return true;\n  }\n  __privateMethod(this, _PDFFindController_instances, advanceOffsetPage_fn).call(this, previous);\n  if (offset.wrapped) {\n    offset.matchIdx = null;\n    if (this._pagesToSearch < 0) {\n      __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, false);\n      return true;\n    }\n  }\n  return false;\n};\nnextPageMatch_fn = function() {\n  if (this._resumePageIdx !== null) {\n    console.error(\"There can only be one pending page.\");\n  }\n  let matches = null;\n  do {\n    const pageIdx = this._offset.pageIdx;\n    matches = this._pageMatches[pageIdx];\n    if (!matches) {\n      this._resumePageIdx = pageIdx;\n      break;\n    }\n  } while (!__privateMethod(this, _PDFFindController_instances, matchesReady_fn).call(this, matches));\n};\nadvanceOffsetPage_fn = function(previous) {\n  const offset = this._offset;\n  const numPages = this._linkService.pagesCount;\n  offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n  offset.matchIdx = null;\n  this._pagesToSearch--;\n  if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n    offset.pageIdx = previous ? numPages - 1 : 0;\n    offset.wrapped = true;\n  }\n};\nupdateMatch_fn = function(found = false) {\n  let state = FindState.NOT_FOUND;\n  const wrapped = this._offset.wrapped;\n  this._offset.wrapped = false;\n  if (found) {\n    const previousPage = this._selected.pageIdx;\n    this._selected.pageIdx = this._offset.pageIdx;\n    this._selected.matchIdx = this._offset.matchIdx;\n    state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n    if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n      __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, previousPage);\n    }\n  }\n  __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, state, __privateGet(this, _state).findPrevious);\n  if (this._selected.pageIdx !== -1) {\n    this._scrollMatches = true;\n    __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, this._selected.pageIdx);\n  }\n};\nonFindBarClose_fn = function(evt) {\n  const pdfDocument = this._pdfDocument;\n  this._firstPageCapability.promise.then(() => {\n    if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n      return;\n    }\n    if (this._findTimeout) {\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n    }\n    if (this._resumePageIdx) {\n      this._resumePageIdx = null;\n      this._dirtyMatch = true;\n    }\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.FOUND);\n    this._highlightMatches = false;\n    __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n  });\n};\nrequestMatchesCount_fn = function() {\n  var _a;\n  const {\n    pageIdx,\n    matchIdx\n  } = this._selected;\n  let current = 0, total = this._matchesCountTotal;\n  if (matchIdx !== -1) {\n    for (let i = 0; i < pageIdx; i++) {\n      current += ((_a = this._pageMatches[i]) == null ? void 0 : _a.length) || 0;\n    }\n    current += matchIdx + 1;\n  }\n  if (current < 1 || current > total) {\n    current = total = 0;\n  }\n  return {\n    current,\n    total\n  };\n};\nupdateUIResultsCount_fn = function() {\n  this._eventBus.dispatch(\"updatefindmatchescount\", {\n    source: this,\n    matchesCount: __privateMethod(this, _PDFFindController_instances, requestMatchesCount_fn).call(this)\n  });\n};\nupdateUIState_fn = function(state, previous = false) {\n  var _a, _b;\n  if (!__privateGet(this, _updateMatchesCountOnProgress) && (__privateGet(this, _visitedPagesCount) !== this._linkService.pagesCount || state === FindState.PENDING)) {\n    return;\n  }\n  this._eventBus.dispatch(\"updatefindcontrolstate\", {\n    source: this,\n    state,\n    previous,\n    entireWord: ((_a = __privateGet(this, _state)) == null ? void 0 : _a.entireWord) ?? null,\n    matchesCount: __privateMethod(this, _PDFFindController_instances, requestMatchesCount_fn).call(this),\n    rawQuery: ((_b = __privateGet(this, _state)) == null ? void 0 : _b.query) ?? null\n  });\n};\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nconst _PDFLinkService = class _PDFLinkService {\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    __publicField(this, \"externalLinkEnabled\", true);\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let namedDest, explicitDest, pageNumber;\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n    if (!Array.isArray(explicitDest)) {\n      console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n    const [destRef] = explicitDest;\n    if (destRef && typeof destRef === \"object\") {\n      pageNumber = this.pdfDocument.cachedPageNumber(destRef);\n      if (!pageNumber) {\n        try {\n          pageNumber = await this.pdfDocument.getPageIndex(destRef) + 1;\n        } catch {\n          console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n          return;\n        }\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    }\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget, rel = this.externalLinkRel;\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n      link.onclick = () => false;\n    }\n    let targetStr = \"\";\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n    return this.getAnchorUrl(\"\");\n  }\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n  setHash(hash) {\n    var _a;\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber, dest;\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"), phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n      return;\n    }\n    dest = unescape(hash);\n    try {\n      dest = JSON.parse(dest);\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {\n    }\n    if (typeof dest === \"string\" || __privateMethod(_a = _PDFLinkService, _PDFLinkService_static, isValidExplicitDest_fn).call(_a, dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n  executeNamedAction(action) {\n    var _a, _b;\n    if (!this.pdfDocument) {\n      return;\n    }\n    switch (action) {\n      case \"GoBack\":\n        (_a = this.pdfHistory) == null ? void 0 : _a.back();\n        break;\n      case \"GoForward\":\n        (_b = this.pdfHistory) == null ? void 0 : _b.forward();\n        break;\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n    }\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n  async executeSetOCGState(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pdfDocument = this.pdfDocument, optionalContentConfig = await this.pdfViewer.optionalContentConfigPromise;\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n    optionalContentConfig.setOCGState(action);\n    this.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n  }\n};\n_PDFLinkService_static = new WeakSet();\nisValidExplicitDest_fn = function(dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!(typeof page === \"object\" && Number.isInteger(page == null ? void 0 : page.num) && Number.isInteger(page == null ? void 0 : page.gen)) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!(typeof zoom === \"object\" && typeof (zoom == null ? void 0 : zoom.name) === \"string\")) {\n    return false;\n  }\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (args.length !== 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return args.length === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (args.length !== 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (args.length !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n      return false;\n    }\n  }\n  return true;\n};\n__privateAdd(_PDFLinkService, _PDFLinkService_static);\nlet PDFLinkService = _PDFLinkService;\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {\n  }\n}\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  Outliner,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  renderTextLayer,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  updateTextLayer,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\nclass AnnotationLayerBuilder {\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    __privateAdd(this, _AnnotationLayerBuilder_instances);\n    __privateAdd(this, _onAppend, null);\n    __privateAdd(this, _eventAbortController, null);\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    __privateSet(this, _onAppend, onAppend);\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n  async render(viewport, intent = \"display\") {\n    var _a, _b;\n    if (this.div) {\n      if (this._cancelled || !this.annotationLayer) {\n        return;\n      }\n      this.annotationLayer.update({\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      return;\n    }\n    const [annotations, hasJSActions, fieldObjects] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n    if (this._cancelled) {\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationLayer\";\n    (_a = __privateGet(this, _onAppend)) == null ? void 0 : _a.call(this, div);\n    if (annotations.length === 0) {\n      this.hide();\n      return;\n    }\n    this.annotationLayer = new AnnotationLayer({\n      div,\n      accessibilityManager: this._accessibilityManager,\n      annotationCanvasMap: this._annotationCanvasMap,\n      annotationEditorUIManager: this._annotationEditorUIManager,\n      page: this.pdfPage,\n      viewport: viewport.clone({\n        dontFlip: true\n      })\n    });\n    await this.annotationLayer.render({\n      annotations,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects\n    });\n    if (this.linkService.isInPresentationMode) {\n      __privateMethod(this, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn).call(this, PresentationModeState.FULLSCREEN);\n    }\n    if (!__privateGet(this, _eventAbortController)) {\n      __privateSet(this, _eventAbortController, new AbortController());\n      (_b = this._eventBus) == null ? void 0 : _b._on(\"presentationmodechanged\", (evt) => {\n        __privateMethod(this, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn).call(this, evt.state);\n      }, {\n        signal: __privateGet(this, _eventAbortController).signal\n      });\n    }\n  }\n  cancel() {\n    var _a;\n    this._cancelled = true;\n    (_a = __privateGet(this, _eventAbortController)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController, null);\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\n_onAppend = new WeakMap();\n_eventAbortController = new WeakMap();\n_AnnotationLayerBuilder_instances = new WeakSet();\nupdatePresentationModeState_fn = function(state) {\n  if (!this.div) {\n    return;\n  }\n  let disableFormElements = false;\n  switch (state) {\n    case PresentationModeState.FULLSCREEN:\n      disableFormElements = true;\n      break;\n    case PresentationModeState.NORMAL:\n      break;\n    default:\n      return;\n  }\n  for (const section of this.div.childNodes) {\n    if (section.hasAttribute(\"data-internal-link\")) {\n      continue;\n    }\n    section.inert = disableFormElements;\n  }\n};\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\nclass DownloadManager {\n  constructor() {\n    __privateAdd(this, _openBlobUrls, /* @__PURE__ */ new WeakMap());\n  }\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n  download(data, url, filename, _options) {\n    let blobUrl;\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n    download(blobUrl, filename);\n  }\n}\n_openBlobUrls = new WeakMap();\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nasync function waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n    throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n  }\n  const {\n    promise,\n    resolve\n  } = Promise.withResolvers();\n  const ac = new AbortController();\n  function handler(type) {\n    ac.abort();\n    clearTimeout(timeout);\n    resolve(type);\n  }\n  const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n  target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n    signal: ac.signal\n  });\n  const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n  return promise;\n}\nclass EventBus {\n  constructor() {\n    __privateAdd(this, _listeners, /* @__PURE__ */ Object.create(null));\n  }\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options == null ? void 0 : options.once,\n      signal: options == null ? void 0 : options.signal\n    });\n  }\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n  dispatch(eventName, data) {\n    const eventListeners = __privateGet(this, _listeners)[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    let externalListeners;\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n      if (external) {\n        (externalListeners || (externalListeners = [])).push(listener);\n        continue;\n      }\n      listener(data);\n    }\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n      externalListeners = null;\n    }\n  }\n  _on(eventName, listener, options = null) {\n    var _a;\n    let rmAbort = null;\n    if ((options == null ? void 0 : options.signal) instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this._off(eventName, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    const eventListeners = (_a = __privateGet(this, _listeners))[eventName] || (_a[eventName] = []);\n    eventListeners.push({\n      listener,\n      external: (options == null ? void 0 : options.external) === true,\n      once: (options == null ? void 0 : options.once) === true,\n      rmAbort\n    });\n  }\n  _off(eventName, listener, options = null) {\n    var _a;\n    const eventListeners = __privateGet(this, _listeners)[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n      if (evt.listener === listener) {\n        (_a = evt.rmAbort) == null ? void 0 : _a.call(evt);\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\n_listeners = new WeakMap();\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n  valueOf() {\n    return this.value;\n  }\n}\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n}\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n}\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n}\nconst MAX_PLACEABLES = 100;\nconst FSI = \"⁨\";\nconst PDI = \"⁩\";\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = /* @__PURE__ */ Object.create(null);\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n  return {\n    positional,\n    named\n  };\n}\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n    case \"term\":\n      return resolveTermReference(scope, expr);\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n    default:\n      return new FluentNone();\n  }\n}\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n  if (attr) {\n    const attribute = message.attributes[attr];\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n  if (attr) {\n    const attribute = term.attributes[attr];\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved2 = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved2;\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n  return getDefault(scope, variants, star);\n}\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n    scope.placeables++;\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, max allowed is ${MAX_PLACEABLES}`);\n    }\n    if (useIsolating) {\n      result.push(FSI);\n    }\n    result.push(resolveExpression(scope, elem).toString(scope));\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n  return resolveComplexPattern(scope, value);\n}\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = /* @__PURE__ */ new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n    this.errors.push(error);\n  }\n  memoizeIntlObject(ctor, opts) {\n    let cache2 = this.bundle._intls.get(ctor);\n    if (!cache2) {\n      cache2 = {};\n      this.bundle._intls.set(ctor, cache2);\n    }\n    let id = JSON.stringify(opts);\n    if (!cache2[id]) {\n      cache2[id] = new ctor(this.bundle.locales, opts);\n    }\n    return cache2[id];\n  }\n}\nfunction values(opts, allowed) {\n  const unwrapped = /* @__PURE__ */ Object.create(null);\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n  return unwrapped;\n}\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), {\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\nconst cache = /* @__PURE__ */ new Map();\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n  if (memoizer === void 0) {\n    memoizer = /* @__PURE__ */ new Map();\n    cache.set(stringLocale, memoizer);\n  }\n  return memoizer;\n}\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = (v) => v\n  } = {}) {\n    this._terms = /* @__PURE__ */ new Map();\n    this._messages = /* @__PURE__ */ new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER,\n      DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n        this._messages.set(entry.id, entry);\n      }\n    }\n    return errors;\n  }\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n    let scope = new Scope(this, errors, args);\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n      throw err;\n    }\n  }\n}\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n        throw err;\n      }\n    }\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n    function match2(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n    function match1(re) {\n      return match2(re)[1];\n    }\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n    function parseAttributes() {\n      let attrs = /* @__PURE__ */ Object.create(null);\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n      return attrs;\n    }\n    function parsePattern() {\n      let first;\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n      return null;\n    }\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n        break;\n      }\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n      let baked = [];\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match2(RE_REFERENCE);\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n      return parseLiteral();\n    }\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n          case void 0:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n      return expr;\n    }\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n      if (count === 0) {\n        return null;\n      }\n      if (star === void 0) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n      return {\n        variants,\n        star\n      };\n    }\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n      throw new SyntaxError(\"Invalid expression\");\n    }\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match2(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match2(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 55295 || 57344 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case void 0:\n          return false;\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n      return false;\n    }\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n}\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n}\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n  overlayAttributes(translation, element);\n}\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`);\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map((i) => i.trim()) : null;\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n  if (!fromElement.attributes) {\n    return;\n  }\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation but its type ${translatedChild.localName} didn't match the element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n  if (!allowed) {\n    return false;\n  }\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n  if (!allowed[elemName]) {\n    return false;\n  }\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n    return new this(iterable);\n  }\n}\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      async next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  async touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && (await last).done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter((r) => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n  async formatWithFallback(keys, method) {\n    const translations = [];\n    let hasAtLeastOneBundle = false;\n    for await (const bundle of this.bundles) {\n      hasAtLeastOneBundle = true;\n      const missingIds = keysFromBundle(method, bundle, keys, translations);\n      if (missingIds.size === 0) {\n        break;\n      }\n      if (typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const ids = Array.from(missingIds).join(\", \");\n        console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n      }\n    }\n    if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n      console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`);\n    }\n    return translations;\n  }\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n  async formatValue(id, args) {\n    const [val] = await this.formatValues([{\n      id,\n      args\n    }]);\n    return val;\n  }\n  handleEvent() {\n    this.onChange();\n  }\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n}\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n  return null;\n}\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n  let attrNames = Object.keys(message.attributes);\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n  return formatted;\n}\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = /* @__PURE__ */ new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== void 0) {\n      return;\n    }\n    let message = bundle.getMessage(id);\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = /* @__PURE__ */ new Set();\n    this.pendingrAF = null;\n    this.pendingElements = /* @__PURE__ */ new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n  onChange(eager = false) {\n    super.onChange(eager);\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n    return element;\n  }\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver((mutations) => this.translateMutations(mutations));\n    }\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n    this.resumeObserving();\n    return false;\n  }\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map((root) => this.translateFragment(root)));\n  }\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n          break;\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n          break;\n      }\n    }\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n  async translateElements(elements) {\n    if (!elements.length) {\n      return void 0;\n    }\n    const keys = elements.map(this.getKeysForElement);\n    const translations = await this.formatMessages(keys);\n    return this.applyTranslations(elements, translations);\n  }\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== void 0) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n    this.resumeObserving();\n  }\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n    return nodes;\n  }\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n}\nconst _L10n = class _L10n {\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    __privateAdd(this, _dir);\n    __privateAdd(this, _elements, /* @__PURE__ */ new Set());\n    __privateAdd(this, _lang);\n    __privateAdd(this, _l10n);\n    var _a, _b;\n    __privateSet(this, _lang, __privateMethod(_a = _L10n, _L10n_static, fixupLangCode_fn).call(_a, lang));\n    __privateSet(this, _l10n, l10n);\n    __privateSet(this, _dir, isRTL ?? __privateMethod(_b = _L10n, _L10n_static, isRTL_fn).call(_b, __privateGet(this, _lang)) ? \"rtl\" : \"ltr\");\n  }\n  _setL10n(l10n) {\n    __privateSet(this, _l10n, l10n);\n  }\n  getLanguage() {\n    return __privateGet(this, _lang);\n  }\n  getDirection() {\n    return __privateGet(this, _dir);\n  }\n  async get(ids, args = null, fallback) {\n    if (Array.isArray(ids)) {\n      ids = ids.map((id) => ({\n        id\n      }));\n      const messages2 = await __privateGet(this, _l10n).formatMessages(ids);\n      return messages2.map((message) => message.value);\n    }\n    const messages = await __privateGet(this, _l10n).formatMessages([{\n      id: ids,\n      args\n    }]);\n    return (messages == null ? void 0 : messages[0].value) || fallback;\n  }\n  async translate(element) {\n    __privateGet(this, _elements).add(element);\n    try {\n      __privateGet(this, _l10n).connectRoot(element);\n      await __privateGet(this, _l10n).translateRoots();\n    } catch {\n    }\n  }\n  async destroy() {\n    for (const element of __privateGet(this, _elements)) {\n      __privateGet(this, _l10n).disconnectRoot(element);\n    }\n    __privateGet(this, _elements).clear();\n    __privateGet(this, _l10n).pauseObserving();\n  }\n  pause() {\n    __privateGet(this, _l10n).pauseObserving();\n  }\n  resume() {\n    __privateGet(this, _l10n).resumeObserving();\n  }\n};\n_dir = new WeakMap();\n_elements = new WeakMap();\n_lang = new WeakMap();\n_l10n = new WeakMap();\n_L10n_static = new WeakSet();\nfixupLangCode_fn = function(langCode) {\n  langCode = (langCode == null ? void 0 : langCode.toLowerCase()) || \"en-us\";\n  const PARTIAL_LANG_CODES = {\n    en: \"en-us\",\n    es: \"es-es\",\n    fy: \"fy-nl\",\n    ga: \"ga-ie\",\n    gu: \"gu-in\",\n    hi: \"hi-in\",\n    hy: \"hy-am\",\n    nb: \"nb-no\",\n    ne: \"ne-np\",\n    nn: \"nn-no\",\n    pa: \"pa-in\",\n    pt: \"pt-pt\",\n    sv: \"sv-se\",\n    zh: \"zh-cn\"\n  };\n  return PARTIAL_LANG_CODES[langCode] || langCode;\n};\nisRTL_fn = function(lang) {\n  const shortCode = lang.split(\"-\", 1)[0];\n  return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n};\n__privateAdd(_L10n, _L10n_static);\nlet L10n = _L10n;\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n  return bundle;\n}\nconst _genericl10n_GenericL10n = class _genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? __privateMethod(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static, generateBundlesFallback_fn).bind(_genericl10n_GenericL10n, this.getLanguage()) : __privateMethod(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static, generateBundles_fn).bind(_genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n};\n_genericl10n_GenericL10n_static = new WeakSet();\ngenerateBundles_fn = async function* (defaultLang, baseLang) {\n  const {\n    baseURL,\n    paths\n  } = await __privateMethod(this, _genericl10n_GenericL10n_static, getPaths_fn).call(this);\n  const langs = [baseLang];\n  if (defaultLang !== baseLang) {\n    const shortLang = baseLang.split(\"-\", 1)[0];\n    if (shortLang !== baseLang) {\n      langs.push(shortLang);\n    }\n    langs.push(defaultLang);\n  }\n  for (const lang of langs) {\n    const bundle = await __privateMethod(this, _genericl10n_GenericL10n_static, createBundle_fn).call(this, lang, baseURL, paths);\n    if (bundle) {\n      yield bundle;\n    } else if (lang === \"en-us\") {\n      yield __privateMethod(this, _genericl10n_GenericL10n_static, createBundleFallback_fn).call(this, lang);\n    }\n  }\n};\ncreateBundle_fn = async function(lang, baseURL, paths) {\n  const path = paths[lang];\n  if (!path) {\n    return null;\n  }\n  const url = new URL(path, baseURL);\n  const text = await fetchData(url, \"text\");\n  return createBundle(lang, text);\n};\ngetPaths_fn = async function() {\n  try {\n    const {\n      href\n    } = document.querySelector(`link[type=\"application/l10n\"]`);\n    const paths = await fetchData(href, \"json\");\n    return {\n      baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n      paths\n    };\n  } catch {\n  }\n  return {\n    baseURL: \"./\",\n    paths: /* @__PURE__ */ Object.create(null)\n  };\n};\ngenerateBundlesFallback_fn = async function* (lang) {\n  yield __privateMethod(this, _genericl10n_GenericL10n_static, createBundleFallback_fn).call(this, lang);\n};\ncreateBundleFallback_fn = async function(lang) {\n  const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties…\\npdfjs-document-properties-button-label = Document Properties…\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-string = { $date }, { $time }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing…\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document…\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-string = { $date }, { $time }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing…\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, “A young man sits down at a table to eat a meal”\\npdfjs-editor-resizer-label-top-left = Top left corner — resize\\npdfjs-editor-resizer-label-top-middle = Top middle — resize\\npdfjs-editor-resizer-label-top-right = Top right corner — resize\\npdfjs-editor-resizer-label-middle-right = Middle right — resize\\npdfjs-editor-resizer-label-bottom-right = Bottom right corner — resize\\npdfjs-editor-resizer-label-bottom-middle = Bottom middle — resize\\npdfjs-editor-resizer-label-bottom-left = Bottom left corner — resize\\npdfjs-editor-resizer-label-middle-left = Middle left — resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\";\n  return createBundle(lang, text);\n};\n__privateAdd(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static);\nlet genericl10n_GenericL10n = _genericl10n_GenericL10n;\nconst HASH_CHANGE_TIMEOUT = 1e3;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1e3;\nfunction getCurrentHash() {\n  return document.location.hash;\n}\nclass PDFHistory {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    __privateAdd(this, _PDFHistory_instances);\n    __privateAdd(this, _eventAbortController2, null);\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n      this.eventBus._on(\"pagesloaded\", (evt) => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    if (this._initialized) {\n      this.reset();\n    }\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    __privateMethod(this, _PDFHistory_instances, bindEvents_fn).call(this);\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n    if (!__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = __privateMethod(this, _PDFHistory_instances, parseCurrentHash_fn).call(this, true);\n      if (!hash || reInitialized || resetHistory) {\n        __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, null, true);\n        return;\n      }\n      __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    const destination = state.destination;\n    __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, state.uid, true);\n    if (destination.rotation !== void 0) {\n      this._initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n  reset() {\n    if (this._initialized) {\n      __privateMethod(this, _PDFHistory_instances, pageHide_fn).call(this);\n      this._initialized = false;\n      __privateMethod(this, _PDFHistory_instances, unbindEvents_fn).call(this);\n    }\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(`PDFHistory.push: \"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(`PDFHistory.push: \"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(`PDFHistory.push: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n    const hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushPage(pageNumber) {\n    var _a;\n    if (!this._initialized) {\n      return;\n    }\n    if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n    if (((_a = this._destination) == null ? void 0 : _a.page) === pageNumber) {\n      return;\n    }\n    if (this._popStateInProgress) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this);\n  }\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n}\n_eventAbortController2 = new WeakMap();\n_PDFHistory_instances = new WeakSet();\npushOrReplaceState_fn = function(destination, forceReplace = false) {\n  const shouldReplace = forceReplace || !this._destination;\n  const newState = {\n    fingerprint: this._fingerprint,\n    uid: shouldReplace ? this._uid : this._uid + 1,\n    destination\n  };\n  __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, newState.uid);\n  let newUrl;\n  if (this._updateUrl && (destination == null ? void 0 : destination.hash)) {\n    const baseUrl = document.location.href.split(\"#\", 1)[0];\n    if (!baseUrl.startsWith(\"file://\")) {\n      newUrl = `${baseUrl}#${destination.hash}`;\n    }\n  }\n  if (shouldReplace) {\n    window.history.replaceState(newState, \"\", newUrl);\n  } else {\n    window.history.pushState(newState, \"\", newUrl);\n  }\n};\ntryPushCurrentPosition_fn = function(temporary = false) {\n  if (!this._position) {\n    return;\n  }\n  let position = this._position;\n  if (temporary) {\n    position = Object.assign(/* @__PURE__ */ Object.create(null), this._position);\n    position.temporary = true;\n  }\n  if (!this._destination) {\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position);\n    return;\n  }\n  if (this._destination.temporary) {\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position, true);\n    return;\n  }\n  if (this._destination.hash === position.hash) {\n    return;\n  }\n  if (!this._destination.page && this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD) {\n    return;\n  }\n  let forceReplace = false;\n  if (this._destination.page >= position.first && this._destination.page <= position.page) {\n    if (this._destination.dest !== void 0 || !this._destination.first) {\n      return;\n    }\n    forceReplace = true;\n  }\n  __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position, forceReplace);\n};\nisValidPage_fn = function(val) {\n  return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n};\nisValidState_fn = function(state, checkReload = false) {\n  if (!state) {\n    return false;\n  }\n  if (state.fingerprint !== this._fingerprint) {\n    if (checkReload) {\n      if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n        return false;\n      }\n      const [perfEntry] = performance.getEntriesByType(\"navigation\");\n      if ((perfEntry == null ? void 0 : perfEntry.type) !== \"reload\") {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n  if (!Number.isInteger(state.uid) || state.uid < 0) {\n    return false;\n  }\n  if (state.destination === null || typeof state.destination !== \"object\") {\n    return false;\n  }\n  return true;\n};\nupdateInternalState_fn = function(destination, uid, removeTemporary = false) {\n  if (this._updateViewareaTimeout) {\n    clearTimeout(this._updateViewareaTimeout);\n    this._updateViewareaTimeout = null;\n  }\n  if (removeTemporary && (destination == null ? void 0 : destination.temporary)) {\n    delete destination.temporary;\n  }\n  this._destination = destination;\n  this._uid = uid;\n  this._maxUid = Math.max(this._maxUid, uid);\n  this._numPositionUpdates = 0;\n};\nparseCurrentHash_fn = function(checkNameddest = false) {\n  const hash = unescape(getCurrentHash()).substring(1);\n  const params = parseQueryString(hash);\n  const nameddest = params.get(\"nameddest\") || \"\";\n  let page = params.get(\"page\") | 0;\n  if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, page) || checkNameddest && nameddest.length > 0) {\n    page = null;\n  }\n  return {\n    hash,\n    page,\n    rotation: this.linkService.rotation\n  };\n};\nupdateViewarea_fn = function({\n  location\n}) {\n  if (this._updateViewareaTimeout) {\n    clearTimeout(this._updateViewareaTimeout);\n    this._updateViewareaTimeout = null;\n  }\n  this._position = {\n    hash: location.pdfOpenParams.substring(1),\n    page: this.linkService.page,\n    first: location.pageNumber,\n    rotation: location.rotation\n  };\n  if (this._popStateInProgress) {\n    return;\n  }\n  if (this._isPagesLoaded && this._destination && !this._destination.page) {\n    this._numPositionUpdates++;\n  }\n  {\n    this._updateViewareaTimeout = setTimeout(() => {\n      if (!this._popStateInProgress) {\n        __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this, true);\n      }\n      this._updateViewareaTimeout = null;\n    }, UPDATE_VIEWAREA_TIMEOUT);\n  }\n};\npopState_fn = function({\n  state\n}) {\n  const newHash = getCurrentHash(), hashChanged = this._currentHash !== newHash;\n  this._currentHash = newHash;\n  if (!state) {\n    this._uid++;\n    const {\n      hash,\n      page,\n      rotation\n    } = __privateMethod(this, _PDFHistory_instances, parseCurrentHash_fn).call(this);\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      hash,\n      page,\n      rotation\n    }, true);\n    return;\n  }\n  if (!__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state)) {\n    return;\n  }\n  this._popStateInProgress = true;\n  if (hashChanged) {\n    this._blockHashChange++;\n    waitOnEventOrTimeout({\n      target: window,\n      name: \"hashchange\",\n      delay: HASH_CHANGE_TIMEOUT\n    }).then(() => {\n      this._blockHashChange--;\n    });\n  }\n  const destination = state.destination;\n  __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, state.uid, true);\n  if (isValidRotation(destination.rotation)) {\n    this.linkService.rotation = destination.rotation;\n  }\n  if (destination.dest) {\n    this.linkService.goToDestination(destination.dest);\n  } else if (destination.hash) {\n    this.linkService.setHash(destination.hash);\n  } else if (destination.page) {\n    this.linkService.page = destination.page;\n  }\n  Promise.resolve().then(() => {\n    this._popStateInProgress = false;\n  });\n};\npageHide_fn = function() {\n  if (!this._destination || this._destination.temporary) {\n    __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this);\n  }\n};\nbindEvents_fn = function() {\n  if (__privateGet(this, _eventAbortController2)) {\n    return;\n  }\n  __privateSet(this, _eventAbortController2, new AbortController());\n  const {\n    signal\n  } = __privateGet(this, _eventAbortController2);\n  this.eventBus._on(\"updateviewarea\", __privateMethod(this, _PDFHistory_instances, updateViewarea_fn).bind(this), {\n    signal\n  });\n  window.addEventListener(\"popstate\", __privateMethod(this, _PDFHistory_instances, popState_fn).bind(this), {\n    signal\n  });\n  window.addEventListener(\"pagehide\", __privateMethod(this, _PDFHistory_instances, pageHide_fn).bind(this), {\n    signal\n  });\n};\nunbindEvents_fn = function() {\n  var _a;\n  (_a = __privateGet(this, _eventAbortController2)) == null ? void 0 : _a.abort();\n  __privateSet(this, _eventAbortController2, null);\n};\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\nclass AnnotationEditorLayerBuilder {\n  constructor(options) {\n    __privateAdd(this, _annotationLayer, null);\n    __privateAdd(this, _drawLayer, null);\n    __privateAdd(this, _onAppend2, null);\n    __privateAdd(this, _textLayer, null);\n    __privateAdd(this, _uiManager);\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    __privateSet(this, _uiManager, options.uiManager);\n    __privateSet(this, _annotationLayer, options.annotationLayer || null);\n    __privateSet(this, _textLayer, options.textLayer || null);\n    __privateSet(this, _drawLayer, options.drawLayer || null);\n    __privateSet(this, _onAppend2, options.onAppend || null);\n  }\n  async render(viewport, intent = \"display\") {\n    var _a;\n    if (intent !== \"display\") {\n      return;\n    }\n    if (this._cancelled) {\n      return;\n    }\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationEditorLayer\";\n    div.hidden = true;\n    div.dir = __privateGet(this, _uiManager).direction;\n    (_a = __privateGet(this, _onAppend2)) == null ? void 0 : _a.call(this, div);\n    this.annotationEditorLayer = new AnnotationEditorLayer({\n      uiManager: __privateGet(this, _uiManager),\n      div,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage.pageNumber - 1,\n      l10n: this.l10n,\n      viewport: clonedViewport,\n      annotationLayer: __privateGet(this, _annotationLayer),\n      textLayer: __privateGet(this, _textLayer),\n      drawLayer: __privateGet(this, _drawLayer)\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n    this.show();\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.div) {\n      return;\n    }\n    this.annotationEditorLayer.destroy();\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n    this.div.hidden = false;\n  }\n}\n_annotationLayer = new WeakMap();\n_drawLayer = new WeakMap();\n_onAppend2 = new WeakMap();\n_textLayer = new WeakMap();\n_uiManager = new WeakMap();\n{\n  var compatibilityParams = /* @__PURE__ */ Object.create(null);\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 1,\n  VIEWER: 2,\n  API: 4,\n  WORKER: 8,\n  PREFERENCE: 128\n};\nconst defaultOptions = {\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightEditor: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableML: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableStampEditor: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: navigator.language || \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = /* @__PURE__ */ Object.create(null);\n{\n  for (const name in compatibilityParams) {\n    userOptions[name] = compatibilityParams[name];\n  }\n}\nclass AppOptions {\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n  static get(name) {\n    var _a;\n    return userOptions[name] ?? ((_a = defaultOptions[name]) == null ? void 0 : _a.value) ?? void 0;\n  }\n  static getAll(kind = null, defaultOnly = false) {\n    const options = /* @__PURE__ */ Object.create(null);\n    for (const name in defaultOptions) {\n      const defaultOption = defaultOptions[name];\n      if (kind && !(kind & defaultOption.kind)) {\n        continue;\n      }\n      options[name] = defaultOnly ? defaultOption.value : userOptions[name] ?? defaultOption.value;\n    }\n    return options;\n  }\n  static set(name, value) {\n    userOptions[name] = value;\n  }\n  static setAll(options, init = false) {\n    if (init) {\n      if (this.get(\"disablePreferences\")) {\n        return;\n      }\n      for (const name in userOptions) {\n        if (compatibilityParams[name] !== void 0) {\n          continue;\n        }\n        console.warn('setAll: The Preferences may override manually set AppOptions; please use the \"disablePreferences\"-option in order to prevent that.');\n        break;\n      }\n    }\n    for (const name in options) {\n      userOptions[name] = options[name];\n    }\n  }\n  static remove(name) {\n    delete userOptions[name];\n    const val = compatibilityParams[name];\n    if (val !== void 0) {\n      userOptions[name] = val;\n    }\n  }\n}\nclass DrawLayerBuilder {\n  constructor(options) {\n    __privateAdd(this, _drawLayer2, null);\n    this.pageIndex = options.pageIndex;\n  }\n  async render(intent = \"display\") {\n    if (intent !== \"display\" || __privateGet(this, _drawLayer2) || this._cancelled) {\n      return;\n    }\n    __privateSet(this, _drawLayer2, new DrawLayer({\n      pageIndex: this.pageIndex\n    }));\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!__privateGet(this, _drawLayer2)) {\n      return;\n    }\n    __privateGet(this, _drawLayer2).destroy();\n    __privateSet(this, _drawLayer2, null);\n  }\n  setParent(parent) {\n    var _a;\n    (_a = __privateGet(this, _drawLayer2)) == null ? void 0 : _a.setParent(parent);\n  }\n  getDrawLayer() {\n    return __privateGet(this, _drawLayer2);\n  }\n}\n_drawLayer2 = new WeakMap();\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\nclass StructTreeLayerBuilder {\n  constructor() {\n    __privateAdd(this, _StructTreeLayerBuilder_instances);\n    __privateAdd(this, _treeDom);\n  }\n  get renderingDone() {\n    return __privateGet(this, _treeDom) !== void 0;\n  }\n  render(structTree) {\n    if (__privateGet(this, _treeDom) !== void 0) {\n      return __privateGet(this, _treeDom);\n    }\n    const treeDom = __privateMethod(this, _StructTreeLayerBuilder_instances, walk_fn).call(this, structTree);\n    treeDom == null ? void 0 : treeDom.classList.add(\"structTree\");\n    return __privateSet(this, _treeDom, treeDom);\n  }\n  hide() {\n    if (__privateGet(this, _treeDom) && !__privateGet(this, _treeDom).hidden) {\n      __privateGet(this, _treeDom).hidden = true;\n    }\n  }\n  show() {\n    var _a;\n    if ((_a = __privateGet(this, _treeDom)) == null ? void 0 : _a.hidden) {\n      __privateGet(this, _treeDom).hidden = false;\n    }\n  }\n}\n_treeDom = new WeakMap();\n_StructTreeLayerBuilder_instances = new WeakSet();\nsetAttributes_fn = function(structElement, htmlElement) {\n  const {\n    alt,\n    id,\n    lang\n  } = structElement;\n  if (alt !== void 0) {\n    htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n  }\n  if (id !== void 0) {\n    htmlElement.setAttribute(\"aria-owns\", id);\n  }\n  if (lang !== void 0) {\n    htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n  }\n};\nwalk_fn = function(node) {\n  if (!node) {\n    return null;\n  }\n  const element = document.createElement(\"span\");\n  if (\"role\" in node) {\n    const {\n      role\n    } = node;\n    const match2 = role.match(HEADING_PATTERN);\n    if (match2) {\n      element.setAttribute(\"role\", \"heading\");\n      element.setAttribute(\"aria-level\", match2[1]);\n    } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n      element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n    }\n  }\n  __privateMethod(this, _StructTreeLayerBuilder_instances, setAttributes_fn).call(this, node, element);\n  if (node.children) {\n    if (node.children.length === 1 && \"id\" in node.children[0]) {\n      __privateMethod(this, _StructTreeLayerBuilder_instances, setAttributes_fn).call(this, node.children[0], element);\n    } else {\n      for (const kid of node.children) {\n        element.append(__privateMethod(this, _StructTreeLayerBuilder_instances, walk_fn).call(this, kid));\n      }\n    }\n  }\n  return element;\n};\nconst _TextAccessibilityManager = class _TextAccessibilityManager {\n  constructor() {\n    __privateAdd(this, _TextAccessibilityManager_instances);\n    __privateAdd(this, _enabled, false);\n    __privateAdd(this, _textChildren, null);\n    __privateAdd(this, _textNodes, /* @__PURE__ */ new Map());\n    __privateAdd(this, _waitingElements, /* @__PURE__ */ new Map());\n  }\n  setTextMapping(textDivs) {\n    __privateSet(this, _textChildren, textDivs);\n  }\n  enable() {\n    if (__privateGet(this, _enabled)) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n    if (!__privateGet(this, _textChildren)) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    __privateSet(this, _enabled, true);\n    __privateSet(this, _textChildren, __privateGet(this, _textChildren).slice());\n    __privateGet(this, _textChildren).sort(__privateMethod(_TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn));\n    if (__privateGet(this, _textNodes).size > 0) {\n      const textChildren = __privateGet(this, _textChildren);\n      for (const [id, nodeIndex] of __privateGet(this, _textNodes)) {\n        const element = document.getElementById(id);\n        if (!element) {\n          __privateGet(this, _textNodes).delete(id);\n          continue;\n        }\n        __privateMethod(this, _TextAccessibilityManager_instances, addIdToAriaOwns_fn).call(this, id, textChildren[nodeIndex]);\n      }\n    }\n    for (const [element, isRemovable] of __privateGet(this, _waitingElements)) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n    __privateGet(this, _waitingElements).clear();\n  }\n  disable() {\n    if (!__privateGet(this, _enabled)) {\n      return;\n    }\n    __privateGet(this, _waitingElements).clear();\n    __privateSet(this, _textChildren, null);\n    __privateSet(this, _enabled, false);\n  }\n  removePointerInTextLayer(element) {\n    if (!__privateGet(this, _enabled)) {\n      __privateGet(this, _waitingElements).delete(element);\n      return;\n    }\n    const children = __privateGet(this, _textChildren);\n    if (!children || children.length === 0) {\n      return;\n    }\n    const {\n      id\n    } = element;\n    const nodeIndex = __privateGet(this, _textNodes).get(id);\n    if (nodeIndex === void 0) {\n      return;\n    }\n    const node = children[nodeIndex];\n    __privateGet(this, _textNodes).delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n    if (owns == null ? void 0 : owns.includes(id)) {\n      owns = owns.split(\" \").filter((x) => x !== id).join(\" \");\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n    if (!id) {\n      return null;\n    }\n    if (!__privateGet(this, _enabled)) {\n      __privateGet(this, _waitingElements).set(element, isRemovable);\n      return null;\n    }\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n    const children = __privateGet(this, _textChildren);\n    if (!children || children.length === 0) {\n      return null;\n    }\n    const index = binarySearchFirstItem(children, (node) => {\n      var _a;\n      return __privateMethod(_a = _TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn).call(_a, element, node) < 0;\n    });\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    __privateMethod(this, _TextAccessibilityManager_instances, addIdToAriaOwns_fn).call(this, id, child);\n    __privateGet(this, _textNodes).set(id, nodeIndex);\n    const parent = child.parentNode;\n    return (parent == null ? void 0 : parent.classList.contains(\"markedContent\")) ? parent.id : null;\n  }\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n    const children = Array.from(container.childNodes).filter((node) => node !== element);\n    if (children.length === 0) {\n      return id;\n    }\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, (node) => {\n      var _a;\n      return __privateMethod(_a = _TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn).call(_a, elementToCompare, node) < 0;\n    });\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n    return id;\n  }\n};\n_enabled = new WeakMap();\n_textChildren = new WeakMap();\n_textNodes = new WeakMap();\n_waitingElements = new WeakMap();\n_TextAccessibilityManager_static = new WeakSet();\ncompareElementPositions_fn = function(e1, e2) {\n  const rect1 = e1.getBoundingClientRect();\n  const rect2 = e2.getBoundingClientRect();\n  if (rect1.width === 0 && rect1.height === 0) {\n    return 1;\n  }\n  if (rect2.width === 0 && rect2.height === 0) {\n    return -1;\n  }\n  const top1 = rect1.y;\n  const bot1 = rect1.y + rect1.height;\n  const mid1 = rect1.y + rect1.height / 2;\n  const top2 = rect2.y;\n  const bot2 = rect2.y + rect2.height;\n  const mid2 = rect2.y + rect2.height / 2;\n  if (mid1 <= top2 && mid2 >= bot1) {\n    return -1;\n  }\n  if (mid2 <= top1 && mid1 >= bot2) {\n    return 1;\n  }\n  const centerX1 = rect1.x + rect1.width / 2;\n  const centerX2 = rect2.x + rect2.width / 2;\n  return centerX1 - centerX2;\n};\n_TextAccessibilityManager_instances = new WeakSet();\naddIdToAriaOwns_fn = function(id, node) {\n  const owns = node.getAttribute(\"aria-owns\");\n  if (!(owns == null ? void 0 : owns.includes(id))) {\n    node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n  }\n  node.removeAttribute(\"role\");\n};\n__privateAdd(_TextAccessibilityManager, _TextAccessibilityManager_static);\nlet TextAccessibilityManager = _TextAccessibilityManager;\nclass TextHighlighter {\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    __privateAdd(this, _eventAbortController3, null);\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n    this.enabled = true;\n    if (!__privateGet(this, _eventAbortController3)) {\n      __privateSet(this, _eventAbortController3, new AbortController());\n      this.eventBus._on(\"updatetextlayermatches\", (evt) => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: __privateGet(this, _eventAbortController3).signal\n      });\n    }\n    this._updateMatches();\n  }\n  disable() {\n    var _a;\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    (_a = __privateGet(this, _eventAbortController3)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController3, null);\n    this._updateMatches(true);\n  }\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0, iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n      const match2 = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      match2.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match2);\n    }\n    return result;\n  }\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: void 0\n    };\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n      div.append(node);\n      return 0;\n    }\n    let i0 = selectedMatchIdx, i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n    for (let i = i0; i < i1; i++) {\n      const match2 = matches[i];\n      const begin = match2.begin;\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match2.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n      prevEnd = end;\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n    for (const match2 of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match2.begin.divIdx);\n      for (let n = begin, end = match2.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n      clearedUntilDivIdx = match2.end.divIdx + 1;\n    }\n    if (!(findController == null ? void 0 : findController.highlightMatches) || reset) {\n      return;\n    }\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n    this._renderMatches(this.matches);\n  }\n}\n_eventAbortController3 = new WeakMap();\nconst _TextLayerBuilder = class _TextLayerBuilder {\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    __privateAdd(this, _TextLayerBuilder_instances);\n    __privateAdd(this, _enablePermissions, false);\n    __privateAdd(this, _onAppend3, null);\n    __privateAdd(this, _renderingDone, false);\n    __privateAdd(this, _textLayer2, null);\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    __privateSet(this, _enablePermissions, enablePermissions === true);\n    __privateSet(this, _onAppend3, onAppend);\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n  async render(viewport, textContentParams = null) {\n    var _a, _b, _c, _d, _e;\n    if (__privateGet(this, _renderingDone) && __privateGet(this, _textLayer2)) {\n      __privateGet(this, _textLayer2).update({\n        viewport,\n        onBefore: this.hide.bind(this)\n      });\n      this.show();\n      return;\n    }\n    this.cancel();\n    __privateSet(this, _textLayer2, new TextLayer({\n      textContentSource: this.pdfPage.streamTextContent(textContentParams || {\n        includeMarkedContent: true,\n        disableNormalization: true\n      }),\n      container: this.div,\n      viewport\n    }));\n    const {\n      textDivs,\n      textContentItemsStr\n    } = __privateGet(this, _textLayer2);\n    (_a = this.highlighter) == null ? void 0 : _a.setTextMapping(textDivs, textContentItemsStr);\n    (_b = this.accessibilityManager) == null ? void 0 : _b.setTextMapping(textDivs);\n    await __privateGet(this, _textLayer2).render();\n    __privateSet(this, _renderingDone, true);\n    const endOfContent = document.createElement(\"div\");\n    endOfContent.className = \"endOfContent\";\n    this.div.append(endOfContent);\n    __privateMethod(this, _TextLayerBuilder_instances, bindMouse_fn).call(this, endOfContent);\n    (_c = __privateGet(this, _onAppend3)) == null ? void 0 : _c.call(this, this.div);\n    (_d = this.highlighter) == null ? void 0 : _d.enable();\n    (_e = this.accessibilityManager) == null ? void 0 : _e.enable();\n  }\n  hide() {\n    var _a;\n    if (!this.div.hidden && __privateGet(this, _renderingDone)) {\n      (_a = this.highlighter) == null ? void 0 : _a.disable();\n      this.div.hidden = true;\n    }\n  }\n  show() {\n    var _a;\n    if (this.div.hidden && __privateGet(this, _renderingDone)) {\n      this.div.hidden = false;\n      (_a = this.highlighter) == null ? void 0 : _a.enable();\n    }\n  }\n  cancel() {\n    var _a, _b, _c, _d;\n    (_a = __privateGet(this, _textLayer2)) == null ? void 0 : _a.cancel();\n    __privateSet(this, _textLayer2, null);\n    (_b = this.highlighter) == null ? void 0 : _b.disable();\n    (_c = this.accessibilityManager) == null ? void 0 : _c.disable();\n    __privateMethod(_d = _TextLayerBuilder, _TextLayerBuilder_static, removeGlobalSelectionListener_fn).call(_d, this.div);\n  }\n};\n_enablePermissions = new WeakMap();\n_onAppend3 = new WeakMap();\n_renderingDone = new WeakMap();\n_textLayer2 = new WeakMap();\n_textLayers = new WeakMap();\n_selectionChangeAbortController = new WeakMap();\n_TextLayerBuilder_instances = new WeakSet();\nbindMouse_fn = function(end) {\n  var _a;\n  const {\n    div\n  } = this;\n  div.addEventListener(\"mousedown\", (evt) => {\n    end.classList.add(\"active\");\n  });\n  div.addEventListener(\"copy\", (event) => {\n    if (!__privateGet(this, _enablePermissions)) {\n      const selection = document.getSelection();\n      event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  __privateGet(_TextLayerBuilder, _textLayers).set(div, end);\n  __privateMethod(_a = _TextLayerBuilder, _TextLayerBuilder_static, enableGlobalSelectionListener_fn).call(_a);\n};\n_TextLayerBuilder_static = new WeakSet();\nremoveGlobalSelectionListener_fn = function(textLayerDiv) {\n  var _a;\n  __privateGet(this, _textLayers).delete(textLayerDiv);\n  if (__privateGet(this, _textLayers).size === 0) {\n    (_a = __privateGet(this, _selectionChangeAbortController)) == null ? void 0 : _a.abort();\n    __privateSet(this, _selectionChangeAbortController, null);\n  }\n};\nenableGlobalSelectionListener_fn = function() {\n  if (__privateGet(this, _selectionChangeAbortController)) {\n    return;\n  }\n  __privateSet(this, _selectionChangeAbortController, new AbortController());\n  const {\n    signal\n  } = __privateGet(this, _selectionChangeAbortController);\n  const reset = (end, textLayer) => {\n    textLayer.append(end);\n    end.style.width = \"\";\n    end.style.height = \"\";\n    end.classList.remove(\"active\");\n  };\n  document.addEventListener(\"pointerup\", () => {\n    __privateGet(this, _textLayers).forEach(reset);\n  }, {\n    signal\n  });\n  var isFirefox, prevRange;\n  document.addEventListener(\"selectionchange\", () => {\n    const selection = document.getSelection();\n    if (selection.rangeCount === 0) {\n      __privateGet(this, _textLayers).forEach(reset);\n      return;\n    }\n    const activeTextLayers = /* @__PURE__ */ new Set();\n    for (let i = 0; i < selection.rangeCount; i++) {\n      const range2 = selection.getRangeAt(i);\n      for (const textLayerDiv of __privateGet(this, _textLayers).keys()) {\n        if (!activeTextLayers.has(textLayerDiv) && range2.intersectsNode(textLayerDiv)) {\n          activeTextLayers.add(textLayerDiv);\n        }\n      }\n    }\n    for (const [textLayerDiv, endDiv2] of __privateGet(this, _textLayers)) {\n      if (activeTextLayers.has(textLayerDiv)) {\n        endDiv2.classList.add(\"active\");\n      } else {\n        reset(endDiv2, textLayerDiv);\n      }\n    }\n    isFirefox ?? (isFirefox = getComputedStyle(__privateGet(this, _textLayers).values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\");\n    if (isFirefox) {\n      return;\n    }\n    const range = selection.getRangeAt(0);\n    const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n    let anchor = modifyStart ? range.startContainer : range.endContainer;\n    if (anchor.nodeType === Node.TEXT_NODE) {\n      anchor = anchor.parentNode;\n    }\n    const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n    const endDiv = __privateGet(this, _textLayers).get(parentTextLayer);\n    if (endDiv) {\n      endDiv.style.width = parentTextLayer.style.width;\n      endDiv.style.height = parentTextLayer.style.height;\n      anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n    }\n    prevRange = range.cloneRange();\n  }, {\n    signal\n  });\n};\n__privateAdd(_TextLayerBuilder, _TextLayerBuilder_static);\n__privateAdd(_TextLayerBuilder, _textLayers, /* @__PURE__ */ new Map());\n__privateAdd(_TextLayerBuilder, _selectionChangeAbortController, null);\nlet TextLayerBuilder = _TextLayerBuilder;\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters2 = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      this.div = document.createElement(\"div\");\n      parameters2.div = this.div;\n      return XfaLayer.render(parameters2);\n    }\n    const xfaHtml = await this.pdfPage.getXfa();\n    if (this._cancelled || !xfaHtml) {\n      return {\n        textDivs: []\n      };\n    }\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      xfaHtml,\n      annotationStorage: this.annotationStorage,\n      linkService: this.linkService,\n      intent\n    };\n    if (this.div) {\n      return XfaLayer.update(parameters);\n    }\n    this.div = document.createElement(\"div\");\n    parameters.div = this.div;\n    return XfaLayer.render(parameters);\n  }\n  cancel() {\n    this._cancelled = true;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n  get linkService() {\n    return new SimpleLinkService();\n  }\n};\nconst LAYERS_ORDER = /* @__PURE__ */ new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\nclass PDFPageView {\n  constructor(options) {\n    __privateAdd(this, _PDFPageView_instances);\n    __privateAdd(this, _annotationMode, AnnotationMode.ENABLE_FORMS);\n    __privateAdd(this, _enableHWA, false);\n    __privateAdd(this, _hasRestrictedScaling, false);\n    __privateAdd(this, _layerProperties, null);\n    __privateAdd(this, _loadingId, null);\n    __privateAdd(this, _previousRotation, null);\n    __privateAdd(this, _renderError, null);\n    __privateAdd(this, _renderingState, RenderingStates.INITIAL);\n    __privateAdd(this, _textLayerMode, TextLayerMode.ENABLE);\n    __privateAdd(this, _useThumbnailCanvas, {\n      directDrawing: true,\n      initialOptionalContent: true,\n      regularAnnotations: true\n    });\n    __privateAdd(this, _viewportMap, /* @__PURE__ */ new WeakMap());\n    __privateAdd(this, _layers, [null, null, null, null]);\n    var _a;\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    __privateSet(this, _layerProperties, options.layerProperties || DEFAULT_LAYER_PROPERTIES);\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    __privateSet(this, _textLayerMode, options.textLayerMode ?? TextLayerMode.ENABLE);\n    __privateSet(this, _annotationMode, options.annotationMode ?? AnnotationMode.ENABLE_FORMS);\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    __privateSet(this, _enableHWA, options.enableHWA || false);\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !((_a = this.renderingQueue) == null ? void 0 : _a.hasViewer());\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    container == null ? void 0 : container.append(div);\n    if (this._isStandalone) {\n      container == null ? void 0 : container.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then((optionalContentConfig) => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n          __privateGet(this, _useThumbnailCanvas).initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n  get renderingState() {\n    return __privateGet(this, _renderingState);\n  }\n  set renderingState(state) {\n    if (state === __privateGet(this, _renderingState)) {\n      return;\n    }\n    __privateSet(this, _renderingState, state);\n    if (__privateGet(this, _loadingId)) {\n      clearTimeout(__privateGet(this, _loadingId));\n      __privateSet(this, _loadingId, null);\n    }\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        __privateSet(this, _loadingId, setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          __privateSet(this, _loadingId, null);\n        }, 0));\n        break;\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n  setPdfPage(pdfPage) {\n    var _a, _b, _c, _d;\n    if (this._isStandalone && (((_a = this.pageColors) == null ? void 0 : _a.foreground) === \"CanvasText\" || ((_b = this.pageColors) == null ? void 0 : _b.background) === \"Canvas\")) {\n      (_c = this._container) == null ? void 0 : _c.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      (_d = this._container) == null ? void 0 : _d.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    this.reset();\n  }\n  destroy() {\n    var _a;\n    this.reset();\n    (_a = this.pdfPage) == null ? void 0 : _a.cleanup();\n  }\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: __privateGet(this, _layerProperties).findController\n    }));\n  }\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    __privateGet(this, _viewportMap).delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    var _a, _b, _c, _d, _e;\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes, zoomLayerNode = keepZoomLayer && this.zoomLayer || null, annotationLayerNode = keepAnnotationLayer && ((_a = this.annotationLayer) == null ? void 0 : _a.div) || null, annotationEditorLayerNode = keepAnnotationEditorLayer && ((_b = this.annotationEditorLayer) == null ? void 0 : _b.div) || null, xfaLayerNode = keepXfaLayer && ((_c = this.xfaLayer) == null ? void 0 : _c.div) || null, textLayerNode = keepTextLayer && ((_d = this.textLayer) == null ? void 0 : _d.div) || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n      node.remove();\n      const layerIndex = __privateGet(this, _layers).indexOf(node);\n      if (layerIndex >= 0) {\n        __privateGet(this, _layers)[layerIndex] = null;\n      }\n    }\n    div.removeAttribute(\"data-loaded\");\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n    (_e = this.structTreeLayer) == null ? void 0 : _e.hide();\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        __privateGet(this, _viewportMap).delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n  }\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    var _a;\n    this.scale = scale || this.scale;\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then((optionalContentConfig) => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n        __privateGet(this, _useThumbnailCanvas).initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n    __privateGet(this, _useThumbnailCanvas).directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    if (this._isStandalone) {\n      (_a = this._container) == null ? void 0 : _a.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n    if (this.canvas) {\n      let onlyCssZoom = false;\n      if (__privateGet(this, _hasRestrictedScaling)) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1e3;\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          __privateGet(this, _useThumbnailCanvas).directDrawing = false;\n        }\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n        if (postponeDrawing) {\n          return;\n        }\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: __privateGet(this, _renderError)\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    var _a;\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n    this.resume = null;\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      (_a = this._textHighlighter) == null ? void 0 : _a.disable();\n    }\n  }\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    var _a;\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n    const originalViewport = __privateGet(this, _viewportMap).get(target);\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1, scaleY = 1;\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationLayer_fn).call(this);\n    }\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        __privateMethod(this, _PDFPageView_instances, renderDrawLayer_fn).call(this);\n      }\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationEditorLayer_fn).call(this);\n    }\n    if (redrawXfaLayer && this.xfaLayer) {\n      __privateMethod(this, _PDFPageView_instances, renderXfaLayer_fn).call(this);\n    }\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        (_a = this.structTreeLayer) == null ? void 0 : _a.hide();\n      } else if (redrawTextLayer) {\n        __privateMethod(this, _PDFPageView_instances, renderTextLayer_fn).call(this);\n      }\n    }\n  }\n  get width() {\n    return this.viewport.width;\n  }\n  get height() {\n    return this.viewport.height;\n  }\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n  async draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n    const {\n      div,\n      l10n,\n      pageColors,\n      pdfPage,\n      viewport\n    } = this;\n    if (!pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      throw new Error(\"pdfPage is not loaded\");\n    }\n    this.renderingState = RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, canvasWrapper, \"canvasWrapper\");\n    if (!this.textLayer && __privateGet(this, _textLayerMode) !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n      this._accessibilityManager || (this._accessibilityManager = new TextAccessibilityManager());\n      this.textLayer = new TextLayerBuilder({\n        pdfPage,\n        highlighter: this._textHighlighter,\n        accessibilityManager: this._accessibilityManager,\n        enablePermissions: __privateGet(this, _textLayerMode) === TextLayerMode.ENABLE_PERMISSIONS,\n        onAppend: (textLayerDiv) => {\n          this.l10n.pause();\n          __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, textLayerDiv, \"textLayer\");\n          this.l10n.resume();\n        }\n      });\n    }\n    if (!this.annotationLayer && __privateGet(this, _annotationMode) !== AnnotationMode.DISABLE) {\n      const {\n        annotationStorage,\n        annotationEditorUIManager,\n        downloadManager,\n        enableScripting,\n        fieldObjectsPromise,\n        hasJSActionsPromise,\n        linkService\n      } = __privateGet(this, _layerProperties);\n      this._annotationCanvasMap || (this._annotationCanvasMap = /* @__PURE__ */ new Map());\n      this.annotationLayer = new AnnotationLayerBuilder({\n        pdfPage,\n        annotationStorage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: __privateGet(this, _annotationMode) === AnnotationMode.ENABLE_FORMS,\n        linkService,\n        downloadManager,\n        enableScripting,\n        hasJSActionsPromise,\n        fieldObjectsPromise,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager,\n        annotationEditorUIManager,\n        onAppend: (annotationLayerDiv) => {\n          __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, annotationLayerDiv, \"annotationLayer\");\n        }\n      });\n    }\n    const renderContinueCallback = (cont) => {\n      showCanvas == null ? void 0 : showCanvas(false);\n      if (this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = RenderingStates.PAUSED;\n        this.resume = () => {\n          this.renderingState = RenderingStates.RUNNING;\n          cont();\n        };\n        return;\n      }\n      cont();\n    };\n    const {\n      width,\n      height\n    } = viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    const hasHCM = !!((pageColors == null ? void 0 : pageColors.background) && (pageColors == null ? void 0 : pageColors.foreground));\n    let showCanvas = (isLastShow) => {\n      if (!hasHCM || isLastShow) {\n        canvas.hidden = false;\n        showCanvas = null;\n      }\n    };\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !__privateGet(this, _enableHWA)\n    });\n    const outputScale = this.outputScale = new OutputScale();\n    if (this.maxCanvasPixels === 0) {\n      const invScale = 1 / this.scale;\n      outputScale.sx *= invScale;\n      outputScale.sy *= invScale;\n      __privateSet(this, _hasRestrictedScaling, true);\n    } else if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = width * height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        __privateSet(this, _hasRestrictedScaling, true);\n      } else {\n        __privateSet(this, _hasRestrictedScaling, false);\n      }\n    }\n    const sfx = approximateFraction(outputScale.sx);\n    const sfy = approximateFraction(outputScale.sy);\n    canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n    canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n    const {\n      style\n    } = canvas;\n    style.width = floorToDivide(width, sfx[1]) + \"px\";\n    style.height = floorToDivide(height, sfy[1]) + \"px\";\n    __privateGet(this, _viewportMap).set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport,\n      annotationMode: __privateGet(this, _annotationMode),\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    const resultPromise = renderTask.promise.then(async () => {\n      var _a;\n      showCanvas == null ? void 0 : showCanvas(true);\n      await __privateMethod(this, _PDFPageView_instances, finishRenderTask_fn).call(this, renderTask);\n      __privateMethod(this, _PDFPageView_instances, renderTextLayer_fn).call(this);\n      if (this.annotationLayer) {\n        await __privateMethod(this, _PDFPageView_instances, renderAnnotationLayer_fn).call(this);\n      }\n      const {\n        annotationEditorUIManager\n      } = __privateGet(this, _layerProperties);\n      if (!annotationEditorUIManager) {\n        return;\n      }\n      this.drawLayer || (this.drawLayer = new DrawLayerBuilder({\n        pageIndex: this.id\n      }));\n      await __privateMethod(this, _PDFPageView_instances, renderDrawLayer_fn).call(this);\n      this.drawLayer.setParent(canvasWrapper);\n      if (!this.annotationEditorLayer) {\n        this.annotationEditorLayer = new AnnotationEditorLayerBuilder({\n          uiManager: annotationEditorUIManager,\n          pdfPage,\n          l10n,\n          accessibilityManager: this._accessibilityManager,\n          annotationLayer: (_a = this.annotationLayer) == null ? void 0 : _a.annotationLayer,\n          textLayer: this.textLayer,\n          drawLayer: this.drawLayer.getDrawLayer(),\n          onAppend: (annotationEditorLayerDiv) => {\n            __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, annotationEditorLayerDiv, \"annotationEditorLayer\");\n          }\n        });\n      }\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationEditorLayer_fn).call(this);\n    }, (error) => {\n      if (!(error instanceof RenderingCancelledException)) {\n        showCanvas == null ? void 0 : showCanvas(true);\n      }\n      return __privateMethod(this, _PDFPageView_instances, finishRenderTask_fn).call(this, renderTask, error);\n    });\n    if (pdfPage.isPureXfa) {\n      if (!this.xfaLayer) {\n        const {\n          annotationStorage,\n          linkService\n        } = __privateGet(this, _layerProperties);\n        this.xfaLayer = new XfaLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          linkService\n        });\n      }\n      __privateMethod(this, _PDFPageView_instances, renderXfaLayer_fn).call(this);\n    }\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = __privateGet(this, _useThumbnailCanvas);\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n}\n_annotationMode = new WeakMap();\n_enableHWA = new WeakMap();\n_hasRestrictedScaling = new WeakMap();\n_layerProperties = new WeakMap();\n_loadingId = new WeakMap();\n_previousRotation = new WeakMap();\n_renderError = new WeakMap();\n_renderingState = new WeakMap();\n_textLayerMode = new WeakMap();\n_useThumbnailCanvas = new WeakMap();\n_viewportMap = new WeakMap();\n_layers = new WeakMap();\n_PDFPageView_instances = new WeakSet();\naddLayer_fn = function(div, name) {\n  const pos = LAYERS_ORDER.get(name);\n  const oldDiv = __privateGet(this, _layers)[pos];\n  __privateGet(this, _layers)[pos] = div;\n  if (oldDiv) {\n    oldDiv.replaceWith(div);\n    return;\n  }\n  for (let i = pos - 1; i >= 0; i--) {\n    const layer = __privateGet(this, _layers)[i];\n    if (layer) {\n      layer.after(div);\n      return;\n    }\n  }\n  this.div.prepend(div);\n};\nsetDimensions_fn = function() {\n  const {\n    viewport\n  } = this;\n  if (this.pdfPage) {\n    if (__privateGet(this, _previousRotation) === viewport.rotation) {\n      return;\n    }\n    __privateSet(this, _previousRotation, viewport.rotation);\n  }\n  setLayerDimensions(this.div, viewport, true, false);\n};\ndispatchLayerRendered_fn = function(name, error) {\n  this.eventBus.dispatch(name, {\n    source: this,\n    pageNumber: this.id,\n    error\n  });\n};\nrenderAnnotationLayer_fn = async function() {\n  let error = null;\n  try {\n    await this.annotationLayer.render(this.viewport, \"display\");\n  } catch (ex) {\n    console.error(`#renderAnnotationLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"annotationlayerrendered\", error);\n  }\n};\nrenderAnnotationEditorLayer_fn = async function() {\n  let error = null;\n  try {\n    await this.annotationEditorLayer.render(this.viewport, \"display\");\n  } catch (ex) {\n    console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"annotationeditorlayerrendered\", error);\n  }\n};\nrenderDrawLayer_fn = async function() {\n  try {\n    await this.drawLayer.render(\"display\");\n  } catch (ex) {\n    console.error(`#renderDrawLayer: \"${ex}\".`);\n  }\n};\nrenderXfaLayer_fn = async function() {\n  var _a;\n  let error = null;\n  try {\n    const result = await this.xfaLayer.render(this.viewport, \"display\");\n    if ((result == null ? void 0 : result.textDivs) && this._textHighlighter) {\n      __privateMethod(this, _PDFPageView_instances, buildXfaTextContentItems_fn).call(this, result.textDivs);\n    }\n  } catch (ex) {\n    console.error(`#renderXfaLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    if ((_a = this.xfaLayer) == null ? void 0 : _a.div) {\n      this.l10n.pause();\n      __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, this.xfaLayer.div, \"xfaLayer\");\n      this.l10n.resume();\n    }\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"xfalayerrendered\", error);\n  }\n};\nrenderTextLayer_fn = async function() {\n  if (!this.textLayer) {\n    return;\n  }\n  let error = null;\n  try {\n    await this.textLayer.render(this.viewport);\n  } catch (ex) {\n    if (ex instanceof AbortException) {\n      return;\n    }\n    console.error(`#renderTextLayer: \"${ex}\".`);\n    error = ex;\n  }\n  __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"textlayerrendered\", error);\n  __privateMethod(this, _PDFPageView_instances, renderStructTreeLayer_fn).call(this);\n};\nrenderStructTreeLayer_fn = async function() {\n  var _a, _b, _c;\n  if (!this.textLayer) {\n    return;\n  }\n  this.structTreeLayer || (this.structTreeLayer = new StructTreeLayerBuilder());\n  const tree = await (!this.structTreeLayer.renderingDone ? this.pdfPage.getStructTree() : null);\n  const treeDom = (_a = this.structTreeLayer) == null ? void 0 : _a.render(tree);\n  if (treeDom) {\n    this.l10n.pause();\n    (_b = this.canvas) == null ? void 0 : _b.append(treeDom);\n    this.l10n.resume();\n  }\n  (_c = this.structTreeLayer) == null ? void 0 : _c.show();\n};\nbuildXfaTextContentItems_fn = async function(textDivs) {\n  const text = await this.pdfPage.getTextContent();\n  const items = [];\n  for (const item of text.items) {\n    items.push(item.str);\n  }\n  this._textHighlighter.setTextMapping(textDivs, items);\n  this._textHighlighter.enable();\n};\nfinishRenderTask_fn = async function(renderTask, error = null) {\n  if (renderTask === this.renderTask) {\n    this.renderTask = null;\n  }\n  if (error instanceof RenderingCancelledException) {\n    __privateSet(this, _renderError, null);\n    return;\n  }\n  __privateSet(this, _renderError, error);\n  this.renderingState = RenderingStates.FINISHED;\n  this._resetZoomLayer(true);\n  __privateGet(this, _useThumbnailCanvas).regularAnnotations = !renderTask.separateAnnots;\n  this.eventBus.dispatch(\"pagerendered\", {\n    source: this,\n    pageNumber: this.id,\n    cssTransform: false,\n    timestamp: performance.now(),\n    error: __privateGet(this, _renderError)\n  });\n  if (error) {\n    throw error;\n  }\n};\nasync function docProperties(pdfDocument) {\n  const url = \"\", baseUrl = url.split(\"#\", 1)[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n  return {\n    ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n    metadata: metadata == null ? void 0 : metadata.getRaw(),\n    authors: metadata == null ? void 0 : metadata.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import(\n        /*webpackIgnore: true*/\n        sandboxBundleSrc\n      );\n      sandbox.then((pdfjsSandbox) => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n}\nclass PDFScriptingManager {\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties: docProperties2 = null\n  }) {\n    __privateAdd(this, _PDFScriptingManager_instances);\n    __privateAdd(this, _closeCapability, null);\n    __privateAdd(this, _destroyCapability, null);\n    __privateAdd(this, _docProperties, null);\n    __privateAdd(this, _eventAbortController4, null);\n    __privateAdd(this, _eventBus, null);\n    __privateAdd(this, _externalServices, null);\n    __privateAdd(this, _pdfDocument, null);\n    __privateAdd(this, _pdfViewer, null);\n    __privateAdd(this, _ready, false);\n    __privateAdd(this, _scripting, null);\n    __privateAdd(this, _willPrintCapability, null);\n    __privateSet(this, _eventBus, eventBus);\n    __privateSet(this, _externalServices, externalServices);\n    __privateSet(this, _docProperties, docProperties2);\n  }\n  setViewer(pdfViewer) {\n    __privateSet(this, _pdfViewer, pdfViewer);\n  }\n  async setDocument(pdfDocument) {\n    var _a;\n    if (__privateGet(this, _pdfDocument)) {\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n    }\n    __privateSet(this, _pdfDocument, pdfDocument);\n    if (!pdfDocument) {\n      return;\n    }\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n    if (!objects && !docActions) {\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n      return;\n    }\n    try {\n      __privateSet(this, _scripting, __privateMethod(this, _PDFScriptingManager_instances, initScripting_fn).call(this));\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    const eventBus = __privateGet(this, _eventBus);\n    __privateSet(this, _eventAbortController4, new AbortController());\n    const {\n      signal\n    } = __privateGet(this, _eventAbortController4);\n    eventBus._on(\"updatefromsandbox\", (event) => {\n      if ((event == null ? void 0 : event.source) === window) {\n        __privateMethod(this, _PDFScriptingManager_instances, updateFromSandbox_fn).call(this, event.detail);\n      }\n    }, {\n      signal\n    });\n    eventBus._on(\"dispatcheventinsandbox\", (event) => {\n      var _a2;\n      (_a2 = __privateGet(this, _scripting)) == null ? void 0 : _a2.dispatchEventInSandbox(event.detail);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageClose_fn).call(this, previous);\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n      if (pageNumber !== __privateGet(this, _pdfViewer).currentPageNumber) {\n        return;\n      }\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagesdestroy\", async () => {\n      var _a2, _b;\n      await __privateMethod(this, _PDFScriptingManager_instances, dispatchPageClose_fn).call(this, __privateGet(this, _pdfViewer).currentPageNumber);\n      await ((_a2 = __privateGet(this, _scripting)) == null ? void 0 : _a2.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      }));\n      (_b = __privateGet(this, _closeCapability)) == null ? void 0 : _b.resolve();\n    }, {\n      signal\n    });\n    try {\n      const docProperties2 = await __privateGet(this, _docProperties).call(this, pdfDocument);\n      if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n        return;\n      }\n      await __privateGet(this, _scripting).createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: {\n          ...docProperties2,\n          actions: docActions\n        }\n      });\n      eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    await ((_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    }));\n    await __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, __privateGet(this, _pdfViewer).currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === __privateGet(this, _pdfDocument)) {\n        __privateSet(this, _ready, true);\n      }\n    });\n  }\n  async dispatchWillSave() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n  async dispatchDidSave() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n  async dispatchWillPrint() {\n    var _a;\n    if (!__privateGet(this, _scripting)) {\n      return;\n    }\n    await ((_a = __privateGet(this, _willPrintCapability)) == null ? void 0 : _a.promise);\n    __privateSet(this, _willPrintCapability, Promise.withResolvers());\n    try {\n      await __privateGet(this, _scripting).dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillPrint\"\n      });\n    } catch (ex) {\n      __privateGet(this, _willPrintCapability).resolve();\n      __privateSet(this, _willPrintCapability, null);\n      throw ex;\n    }\n    await __privateGet(this, _willPrintCapability).promise;\n  }\n  async dispatchDidPrint() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n  get destroyPromise() {\n    var _a;\n    return ((_a = __privateGet(this, _destroyCapability)) == null ? void 0 : _a.promise) || null;\n  }\n  get ready() {\n    return __privateGet(this, _ready);\n  }\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", /* @__PURE__ */ new Set());\n  }\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", /* @__PURE__ */ new Map());\n  }\n}\n_closeCapability = new WeakMap();\n_destroyCapability = new WeakMap();\n_docProperties = new WeakMap();\n_eventAbortController4 = new WeakMap();\n_eventBus = new WeakMap();\n_externalServices = new WeakMap();\n_pdfDocument = new WeakMap();\n_pdfViewer = new WeakMap();\n_ready = new WeakMap();\n_scripting = new WeakMap();\n_willPrintCapability = new WeakMap();\n_PDFScriptingManager_instances = new WeakSet();\nupdateFromSandbox_fn = async function(detail) {\n  var _a, _b;\n  const pdfViewer = __privateGet(this, _pdfViewer);\n  const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n  const {\n    id,\n    siblings,\n    command,\n    value\n  } = detail;\n  if (!id) {\n    switch (command) {\n      case \"clear\":\n        console.clear();\n        break;\n      case \"error\":\n        console.error(value);\n        break;\n      case \"layout\":\n        if (!isInPresentationMode) {\n          const modes = apiPageLayoutToViewerModes(value);\n          pdfViewer.spreadMode = modes.spreadMode;\n        }\n        break;\n      case \"page-num\":\n        pdfViewer.currentPageNumber = value + 1;\n        break;\n      case \"print\":\n        await pdfViewer.pagesPromise;\n        __privateGet(this, _eventBus).dispatch(\"print\", {\n          source: this\n        });\n        break;\n      case \"println\":\n        console.log(value);\n        break;\n      case \"zoom\":\n        if (!isInPresentationMode) {\n          pdfViewer.currentScaleValue = value;\n        }\n        break;\n      case \"SaveAs\":\n        __privateGet(this, _eventBus).dispatch(\"download\", {\n          source: this\n        });\n        break;\n      case \"FirstPage\":\n        pdfViewer.currentPageNumber = 1;\n        break;\n      case \"LastPage\":\n        pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n        break;\n      case \"NextPage\":\n        pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        pdfViewer.previousPage();\n        break;\n      case \"ZoomViewIn\":\n        if (!isInPresentationMode) {\n          pdfViewer.increaseScale();\n        }\n        break;\n      case \"ZoomViewOut\":\n        if (!isInPresentationMode) {\n          pdfViewer.decreaseScale();\n        }\n        break;\n      case \"WillPrintFinished\":\n        (_a = __privateGet(this, _willPrintCapability)) == null ? void 0 : _a.resolve();\n        __privateSet(this, _willPrintCapability, null);\n        break;\n    }\n    return;\n  }\n  if (isInPresentationMode && detail.focus) {\n    return;\n  }\n  delete detail.id;\n  delete detail.siblings;\n  const ids = siblings ? [id, ...siblings] : [id];\n  for (const elementId of ids) {\n    const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n    if (element) {\n      element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n        detail\n      }));\n    } else {\n      (_b = __privateGet(this, _pdfDocument)) == null ? void 0 : _b.annotationStorage.setValue(elementId, detail);\n    }\n  }\n};\ndispatchPageOpen_fn = async function(pageNumber, initialize = false) {\n  const pdfDocument = __privateGet(this, _pdfDocument), visitedPages = this._visitedPages;\n  if (initialize) {\n    __privateSet(this, _closeCapability, Promise.withResolvers());\n  }\n  if (!__privateGet(this, _closeCapability)) {\n    return;\n  }\n  const pageView = __privateGet(this, _pdfViewer).getPageView(pageNumber - 1);\n  if ((pageView == null ? void 0 : pageView.renderingState) !== RenderingStates.FINISHED) {\n    this._pageOpenPending.add(pageNumber);\n    return;\n  }\n  this._pageOpenPending.delete(pageNumber);\n  const actionsPromise = (async () => {\n    var _a, _b;\n    const actions = await (!visitedPages.has(pageNumber) ? (_a = pageView.pdfPage) == null ? void 0 : _a.getJSActions() : null);\n    if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n      return;\n    }\n    await ((_b = __privateGet(this, _scripting)) == null ? void 0 : _b.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageOpen\",\n      pageNumber,\n      actions\n    }));\n  })();\n  visitedPages.set(pageNumber, actionsPromise);\n};\ndispatchPageClose_fn = async function(pageNumber) {\n  var _a;\n  const pdfDocument = __privateGet(this, _pdfDocument), visitedPages = this._visitedPages;\n  if (!__privateGet(this, _closeCapability)) {\n    return;\n  }\n  if (this._pageOpenPending.has(pageNumber)) {\n    return;\n  }\n  const actionsPromise = visitedPages.get(pageNumber);\n  if (!actionsPromise) {\n    return;\n  }\n  visitedPages.set(pageNumber, null);\n  await actionsPromise;\n  if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n    return;\n  }\n  await ((_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n    id: \"page\",\n    name: \"PageClose\",\n    pageNumber\n  }));\n};\ninitScripting_fn = function() {\n  __privateSet(this, _destroyCapability, Promise.withResolvers());\n  if (__privateGet(this, _scripting)) {\n    throw new Error(\"#initScripting: Scripting already exists.\");\n  }\n  return __privateGet(this, _externalServices).createScripting();\n};\ndestroyScripting_fn = async function() {\n  var _a, _b, _c, _d;\n  if (!__privateGet(this, _scripting)) {\n    __privateSet(this, _pdfDocument, null);\n    (_a = __privateGet(this, _destroyCapability)) == null ? void 0 : _a.resolve();\n    return;\n  }\n  if (__privateGet(this, _closeCapability)) {\n    await Promise.race([__privateGet(this, _closeCapability).promise, new Promise((resolve) => {\n      setTimeout(resolve, 1e3);\n    })]).catch(() => {\n    });\n    __privateSet(this, _closeCapability, null);\n  }\n  __privateSet(this, _pdfDocument, null);\n  try {\n    await __privateGet(this, _scripting).destroySandbox();\n  } catch {\n  }\n  (_b = __privateGet(this, _willPrintCapability)) == null ? void 0 : _b.reject(new Error(\"Scripting destroyed.\"));\n  __privateSet(this, _willPrintCapability, null);\n  (_c = __privateGet(this, _eventAbortController4)) == null ? void 0 : _c.abort();\n  __privateSet(this, _eventAbortController4, null);\n  this._pageOpenPending.clear();\n  this._visitedPages.clear();\n  __privateSet(this, _scripting, null);\n  __privateSet(this, _ready, false);\n  (_d = __privateGet(this, _destroyCapability)) == null ? void 0 : _d.resolve();\n};\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", (event) => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n    options.externalServices || (options.externalServices = {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    });\n    options.docProperties || (options.docProperties = (pdfDocument) => docProperties(pdfDocument));\n    super(options);\n  }\n}\nconst CLEANUP_TIMEOUT = 3e4;\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n  renderHighestPriority(currentlyVisiblePages) {\n    var _a;\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    if (this.isThumbnailViewEnabled && ((_a = this.pdfThumbnailViewer) == null ? void 0 : _a.forceRendering())) {\n      return;\n    }\n    if (this.printing) {\n      return;\n    }\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views, numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return null;\n    }\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n    const firstId = visible.first.id, lastId = visible.last.id;\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n        const holeView = views[holeId - 1];\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n    return null;\n  }\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch((reason) => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n    return true;\n  }\n}\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 1e4,\n  FORCE_LAZY_PAGE_INIT: 5e3,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\nclass PDFPageViewBuffer {\n  constructor(size) {\n    __privateAdd(this, _PDFPageViewBuffer_instances);\n    __privateAdd(this, _buf, /* @__PURE__ */ new Set());\n    __privateAdd(this, _size, 0);\n    __privateSet(this, _size, size);\n  }\n  push(view) {\n    const buf = __privateGet(this, _buf);\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n    buf.add(view);\n    if (buf.size > __privateGet(this, _size)) {\n      __privateMethod(this, _PDFPageViewBuffer_instances, destroyFirstView_fn).call(this);\n    }\n  }\n  resize(newSize, idsToKeep = null) {\n    __privateSet(this, _size, newSize);\n    const buf = __privateGet(this, _buf);\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n    while (buf.size > __privateGet(this, _size)) {\n      __privateMethod(this, _PDFPageViewBuffer_instances, destroyFirstView_fn).call(this);\n    }\n  }\n  has(view) {\n    return __privateGet(this, _buf).has(view);\n  }\n  [Symbol.iterator]() {\n    return __privateGet(this, _buf).keys();\n  }\n}\n_buf = new WeakMap();\n_size = new WeakMap();\n_PDFPageViewBuffer_instances = new WeakSet();\ndestroyFirstView_fn = function() {\n  const firstView = __privateGet(this, _buf).keys().next().value;\n  firstView == null ? void 0 : firstView.destroy();\n  __privateGet(this, _buf).delete(firstView);\n};\nclass PDFViewer {\n  constructor(options) {\n    __privateAdd(this, _PDFViewer_instances);\n    __privateAdd(this, _buffer, null);\n    __privateAdd(this, _altTextManager, null);\n    __privateAdd(this, _annotationEditorHighlightColors, null);\n    __privateAdd(this, _annotationEditorMode, AnnotationEditorType.NONE);\n    __privateAdd(this, _annotationEditorUIManager, null);\n    __privateAdd(this, _annotationMode2, AnnotationMode.ENABLE_FORMS);\n    __privateAdd(this, _containerTopLeft, null);\n    __privateAdd(this, _enableHWA2, false);\n    __privateAdd(this, _enableHighlightFloatingButton, false);\n    __privateAdd(this, _enablePermissions2, false);\n    __privateAdd(this, _eventAbortController5, null);\n    __privateAdd(this, _mlManager, null);\n    __privateAdd(this, _getAllTextInProgress, false);\n    __privateAdd(this, _hiddenCopyElement, null);\n    __privateAdd(this, _interruptCopyCondition, false);\n    __privateAdd(this, _previousContainerHeight, 0);\n    __privateAdd(this, _resizeObserver, new ResizeObserver(__privateMethod(this, _PDFViewer_instances, resizeObserverCallback_fn).bind(this)));\n    __privateAdd(this, _scrollModePageState, null);\n    __privateAdd(this, _scaleTimeoutId, null);\n    __privateAdd(this, _textLayerMode2, TextLayerMode.ENABLE);\n    var _a, _b;\n    const viewerVersion = \"4.4.168\";\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    if (((_a = this.container) == null ? void 0 : _a.tagName) !== \"DIV\" || ((_b = this.viewer) == null ? void 0 : _b.tagName) !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n    __privateGet(this, _resizeObserver).observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    __privateSet(this, _altTextManager, options.altTextManager || null);\n    if (this.findController) {\n      this.findController.onIsPageVisible = (pageNumber) => this._getVisiblePages().ids.has(pageNumber);\n    }\n    this._scriptingManager = options.scriptingManager || null;\n    __privateSet(this, _textLayerMode2, options.textLayerMode ?? TextLayerMode.ENABLE);\n    __privateSet(this, _annotationMode2, options.annotationMode ?? AnnotationMode.ENABLE_FORMS);\n    __privateSet(this, _annotationEditorMode, options.annotationEditorMode ?? AnnotationEditorType.NONE);\n    __privateSet(this, _annotationEditorHighlightColors, options.annotationEditorHighlightColors || null);\n    __privateSet(this, _enableHighlightFloatingButton, options.enableHighlightFloatingButton === true);\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    __privateSet(this, _enablePermissions2, options.enablePermissions || false);\n    this.pageColors = options.pageColors || null;\n    __privateSet(this, _mlManager, options.mlManager || null);\n    __privateSet(this, _enableHWA2, options.enableHWA || false);\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n    const {\n      abortSignal\n    } = options;\n    abortSignal == null ? void 0 : abortSignal.addEventListener(\"abort\", () => {\n      __privateGet(this, _resizeObserver).disconnect();\n      __privateSet(this, _resizeObserver, null);\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n    __privateMethod(this, _PDFViewer_instances, updateContainerHeightCss_fn).call(this);\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n      if (!__privateGet(this, _buffer).has(pageView)) {\n        pdfPage == null ? void 0 : pdfPage.cleanup();\n      }\n    });\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n  get pagesCount() {\n    return this._pages.length;\n  }\n  getPageView(index) {\n    return this._pages[index];\n  }\n  getCachedPageViews() {\n    return new Set(__privateGet(this, _buffer));\n  }\n  get pageViewsReady() {\n    return this._pages.every((pageView) => pageView == null ? void 0 : pageView.pdfPage);\n  }\n  get renderForms() {\n    return __privateGet(this, _annotationMode2) === AnnotationMode.ENABLE_FORMS;\n  }\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    var _a;\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        __privateMethod(this, _PDFViewer_instances, resetCurrentPageView_fn).call(this);\n      }\n      return true;\n    }\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: ((_a = this._pageLabels) == null ? void 0 : _a[val - 1]) ?? null,\n      previous\n    });\n    if (resetCurrentPageView) {\n      __privateMethod(this, _PDFViewer_instances, resetCurrentPageView_fn).call(this);\n    }\n    return true;\n  }\n  get currentPageLabel() {\n    var _a;\n    return ((_a = this._pageLabels) == null ? void 0 : _a[this._currentPageNumber - 1]) ?? null;\n  }\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let page = val | 0;\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, val, {\n      noScroll: false\n    });\n  }\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, val, {\n      noScroll: false\n    });\n  }\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n    if (this._currentScaleValue) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return __privateGet(self, _annotationEditorUIManager);\n      },\n      get annotationStorage() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.annotationStorage;\n      },\n      get downloadManager() {\n        return self.downloadManager;\n      },\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n      get fieldObjectsPromise() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.getFieldObjects();\n      },\n      get findController() {\n        return self.findController;\n      },\n      get hasJSActionsPromise() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.hasJSActions();\n      },\n      get linkService() {\n        return self.linkService;\n      }\n    });\n  }\n  async getAllText() {\n    const texts = [];\n    const buffer = [];\n    for (let pageNum = 1, pagesCount = this.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n      if (__privateGet(this, _interruptCopyCondition)) {\n        return null;\n      }\n      buffer.length = 0;\n      const page = await this.pdfDocument.getPage(pageNum);\n      const {\n        items\n      } = await page.getTextContent();\n      for (const item of items) {\n        if (item.str) {\n          buffer.push(item.str);\n        }\n        if (item.hasEOL) {\n          buffer.push(\"\\n\");\n        }\n      }\n      texts.push(removeNullCharacters(buffer.join(\"\")));\n    }\n    return texts.join(\"\\n\");\n  }\n  setDocument(pdfDocument) {\n    var _a, _b;\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n      this._cancelRendering();\n      this._resetView();\n      (_a = this.findController) == null ? void 0 : _a.setDocument(null);\n      (_b = this._scriptingManager) == null ? void 0 : _b.setDocument(null);\n      if (__privateGet(this, _annotationEditorUIManager)) {\n        __privateGet(this, _annotationEditorUIManager).destroy();\n        __privateSet(this, _annotationEditorUIManager, null);\n      }\n    }\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = __privateGet(this, _enablePermissions2) ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    __privateSet(this, _eventAbortController5, new AbortController());\n    const {\n      signal\n    } = __privateGet(this, _eventAbortController5);\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {\n    });\n    const onBeforeDraw = (evt) => {\n      const pageView = this._pages[evt.pageNumber - 1];\n      if (!pageView) {\n        return;\n      }\n      __privateGet(this, _buffer).push(pageView);\n    };\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n    const onAfterDraw = (evt) => {\n      if (evt.cssTransform) {\n        return;\n      }\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      var _a2;\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n      this._firstPageCapability.resolve(firstPdfPage);\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = __privateMethod(this, _PDFViewer_instances, initializePermissions_fn).call(this, permissions);\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = __privateSet(this, _hiddenCopyElement, document.createElement(\"div\"));\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n      if (annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          __privateSet(this, _annotationEditorUIManager, new AnnotationEditorUIManager(this.container, viewer, __privateGet(this, _altTextManager), eventBus, pdfDocument, pageColors, __privateGet(this, _annotationEditorHighlightColors), __privateGet(this, _enableHighlightFloatingButton), __privateGet(this, _mlManager)));\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: __privateGet(this, _annotationEditorUIManager)\n          });\n          if (mode !== AnnotationEditorType.NONE) {\n            __privateGet(this, _annotationEditorUIManager).updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n      if ((pageColors == null ? void 0 : pageColors.foreground) === \"CanvasText\" || (pageColors == null ? void 0 : pageColors.background) === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: __privateGet(this, _enableHWA2)\n        });\n        this._pages.push(pageView);\n      }\n      (_a2 = this._pages[0]) == null ? void 0 : _a2.setPdfPage(firstPdfPage);\n      if (this._scrollMode === ScrollMode.PAGE) {\n        __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n      __privateMethod(this, _PDFViewer_instances, onePageRenderedOrForceFetch_fn).call(this, signal).then(async () => {\n        var _a3, _b2;\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        (_a3 = this.findController) == null ? void 0 : _a3.setDocument(pdfDocument);\n        (_b2 = this._scriptingManager) == null ? void 0 : _b2.setDocument(pdfDocument);\n        if (__privateGet(this, _hiddenCopyElement)) {\n          document.addEventListener(\"copy\", __privateMethod(this, _PDFViewer_instances, copyCallback_fn).bind(this, textLayerMode), {\n            signal\n          });\n        }\n        if (__privateGet(this, _annotationEditorUIManager)) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: __privateGet(this, _annotationEditorMode)\n          });\n        }\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount - 1;\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then((pdfPage) => {\n            const pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, (reason) => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch((reason) => {\n      console.error(\"Unable to initialize viewer\", reason);\n      this._pagesCapability.reject(reason);\n    });\n  }\n  setPageLabels(labels) {\n    var _a;\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(((_a = this._pageLabels) == null ? void 0 : _a[i]) ?? null);\n    }\n  }\n  _resetView() {\n    var _a, _b;\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    __privateSet(this, _buffer, new PDFPageViewBuffer(DEFAULT_CACHE_SIZE));\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    __privateSet(this, _scrollModePageState, {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    });\n    (_a = __privateGet(this, _eventAbortController5)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController5, null);\n    this.viewer.textContent = \"\";\n    this._updateScrollMode();\n    this.viewer.removeAttribute(\"lang\");\n    (_b = __privateGet(this, _hiddenCopyElement)) == null ? void 0 : _b.remove();\n    __privateSet(this, _hiddenCopyElement, null);\n  }\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n    const i = this._pageLabels.indexOf(label);\n    if (i < 0) {\n      return null;\n    }\n    return i + 1;\n  }\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n      return;\n    }\n    let x = 0, y = 0;\n    let width = 0, height = 0, widthScale, heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n        break;\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING, vPadding = VERTICAL_PADDING;\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n    if (scale === \"page-fit\" && !destArray[4]) {\n      __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView);\n      return;\n    }\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView, {\n      left,\n      top\n    });\n  }\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 1e4) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n  update() {\n    const visible = this._getVisiblePages();\n    const visiblePages = visible.views, numVisiblePages = visiblePages.length;\n    if (numVisiblePages === 0) {\n      return;\n    }\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    __privateGet(this, _buffer).resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n  focus() {\n    this.container.focus();\n  }\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? __privateGet(this, _scrollModePageState).pages : this._pages, horizontal = this._scrollMode === ScrollMode.HORIZONTAL, rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    const scrollAhead = __privateMethod(this, _PDFViewer_instances, getScrollAhead_fn).call(this, visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    if (pageView) {\n      __privateMethod(this, _PDFViewer_instances, ensurePdfPageLoaded_fn).call(this, pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map((pageView) => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n      if (initialOrientation === void 0) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n    return this._optionalContentConfigPromise;\n  }\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n  get scrollMode() {\n    return this._scrollMode;\n  }\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateScrollMode(this._currentPageNumber);\n  }\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode, viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n    if (scrollMode === ScrollMode.PAGE) {\n      __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  get spreadMode() {\n    return this._spreadMode;\n  }\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const viewer = this.viewer, pages = this._pages;\n    if (this._scrollMode === ScrollMode.PAGE) {\n      __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    } else {\n      viewer.textContent = \"\";\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n          spread.append(pages[i].div);\n        }\n      }\n    }\n    if (!pageNumber) {\n      return;\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED: {\n        const {\n          views\n        } = this._getVisiblePages(), pageLayout = /* @__PURE__ */ new Map();\n        for (const {\n          id,\n          y,\n          percent,\n          widthPercent\n        } of views) {\n          if (percent === 0 || widthPercent < 100) {\n            continue;\n          }\n          let yArray = pageLayout.get(y);\n          if (!yArray) {\n            pageLayout.set(y, yArray || (yArray = []));\n          }\n          yArray.push(id);\n        }\n        for (const yArray of pageLayout.values()) {\n          const currentIndex = yArray.indexOf(currentPageNumber);\n          if (currentIndex === -1) {\n            continue;\n          }\n          const numPages = yArray.length;\n          if (numPages === 1) {\n            break;\n          }\n          if (previous) {\n            for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n              const currentId = yArray[i], expectedId = yArray[i + 1] - 1;\n              if (currentId < expectedId) {\n                return currentPageNumber - expectedId;\n              }\n            }\n          } else {\n            for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n              const currentId = yArray[i], expectedId = yArray[i - 1] + 1;\n              if (currentId > expectedId) {\n                return expectedId - currentPageNumber;\n              }\n            }\n          }\n          if (previous) {\n            const firstId = yArray[0];\n            if (firstId < currentPageNumber) {\n              return currentPageNumber - firstId + 1;\n            }\n          } else {\n            const lastId = yArray[numPages - 1];\n            if (lastId > currentPageNumber) {\n              return lastId - currentPageNumber + 1;\n            }\n          }\n          break;\n        }\n        break;\n      }\n      case ScrollMode.HORIZONTAL: {\n        break;\n      }\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL: {\n        if (this._spreadMode === SpreadMode.NONE) {\n          break;\n        }\n        const parity = this._spreadMode - 1;\n        if (previous && currentPageNumber % 2 !== parity) {\n          break;\n        } else if (!previous && currentPageNumber % 2 === parity) {\n          break;\n        }\n        const {\n          views\n        } = this._getVisiblePages(), expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n        for (const {\n          id,\n          percent,\n          widthPercent\n        } of views) {\n          if (id !== expectedId) {\n            continue;\n          }\n          if (percent > 0 && widthPercent === 100) {\n            return 2;\n          }\n          break;\n        }\n        break;\n      }\n    }\n    return 1;\n  }\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber, pagesCount = this.pagesCount;\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    let newScale = this._currentScale;\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n  increaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: options.steps ?? 1\n    });\n  }\n  decreaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n  get containerTopLeft() {\n    return __privateGet(this, _containerTopLeft) || __privateSet(this, _containerTopLeft, [this.container.offsetTop, this.container.offsetLeft]);\n  }\n  get annotationEditorMode() {\n    return __privateGet(this, _annotationEditorUIManager) ? __privateGet(this, _annotationEditorMode) : AnnotationEditorType.DISABLE;\n  }\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!__privateGet(this, _annotationEditorUIManager)) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    if (__privateGet(this, _annotationEditorMode) === mode) {\n      return;\n    }\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateSet(this, _annotationEditorMode, mode);\n    this.eventBus.dispatch(\"annotationeditormodechanged\", {\n      source: this,\n      mode\n    });\n    __privateGet(this, _annotationEditorUIManager).updateMode(mode, editId, isFromKeyboard);\n  }\n  set annotationEditorParams({\n    type,\n    value\n  }) {\n    if (!__privateGet(this, _annotationEditorUIManager)) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    __privateGet(this, _annotationEditorUIManager).updateParams(type, value);\n  }\n  refresh(noUpdate = false, updateArgs = /* @__PURE__ */ Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n    if (__privateGet(this, _scaleTimeoutId) !== null) {\n      clearTimeout(__privateGet(this, _scaleTimeoutId));\n      __privateSet(this, _scaleTimeoutId, null);\n    }\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n}\n_buffer = new WeakMap();\n_altTextManager = new WeakMap();\n_annotationEditorHighlightColors = new WeakMap();\n_annotationEditorMode = new WeakMap();\n_annotationEditorUIManager = new WeakMap();\n_annotationMode2 = new WeakMap();\n_containerTopLeft = new WeakMap();\n_enableHWA2 = new WeakMap();\n_enableHighlightFloatingButton = new WeakMap();\n_enablePermissions2 = new WeakMap();\n_eventAbortController5 = new WeakMap();\n_mlManager = new WeakMap();\n_getAllTextInProgress = new WeakMap();\n_hiddenCopyElement = new WeakMap();\n_interruptCopyCondition = new WeakMap();\n_previousContainerHeight = new WeakMap();\n_resizeObserver = new WeakMap();\n_scrollModePageState = new WeakMap();\n_scaleTimeoutId = new WeakMap();\n_textLayerMode2 = new WeakMap();\n_PDFViewer_instances = new WeakSet();\ninitializePermissions_fn = function(permissions) {\n  const params = {\n    annotationEditorMode: __privateGet(this, _annotationEditorMode),\n    annotationMode: __privateGet(this, _annotationMode2),\n    textLayerMode: __privateGet(this, _textLayerMode2)\n  };\n  if (!permissions) {\n    return params;\n  }\n  if (!permissions.includes(PermissionFlag.COPY) && __privateGet(this, _textLayerMode2) === TextLayerMode.ENABLE) {\n    params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n  }\n  if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n    params.annotationEditorMode = AnnotationEditorType.DISABLE;\n  }\n  if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && __privateGet(this, _annotationMode2) === AnnotationMode.ENABLE_FORMS) {\n    params.annotationMode = AnnotationMode.ENABLE;\n  }\n  return params;\n};\nonePageRenderedOrForceFetch_fn = async function(signal) {\n  if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n    return;\n  }\n  const hiddenCapability = Promise.withResolvers();\n  function onVisibilityChange() {\n    if (document.visibilityState === \"hidden\") {\n      hiddenCapability.resolve();\n    }\n  }\n  document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n    signal\n  });\n  await Promise.race([this._onePageRenderedCapability.promise, hiddenCapability.promise]);\n  document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n};\ncopyCallback_fn = function(textLayerMode, event) {\n  const selection = document.getSelection();\n  const {\n    focusNode,\n    anchorNode\n  } = selection;\n  if (anchorNode && focusNode && selection.containsNode(__privateGet(this, _hiddenCopyElement))) {\n    if (__privateGet(this, _getAllTextInProgress) || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    __privateSet(this, _getAllTextInProgress, true);\n    const {\n      classList\n    } = this.viewer;\n    classList.add(\"copyAll\");\n    const ac = new AbortController();\n    window.addEventListener(\"keydown\", (ev) => __privateSet(this, _interruptCopyCondition, ev.key === \"Escape\"), {\n      signal: ac.signal\n    });\n    this.getAllText().then(async (text) => {\n      if (text !== null) {\n        await navigator.clipboard.writeText(text);\n      }\n    }).catch((reason) => {\n      console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n    }).finally(() => {\n      __privateSet(this, _getAllTextInProgress, false);\n      __privateSet(this, _interruptCopyCondition, false);\n      ac.abort();\n      classList.remove(\"copyAll\");\n    });\n    event.preventDefault();\n    event.stopPropagation();\n  }\n};\nensurePageViewVisible_fn = function() {\n  if (this._scrollMode !== ScrollMode.PAGE) {\n    throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n  }\n  const pageNumber = this._currentPageNumber, state = __privateGet(this, _scrollModePageState), viewer = this.viewer;\n  viewer.textContent = \"\";\n  state.pages.length = 0;\n  if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n    const pageView = this._pages[pageNumber - 1];\n    viewer.append(pageView.div);\n    state.pages.push(pageView);\n  } else {\n    const pageIndexSet = /* @__PURE__ */ new Set(), parity = this._spreadMode - 1;\n    if (parity === -1) {\n      pageIndexSet.add(pageNumber - 1);\n    } else if (pageNumber % 2 !== parity) {\n      pageIndexSet.add(pageNumber - 1);\n      pageIndexSet.add(pageNumber);\n    } else {\n      pageIndexSet.add(pageNumber - 2);\n      pageIndexSet.add(pageNumber - 1);\n    }\n    const spread = document.createElement(\"div\");\n    spread.className = \"spread\";\n    if (this.isInPresentationMode) {\n      const dummyPage = document.createElement(\"div\");\n      dummyPage.className = \"dummyPage\";\n      spread.append(dummyPage);\n    }\n    for (const i of pageIndexSet) {\n      const pageView = this._pages[i];\n      if (!pageView) {\n        continue;\n      }\n      spread.append(pageView.div);\n      state.pages.push(pageView);\n    }\n    viewer.append(spread);\n  }\n  state.scrollDown = pageNumber >= state.previousPageNumber;\n  state.previousPageNumber = pageNumber;\n};\nscrollIntoView_fn = function(pageView, pageSpot = null) {\n  const {\n    div,\n    id\n  } = pageView;\n  if (this._currentPageNumber !== id) {\n    this._setCurrentPageNumber(id);\n  }\n  if (this._scrollMode === ScrollMode.PAGE) {\n    __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    this.update();\n  }\n  if (!pageSpot && !this.isInPresentationMode) {\n    const left = div.offsetLeft + div.clientLeft, right = left + div.clientWidth;\n    const {\n      scrollLeft,\n      clientWidth\n    } = this.container;\n    if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n      pageSpot = {\n        left: 0,\n        top: 0\n      };\n    }\n  }\n  scrollIntoView(div, pageSpot);\n  if (!this._currentScaleValue && this._location) {\n    this._location = null;\n  }\n};\nisSameScale_fn = function(newScale) {\n  return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n};\nsetScaleUpdatePages_fn = function(newScale, newValue, {\n  noScroll = false,\n  preset = false,\n  drawingDelay = -1,\n  origin = null\n}) {\n  this._currentScaleValue = newValue.toString();\n  if (__privateMethod(this, _PDFViewer_instances, isSameScale_fn).call(this, newScale)) {\n    if (preset) {\n      this.eventBus.dispatch(\"scalechanging\", {\n        source: this,\n        scale: newScale,\n        presetValue: newValue\n      });\n    }\n    return;\n  }\n  this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n  const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1e3;\n  this.refresh(true, {\n    scale: newScale,\n    drawingDelay: postponeDrawing ? drawingDelay : -1\n  });\n  if (postponeDrawing) {\n    __privateSet(this, _scaleTimeoutId, setTimeout(() => {\n      __privateSet(this, _scaleTimeoutId, null);\n      this.refresh();\n    }, drawingDelay));\n  }\n  const previousScale = this._currentScale;\n  this._currentScale = newScale;\n  if (!noScroll) {\n    let page = this._currentPageNumber, dest;\n    if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n      page = this._location.pageNumber;\n      dest = [null, {\n        name: \"XYZ\"\n      }, this._location.left, this._location.top, null];\n    }\n    this.scrollPageIntoView({\n      pageNumber: page,\n      destArray: dest,\n      allowNegativeOffset: true\n    });\n    if (Array.isArray(origin)) {\n      const scaleDiff = newScale / previousScale - 1;\n      const [top, left] = this.containerTopLeft;\n      this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n      this.container.scrollTop += (origin[1] - top) * scaleDiff;\n    }\n  }\n  this.eventBus.dispatch(\"scalechanging\", {\n    source: this,\n    scale: newScale,\n    presetValue: preset ? newValue : void 0\n  });\n  if (this.defaultRenderingQueue) {\n    this.update();\n  }\n};\npageWidthScaleFactor_get = function() {\n  if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n    return 2;\n  }\n  return 1;\n};\nsetScale_fn = function(value, options) {\n  let scale = parseFloat(value);\n  if (scale > 0) {\n    options.preset = false;\n    __privateMethod(this, _PDFViewer_instances, setScaleUpdatePages_fn).call(this, scale, value, options);\n  } else {\n    const currentPage = this._pages[this._currentPageNumber - 1];\n    if (!currentPage) {\n      return;\n    }\n    let hPadding = SCROLLBAR_PADDING, vPadding = VERTICAL_PADDING;\n    if (this.isInPresentationMode) {\n      hPadding = vPadding = 4;\n      if (this._spreadMode !== SpreadMode.NONE) {\n        hPadding *= 2;\n      }\n    } else if (this.removePageBorders) {\n      hPadding = vPadding = 0;\n    } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n      [hPadding, vPadding] = [vPadding, hPadding];\n    }\n    const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / __privateGet(this, _PDFViewer_instances, pageWidthScaleFactor_get);\n    const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n    switch (value) {\n      case \"page-actual\":\n        scale = 1;\n        break;\n      case \"page-width\":\n        scale = pageWidthScale;\n        break;\n      case \"page-height\":\n        scale = pageHeightScale;\n        break;\n      case \"page-fit\":\n        scale = Math.min(pageWidthScale, pageHeightScale);\n        break;\n      case \"auto\":\n        const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n        scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n        break;\n      default:\n        console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n        return;\n    }\n    options.preset = true;\n    __privateMethod(this, _PDFViewer_instances, setScaleUpdatePages_fn).call(this, scale, value, options);\n  }\n};\nresetCurrentPageView_fn = function() {\n  const pageView = this._pages[this._currentPageNumber - 1];\n  if (this.isInPresentationMode) {\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n      noScroll: true\n    });\n  }\n  __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView);\n};\nensurePdfPageLoaded_fn = async function(pageView) {\n  if (pageView.pdfPage) {\n    return pageView.pdfPage;\n  }\n  try {\n    const pdfPage = await this.pdfDocument.getPage(pageView.id);\n    if (!pageView.pdfPage) {\n      pageView.setPdfPage(pdfPage);\n    }\n    return pdfPage;\n  } catch (reason) {\n    console.error(\"Unable to get page for page view\", reason);\n    return null;\n  }\n};\ngetScrollAhead_fn = function(visible) {\n  var _a, _b;\n  if (((_a = visible.first) == null ? void 0 : _a.id) === 1) {\n    return true;\n  } else if (((_b = visible.last) == null ? void 0 : _b.id) === this.pagesCount) {\n    return false;\n  }\n  switch (this._scrollMode) {\n    case ScrollMode.PAGE:\n      return __privateGet(this, _scrollModePageState).scrollDown;\n    case ScrollMode.HORIZONTAL:\n      return this.scroll.right;\n  }\n  return this.scroll.down;\n};\nupdateContainerHeightCss_fn = function(height = this.container.clientHeight) {\n  if (height !== __privateGet(this, _previousContainerHeight)) {\n    __privateSet(this, _previousContainerHeight, height);\n    docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n  }\n};\nresizeObserverCallback_fn = function(entries) {\n  for (const entry of entries) {\n    if (entry.target === this.container) {\n      __privateMethod(this, _PDFViewer_instances, updateContainerHeightCss_fn).call(this, Math.floor(entry.borderBoxSize[0].blockSize));\n      __privateSet(this, _containerTopLeft, null);\n      break;\n    }\n  }\n};\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n  set scrollMode(mode) {\n  }\n  _updateScrollMode() {\n  }\n  set spreadMode(mode) {\n  }\n  _updateSpreadMode() {\n  }\n}\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport {\n  __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder,\n  __webpack_exports__DownloadManager as DownloadManager,\n  __webpack_exports__EventBus as EventBus,\n  __webpack_exports__FindState as FindState,\n  __webpack_exports__GenericL10n as GenericL10n,\n  __webpack_exports__LinkTarget as LinkTarget,\n  __webpack_exports__PDFFindController as PDFFindController,\n  __webpack_exports__PDFHistory as PDFHistory,\n  __webpack_exports__PDFLinkService as PDFLinkService,\n  __webpack_exports__PDFPageView as PDFPageView,\n  __webpack_exports__PDFScriptingManager as PDFScriptingManager,\n  __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer,\n  __webpack_exports__PDFViewer as PDFViewer,\n  __webpack_exports__ProgressBar as ProgressBar,\n  __webpack_exports__RenderingStates as RenderingStates,\n  __webpack_exports__ScrollMode as ScrollMode,\n  __webpack_exports__SimpleLinkService as SimpleLinkService,\n  __webpack_exports__SpreadMode as SpreadMode,\n  __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder,\n  __webpack_exports__TextLayerBuilder as TextLayerBuilder,\n  __webpack_exports__XfaLayerBuilder as XfaLayerBuilder,\n  __webpack_exports__parseQueryString as parseQueryString\n};\n"],"names":["__defProp","__typeError","msg","__defNormalProp","obj","key","value","__publicField","__accessCheck","member","__privateGet","getter","__privateAdd","__privateSet","setter","__privateMethod","method","__privateWrapper","_classList","_disableAutoFetchTimeout","_percent","_style","_visible","_state","_updateMatchesCountOnProgress","_visitedPagesCount","_PDFFindController_instances","onFind_fn","reset_fn","query_get","shouldDirtyMatch_fn","isEntireWord_fn","calculateRegExpMatch_fn","convertToRegExpString_fn","calculateMatch_fn","extractText_fn","updatePage_fn","updateAllPages_fn","nextMatch_fn","matchesReady_fn","nextPageMatch_fn","advanceOffsetPage_fn","updateMatch_fn","onFindBarClose_fn","requestMatchesCount_fn","updateUIResultsCount_fn","updateUIState_fn","_PDFLinkService_static","isValidExplicitDest_fn","_onAppend","_eventAbortController","_AnnotationLayerBuilder_instances","updatePresentationModeState_fn","_openBlobUrls","_listeners","_dir","_elements","_lang","_l10n","_L10n_static","fixupLangCode_fn","isRTL_fn","_genericl10n_GenericL10n_static","generateBundles_fn","createBundle_fn","getPaths_fn","generateBundlesFallback_fn","createBundleFallback_fn","_eventAbortController2","_PDFHistory_instances","pushOrReplaceState_fn","tryPushCurrentPosition_fn","isValidPage_fn","isValidState_fn","updateInternalState_fn","parseCurrentHash_fn","updateViewarea_fn","popState_fn","pageHide_fn","bindEvents_fn","unbindEvents_fn","_annotationLayer","_drawLayer","_onAppend2","_textLayer","_uiManager","_drawLayer2","_treeDom","_StructTreeLayerBuilder_instances","setAttributes_fn","walk_fn","_enabled","_textChildren","_textNodes","_waitingElements","_TextAccessibilityManager_static","compareElementPositions_fn","_TextAccessibilityManager_instances","addIdToAriaOwns_fn","_eventAbortController3","_enablePermissions","_onAppend3","_renderingDone","_textLayer2","_textLayers","_selectionChangeAbortController","_TextLayerBuilder_instances","bindMouse_fn","_TextLayerBuilder_static","removeGlobalSelectionListener_fn","enableGlobalSelectionListener_fn","_annotationMode","_enableHWA","_hasRestrictedScaling","_layerProperties","_loadingId","_previousRotation","_renderError","_renderingState","_textLayerMode","_useThumbnailCanvas","_viewportMap","_layers","_PDFPageView_instances","addLayer_fn","setDimensions_fn","dispatchLayerRendered_fn","renderAnnotationLayer_fn","renderAnnotationEditorLayer_fn","renderDrawLayer_fn","renderXfaLayer_fn","renderTextLayer_fn","renderStructTreeLayer_fn","buildXfaTextContentItems_fn","finishRenderTask_fn","_closeCapability","_destroyCapability","_docProperties","_eventAbortController4","_eventBus","_externalServices","_pdfDocument","_pdfViewer","_ready","_scripting","_willPrintCapability","_PDFScriptingManager_instances","updateFromSandbox_fn","dispatchPageOpen_fn","dispatchPageClose_fn","initScripting_fn","destroyScripting_fn","_buf","_size","_PDFPageViewBuffer_instances","destroyFirstView_fn","_buffer","_altTextManager","_annotationEditorHighlightColors","_annotationEditorMode","_annotationEditorUIManager","_annotationMode2","_containerTopLeft","_enableHWA2","_enableHighlightFloatingButton","_enablePermissions2","_eventAbortController5","_mlManager","_getAllTextInProgress","_hiddenCopyElement","_interruptCopyCondition","_previousContainerHeight","_resizeObserver","_scrollModePageState","_scaleTimeoutId","_textLayerMode2","_PDFViewer_instances","initializePermissions_fn","onePageRenderedOrForceFetch_fn","copyCallback_fn","ensurePageViewVisible_fn","scrollIntoView_fn","isSameScale_fn","setScaleUpdatePages_fn","pageWidthScaleFactor_get","setScale_fn","resetCurrentPageView_fn","ensurePdfPageLoaded_fn","getScrollAhead_fn","updateContainerHeightCss_fn","resizeObserverCallback_fn","__webpack_require__","exports","definition","prop","__webpack_exports__","AnnotationLayerBuilder","DownloadManager","EventBus","FindState","genericl10n_GenericL10n","LinkTarget","PDFFindController","PDFHistory","PDFLinkService","PDFPageView","PDFScriptingManagerComponents","PDFSinglePageViewer","PDFViewer","ProgressBar","RenderingStates","ScrollMode","SimpleLinkService","SpreadMode","StructTreeLayerBuilder","TextLayerBuilder","XfaLayerBuilder","parseQueryString","DEFAULT_SCALE_VALUE","DEFAULT_SCALE","DEFAULT_SCALE_DELTA","MIN_SCALE","MAX_SCALE","UNKNOWN_SCALE","MAX_AUTO_SCALE","SCROLLBAR_PADDING","VERTICAL_PADDING","PresentationModeState","TextLayerMode","OutputScale","pixelRatio","scrollIntoView","element","spot","scrollMatches","parent","offsetY","offsetX","watchScroll","viewAreaElement","callback","abortSignal","debounceScroll","evt","rAF","currentX","lastX","state","currentY","lastY","query","params","InvisibleCharsRegExp","removeNullCharacters","str","replaceInvisible","m","binarySearchFirstItem","items","condition","start","minIndex","maxIndex","currentIndex","currentItem","approximateFraction","x","xinv","limit","x_","a","b","c","d","p","q","result","floorToDivide","div","backtrackBeforeAllVisibleElements","index","views","top","elt","pageTop","i","getVisibleElements","scrollEl","sortByVisibility","horizontal","rtl","bottom","left","right","isElementBottomAfterViewTop","view","isElementNextAfterViewHorizontally","elementLeft","elementRight","visible","ids","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","hiddenWidth","fractionHeight","fractionWidth","percent","first","last","pc","isValidRotation","angle","isValidScrollMode","mode","isValidSpreadMode","isPortraitOrientation","size","resolve","docStyle","clamp","v","min","max","bar","val","viewer","scrollbarWidth","delay","apiPageLayoutToViewerModes","layout","scrollMode","spreadMode","CharacterType","isAlphabeticalScript","charCode","isAscii","isAsciiAlpha","isAsciiDigit","isAsciiSpace","isHan","isKatakana","isHiragana","isHalfwidthKatakana","isThai","getCharacterType","NormalizeWithNFKC","getNormalizeWithNFKC","FIND_TIMEOUT","MATCH_SCROLL_OFFSET_TOP","MATCH_SCROLL_OFFSET_LEFT","CHARACTERS_TO_NORMALIZE","DIACRITICS_EXCEPTION","DIACRITICS_EXCEPTION_STR","DIACRITICS_REG_EXP","SPECIAL_CHARS_REG_EXP","NOT_DIACRITIC_FROM_END_REG_EXP","NOT_DIACRITIC_FROM_START_REG_EXP","SYLLABLES_REG_EXP","SYLLABLES_LENGTHS","FIRST_CHAR_SYLLABLES_REG_EXP","NFKC_CHARS_TO_NORMALIZE","noSyllablesRegExp","withSyllablesRegExp","normalize","text","syllablePositions","char","len","normalizationRegex","replace","toNormalizeWithNFKC","regexp","rawDiacriticsPositions","normalized","positions","rawDiacriticsIndex","syllableIndex","shift","shiftOrigin","eol","hasDiacritics","match2","p1","p2","p3","p4","p5","p6","p7","p8","_a","_b","_c","replacement","jj","j","hasTrailingDashEOL","newCharLen","getOriginalIndex","diffs","pos","end","oldStart","oldLen","linkService","eventBus","updateMatchesCountOnProgress","pdfDocument","selectedLeft","pageIndex","matchIndex","type","findbarClosed","pendingTimeout","newQuery","prevQuery","newType","pageNumber","content","startIdx","length","entireWord","pageContent","matches","matchesLength","matchPos","matchLen","matchDiacritics","isUnicode","trailingSpaces","caseSensitive","isUnicodePart","queryPart","flags","pageMatchesCount","deferred","textOptions","ii","promise","pdfPage","textContent","strBuf","textItem","reason","previous","currentPageIndex","numPages","offset","numPageMatches","numMatches","pageIdx","found","wrapped","previousPage","matchIdx","current","total","DEFAULT_LINK_REL","_PDFLinkService","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","baseUrl","pdfViewer","pdfHistory","dest","namedDest","explicitDest","destRef","link","url","newWindow","target","rel","targetStr","anchor","hash","phrase","zoomArgs","zoomArg","zoomArgNumber","action","optionalContentConfig","page","zoom","args","allowNull","arg","AbortException","AnnotationEditorLayer","AnnotationEditorParamsType","AnnotationEditorType","AnnotationEditorUIManager","AnnotationLayer","AnnotationMode","build","CMapCompressionType","ColorPicker","createValidAbsoluteUrl","DOMSVGFactory","DrawLayer","FeatureTest","fetchData","getDocument","getFilenameFromUrl","getPdfFilenameFromUrl","getXfaPageViewport","GlobalWorkerOptions","ImageKind","InvalidPDFException","isDataScheme","isPdfFile","MissingPDFException","noContextMenu","normalizeUnicode","OPS","Outliner","PasswordResponses","PDFDataRangeTransport","PDFDateString","PDFWorker","PermissionFlag","PixelsPerInch","RenderingCancelledException","renderTextLayer","setLayerDimensions","shadow","TextLayer","UnexpectedResponseException","updateTextLayer","Util","VerbosityLevel","version","XfaLayer","downloadManager","annotationStorage","imageResourcesPath","renderForms","enableScripting","hasJSActionsPromise","fieldObjectsPromise","annotationCanvasMap","accessibilityManager","annotationEditorUIManager","onAppend","viewport","intent","annotations","hasJSActions","fieldObjects","disableFormElements","section","download","blobUrl","filename","data","contentType","_options","WaitOnType","waitOnEventOrTimeout","name","ac","handler","timeout","evtMethod","eventName","listener","options","eventListeners","externalListeners","external","once","rmAbort","signal","onAbort","FluentType","FluentNone","scope","FluentNumber","opts","err","FluentDateTime","MAX_PLACEABLES","FSI","PDI","match","selector","category","getDefault","variants","star","resolvePattern","getArguments","positional","named","resolveExpression","expr","resolveVariableReference","resolveMessageReference","resolveTermReference","resolveFunctionReference","resolveSelectExpression","attr","message","attribute","id","term","resolved2","resolved","func","sel","variant","resolveComplexPattern","ptn","useIsolating","elem","Scope","bundle","errors","error","ctor","cache2","values","allowed","unwrapped","opt","NUMBER_ALLOWED","NUMBER","DATETIME_ALLOWED","DATETIME","cache","getMemoizerForLocale","locales","stringLocale","memoizer","FluentBundle","functions","transform","res","allowOverrides","entry","pattern","RE_MESSAGE_START","RE_ATTRIBUTE_START","RE_VARIANT_START","RE_NUMBER_LITERAL","RE_IDENTIFIER","RE_REFERENCE","RE_FUNCTION_NAME","RE_TEXT_RUN","RE_STRING_RUN","RE_STRING_ESCAPE","RE_UNICODE_ESCAPE","RE_LEADING_NEWLINES","RE_TRAILING_SPACES","RE_BLANK_LINES","RE_INDENT","TOKEN_BRACE_OPEN","TOKEN_BRACE_CLOSE","TOKEN_BRACKET_OPEN","TOKEN_BRACKET_CLOSE","TOKEN_PAREN_OPEN","TOKEN_ARROW","TOKEN_COLON","TOKEN_COMMA","TOKEN_BLANK","FluentResource","source","cursor","next","parseMessage","test","re","consumeChar","errorClass","consumeToken","match1","parsePattern","attributes","parseAttributes","attrs","parsePatternElements","indent","parseIndent","trim","elements","commonIndent","parsePlaceable","lastIndex","lastElement","baked","Indent","parseInlineExpression","parseVariants","sigil","parseArguments","parseLiteral","parseArgument","count","parseVariantKey","parseNumberLiteral","parseStringLiteral","fraction","precision","parseEscapeSequence","codepoint4","codepoint6","codepoint","makeIndent","blank","reOverlay","TEXT_LEVEL_ELEMENTS","LOCALIZABLE_ATTRIBUTES","translateElement","translation","templateElement","overlayChildNodes","overlayAttributes","fromFragment","toElement","childNode","sanitized","getNodeForNamedElement","isElementAllowed","createSanitizedElement","createTextNodeFromTextContent","hasAttribute","fromElement","explicitlyAllowed","isAttrNameLocalizable","sourceElement","translatedChild","childName","sourceChild","clone","shallowPopulateUsing","attrName","elemName","CachedIterable","iterable","CachedAsyncIterable","cached","cur","idx","Localization","resourceIds","generateBundles","eager","r","keys","translations","hasAtLeastOneBundle","missingIds","keysFromBundle","locale","messageFromBundle","valueFromBundle","formatted","attrNames","messageErrors","L10NID_ATTR_NAME","L10NARGS_ATTR_NAME","L10N_ELEMENT_QUERY","DOMLocalization","newRoot","root","mutations","roots","mutation","addedNode","frag","nodes","_L10n","lang","isRTL","l10n","fallback","messages","langCode","shortCode","L10n","createBundle","resource","_genericl10n_GenericL10n","defaultLang","baseLang","baseURL","paths","langs","shortLang","path","href","HASH_CHANGE_TIMEOUT","POSITION_UPDATED_THRESHOLD","UPDATE_VIEWAREA_TIMEOUT","getCurrentHash","fingerprint","resetHistory","updateUrl","reInitialized","rotation","destination","forceReplace","isDestHashesEqual","isDestArraysEqual","shouldReplace","newState","newUrl","temporary","position","checkReload","perfEntry","uid","removeTemporary","checkNameddest","nameddest","location","newHash","hashChanged","destHash","pushHash","firstDest","secondDest","isEntryEqual","second","AnnotationEditorLayerBuilder","clonedViewport","parameters","compatibilityParams","userAgent","platform","maxTouchPoints","isAndroid","isIOS","OptionKind","defaultOptions","userOptions","AppOptions","kind","defaultOnly","defaultOption","init","DrawLayerBuilder","PDF_ROLE_TO_HTML_ROLE","HEADING_PATTERN","structTree","treeDom","structElement","htmlElement","alt","node","role","kid","_TextAccessibilityManager","textDivs","textChildren","nodeIndex","isRemovable","children","owns","child","container","contentElement","elementToCompare","e1","e2","rect1","rect2","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","TextAccessibilityManager","TextHighlighter","findController","divs","texts","textContentItemsStr","iIndex","mm","isSelectedPage","selectedMatchIdx","highlightAll","prevEnd","infinity","beginText","begin","className","divIdx","appendTextToDiv","fromOffset","toOffset","span","i0","i1","lastDivIdx","lastOffset","isSelected","highlightSuffix","n0","n1","reset","clearedUntilDivIdx","n","pageMatches","pageMatchesLength","_TextLayerBuilder","highlighter","enablePermissions","textContentParams","_d","_e","endOfContent","event","selection","textLayerDiv","textLayer","isFirefox","prevRange","activeTextLayers","range2","endDiv2","range","modifyStart","parentTextLayer","endDiv","xfaHtml","parameters2","DEFAULT_LAYER_PROPERTIES","LAYERS_ORDER","defaultViewport","optionalContentConfigPromise","totalRotation","removeFromDOM","zoomLayerCanvas","keepZoomLayer","keepAnnotationLayer","keepAnnotationEditorLayer","keepXfaLayer","keepTextLayer","childNodes","zoomLayerNode","annotationLayerNode","annotationEditorLayerNode","xfaLayerNode","textLayerNode","layerIndex","scale","drawingDelay","onlyCssZoom","width","height","sx","sy","postponeDrawing","cancelExtraDelay","redrawAnnotationLayer","redrawAnnotationEditorLayer","redrawXfaLayer","redrawTextLayer","hideTextLayer","style","originalViewport","relativeRotation","absRotation","scaleX","scaleY","y","pageColors","canvasWrapper","annotationLayerDiv","renderContinueCallback","cont","showCanvas","canvas","hasHCM","isLastShow","ctx","outputScale","invScale","pixelsInViewport","maxScale","sfx","sfy","renderContext","renderTask","resultPromise","annotationEditorLayerDiv","label","directDrawing","initialOptionalContent","regularAnnotations","oldDiv","layer","ex","tree","item","docProperties","info","metadata","contentDispositionFilename","contentLength","GenericScripting","sandboxBundleSrc","reject","pdfjsSandbox","sandbox","PDFScriptingManager","externalServices","docProperties2","objects","calculationOrder","docActions","_a2","detail","isInPresentationMode","siblings","command","modes","elementId","initialize","visitedPages","pageView","actionsPromise","actions","CLEANUP_TIMEOUT","PDFRenderingQueue","pdfThumbnailViewer","currentlyVisiblePages","scrolledDown","preRenderExtra","visibleViews","numVisible","firstId","lastId","visibleIds","holeId","holeView","preRenderIndex","preRenderView","DEFAULT_CACHE_SIZE","PagesCountLimit","isValidAnnotationEditorMode","PDFPageViewBuffer","buf","newSize","idsToKeep","firstView","viewerVersion","resetCurrentPageView","self","buffer","pageNum","pagesCount","firstPagePromise","permissionsPromise","onBeforeDraw","onAfterDraw","firstPdfPage","permissions","annotationEditorMode","annotationMode","textLayerMode","viewerElement","_a3","_b2","getPagesLeft","labels","destArray","allowNegativeOffset","widthScale","heightScale","changeOrientation","pageWidth","pageHeight","hPadding","vPadding","boundingRect","firstPage","currentScale","currentScaleValue","normalizedScaleValue","currentPageView","topLeft","intLeft","intTop","pdfOpenParams","visiblePages","numVisiblePages","newCacheSize","isSimpleLayout","currentId","stillFullyVisible","scrollAhead","firstPageView","initialOrientation","orientation","pages","parity","spread","currentPageNumber","pageLayout","widthPercent","yArray","expectedId","advance","scaleFactor","steps","origin","newScale","delta","round","editId","isFromKeyboard","noUpdate","updateArgs","hiddenCapability","onVisibilityChange","focusNode","anchorNode","classList","ev","pageIndexSet","dummyPage","pageSpot","scrollLeft","clientWidth","newValue","noScroll","preset","previousScale","scaleDiff","currentPage","pageWidthScale","pageHeightScale","horizontalScale","entries","__webpack_exports__AnnotationLayerBuilder","__webpack_exports__DownloadManager","__webpack_exports__EventBus","__webpack_exports__FindState","__webpack_exports__GenericL10n","__webpack_exports__LinkTarget","__webpack_exports__PDFFindController","__webpack_exports__PDFHistory","__webpack_exports__PDFLinkService","__webpack_exports__PDFPageView","__webpack_exports__PDFScriptingManager","__webpack_exports__PDFSinglePageViewer","__webpack_exports__PDFViewer","__webpack_exports__ProgressBar","__webpack_exports__RenderingStates","__webpack_exports__ScrollMode","__webpack_exports__SimpleLinkService","__webpack_exports__SpreadMode","__webpack_exports__StructTreeLayerBuilder","__webpack_exports__TextLayerBuilder","__webpack_exports__XfaLayerBuilder","__webpack_exports__parseQueryString"],"mappings":"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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACiB,CACh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","x_google_ignoreList":[0]}