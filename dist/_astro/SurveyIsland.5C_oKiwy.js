const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/survey-react-ui.CuBTObtX.js","_astro/survey-core.CG5vkk2j.js","_astro/index.7-fRwNhn.js","_astro/index.AmEYgA8_.js","_astro/index.BDInZWg7.js"])))=>i.map(i=>d[i]);
import{_ as c}from"./preload-helper.BlTxHScW.js";import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.7-fRwNhn.js";/* empty css                              */function E(r){const[o,y]=s.useState(null),[m,i]=s.useState(!0),[l,v]=s.useState(null);s.useEffect(()=>{(async()=>{try{const t=await c(()=>import("./survey-react-ui.CuBTObtX.js"),__vite__mapDeps([0,1,2,3,4]));y(()=>t.Survey),i(!1)}catch(t){console.error("Failed to load SurveyJS:",t),v("Failed to load survey component"),i(!1)}})()},[]);const S=e=>{const t=e.data;console.log("Survey completed:",t),r.onSubmit&&r.onSubmit(t)},f=()=>{if(r.surveyJson)return r.surveyJson;if(r.template)try{if(typeof window<"u"){const{toSurveyJSON:e}=require("../../../lib/surveyjs/adapter");return e(r.template)}throw new Error("SSR adapter skip")}catch{return{title:r.template.title||"Survey",pages:[{name:"page1",elements:[]}]}}return{title:"Demo Survey",pages:[{name:"page1",elements:[{type:"text",name:"name",title:"What is your name?",isRequired:!0},{type:"radiogroup",name:"experience",title:"How would you rate your experience?",choices:["Excellent","Good","Fair","Poor"],isRequired:!0},{type:"comment",name:"feedback",title:"Any additional feedback?",rows:4}]}]}};if(m)return a.jsx("div",{"data-testid":"survey-island","aria-label":"Survey",className:"p-4",children:a.jsx("div",{className:"text-center",children:"Loading survey..."})});if(l||!o)return a.jsx("div",{"data-testid":"survey-island","aria-label":"Survey",className:"p-4",children:a.jsxs("div",{className:"text-red-500",children:["Error: ",l||"Survey component not available"]})});const n=f(),[u,d]=s.useState(null);return s.useEffect(()=>{let e=!0;return(async()=>{try{const{Model:t}=await c(async()=>{const{Model:p}=await import("./survey-core.CG5vkk2j.js");return{Model:p}},[]);if(!e)return;d(new t(n))}catch{if(!e)return;d(n)}})(),()=>{e=!1}},[JSON.stringify(n)]),a.jsx("div",{"data-testid":"survey-island","aria-label":"Survey",className:"survey-container",children:u?a.jsx(o,{model:u,onComplete:S}):a.jsx("div",{className:"text-center",children:"Loading survey..."})})}export{E as default};
//# sourceMappingURL=SurveyIsland.5C_oKiwy.js.map
