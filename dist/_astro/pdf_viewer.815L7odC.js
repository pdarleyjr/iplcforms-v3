var Ks=Object.defineProperty,Vn=i=>{throw TypeError(i)},Zs=(i,e,t)=>e in i?Ks(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Xs=(i,e,t)=>Zs(i,e+"",t),qi=(i,e,t)=>e.has(i)||Vn("Cannot "+t),o=(i,e,t)=>(qi(i,e,"read from private field"),t?t.call(i):e.get(i)),g=(i,e,t)=>e.has(i)?Vn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),f=(i,e,t,n)=>(qi(i,e,"write to private field"),e.set(i,t),t),c=(i,e,t)=>(qi(i,e,"access private method"),t),Qs=(i,e,t,n)=>({set _(s){f(i,e,s)},get _(){return o(i,e,n)}}),ye,De,Oe,rt,je,$,Pt,nt,L,Wn,Ci,en,Bn,Hn,Un,Ri,$n,zn,ri,St,Ve,Gn,tn,nn,ai,Kn,sn,ki,Tt,rn,Zn,Ot,Pe,jt,Ni,Xn,at,Vt,ot,lt,Q,oi,Qn,Jn,be,Yn,qn,es,ts,an,ke,k,ae,mi,li,gt,vi,on,is,ns,ln,ss,rs,Wt,Bt,Ht,Ut,ht,ne,Y,Ke,Fi,Di,ce,q,ue,Se,_t,$t,zt,Oi,xe,hi,Gt,We,se,ee,Ne,ji,as,bi,os,ls,Be,Kt,He,Le,Ae,ci,Ze,ct,ut,fe,Ue,Fe,D,Ge,Zt,Ct,Vi,Wi,Bi,Hi,Ui,hs,cs,$i,le,et,Xt,Xe,Qe,ui,K,_e,mt,H,te,X,us,Qt,zi,ds,dt,me,$e,Jt,Gi,Ie,Yt,qt,pe,G,Je,vt,ei,ti,ii,ze,ni,bt,Ce,xt,di,ft,Ye,Re,Lt,F,fs,ps,gs,wt,fi,_s,Ki,ms,ge,Zi,vs,bs,hn,ws,Et={};Et.d=(i,e)=>{for(var t in e)Et.o(e,t)&&!Et.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};Et.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var V=globalThis.pdfjsViewer={};Et.d(V,{AnnotationLayerBuilder:()=>Cs,DownloadManager:()=>zr,EventBus:()=>Rs,FindState:()=>we,GenericL10n:()=>yi,LinkTarget:()=>Me,PDFFindController:()=>Rr,PDFHistory:()=>Ua,PDFLinkService:()=>Ms,PDFPageView:()=>$s,PDFScriptingManager:()=>no,PDFSinglePageViewer:()=>oo,PDFViewer:()=>zs,ProgressBar:()=>hr,RenderingStates:()=>W,ScrollMode:()=>C,SimpleLinkService:()=>cn,SpreadMode:()=>z,StructTreeLayerBuilder:()=>Vs,TextLayerBuilder:()=>Hs,XfaLayerBuilder:()=>Us,parseQueryString:()=>wi});const Js="auto",Es=1,fn=1.1,Ys=.1,qs=10,Pi=0,er=1.25,ys=40,Ps=5,W={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},qe={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},ie={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},C={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},z={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class tr{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}}function Ss(i,e,t=!1){let n=i.offsetParent;if(!n){console.error("offsetParent is not set -- cannot scroll");return}let s=i.offsetTop+i.clientTop,r=i.offsetLeft+i.clientLeft;for(;n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||t&&(n.classList.contains("markedContent")||getComputedStyle(n).overflow==="hidden");)if(s+=n.offsetTop,r+=n.offsetLeft,n=n.offsetParent,!n)return;e&&(e.top!==void 0&&(s+=e.top),e.left!==void 0&&(r+=e.left,n.scrollLeft=r)),n.scrollTop=s}function ir(i,e,t=void 0){const n=function(a){r||(r=window.requestAnimationFrame(function(){r=null;const h=i.scrollLeft,u=s.lastX;h!==u&&(s.right=h>u),s.lastX=h;const d=i.scrollTop,v=s.lastY;d!==v&&(s.down=d>v),s.lastY=d,e(s)}))},s={right:!0,down:!0,lastX:i.scrollLeft,lastY:i.scrollTop,_eventHandler:n};let r=null;return i.addEventListener("scroll",n,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(r),{once:!0}),s}function wi(i){const e=new Map;for(const[t,n]of new URLSearchParams(i))e.set(t.toLowerCase(),n);return e}const pn=/[\x00-\x1F]/g;function pi(i,e=!1){return pn.test(i)?e?i.replaceAll(pn,t=>t==="\0"?"":" "):i.replaceAll("\0",""):i}function At(i,e,t=0){let n=t,s=i.length-1;if(s<0||!e(i[s]))return i.length;if(e(i[n]))return n;for(;n<s;){const r=n+s>>1,a=i[r];e(a)?s=r:n=r+1}return n}function gn(i){if(Math.floor(i)===i)return[i,1];const e=1/i,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const n=i>1?e:i;let s=0,r=1,a=1,l=1;for(;;){const u=s+a,d=r+l;if(d>t)break;n<=u/d?(a=u,l=d):(s=u,r=d)}let h;return n-s/r<a/l-n?h=n===i?[s,r]:[r,s]:h=n===i?[a,l]:[l,a],h}function Rt(i,e){return i-i%e}function nr(i,e,t){if(i<2)return i;let n=e[i].div,s=n.offsetTop+n.clientTop;s>=t&&(n=e[i-1].div,s=n.offsetTop+n.clientTop);for(let r=i-2;r>=0&&(n=e[r].div,!(n.offsetTop+n.clientTop+n.clientHeight<=s));--r)i=r;return i}function sr({scrollEl:i,views:e,sortByVisibility:t=!1,horizontal:n=!1,rtl:s=!1}){const r=i.scrollTop,a=r+i.clientHeight,l=i.scrollLeft,h=l+i.clientWidth;function u(T){const y=T.div;return y.offsetTop+y.clientTop+y.clientHeight>r}function d(T){const y=T.div,A=y.offsetLeft+y.clientLeft,O=A+y.clientWidth;return s?A<h:O>l}const v=[],w=new Set,M=e.length;let b=At(e,n?d:u);b>0&&b<M&&!n&&(b=nr(b,e,r));let x=n?h:-1;for(let T=b;T<M;T++){const y=e[T],A=y.div,O=A.offsetLeft+A.clientLeft,E=A.offsetTop+A.clientTop,P=A.clientWidth,R=A.clientHeight,_=O+P,m=E+R;if(x===-1)m>=a&&(x=m);else if((n?O:E)>x)break;if(m<=r||E>=a||_<=l||O>=h)continue;const S=Math.max(0,r-E)+Math.max(0,m-a),N=Math.max(0,l-O)+Math.max(0,_-h),U=(R-S)/R,Z=(P-N)/P,Gs=U*Z*100|0;v.push({id:y.id,x:O,y:E,view:y,percent:Gs,widthPercent:Z*100|0}),w.add(y.id)}const j=v[0],I=v.at(-1);return t&&v.sort(function(T,y){const A=T.percent-y.percent;return Math.abs(A)>.001?-A:T.id-y.id}),{first:j,last:I,views:v,ids:w}}function xs(i){return Number.isInteger(i)&&i%90===0}function rr(i){return Number.isInteger(i)&&Object.values(C).includes(i)&&i!==C.UNKNOWN}function ar(i){return Number.isInteger(i)&&Object.values(z).includes(i)&&i!==z.UNKNOWN}function Ls(i){return i.width<=i.height}new Promise(function(i){window.requestAnimationFrame(i)});const or=document.documentElement.style;function lr(i,e,t){return Math.min(Math.max(i,e),t)}class hr{constructor(e){g(this,ye,null),g(this,De,null),g(this,Oe,0),g(this,rt,null),g(this,je,!0),f(this,ye,e.classList),f(this,rt,e.style)}get percent(){return o(this,Oe)}set percent(e){if(f(this,Oe,lr(e,0,100)),isNaN(e)){o(this,ye).add("indeterminate");return}o(this,ye).remove("indeterminate"),o(this,rt).setProperty("--progressBar-percent",`${o(this,Oe)}%`)}setWidth(e){if(!e)return;const n=e.parentNode.offsetWidth-e.offsetWidth;n>0&&o(this,rt).setProperty("--progressBar-end-offset",`${n}px`)}setDisableAutoFetch(e=5e3){isNaN(o(this,Oe))||(o(this,De)&&clearTimeout(o(this,De)),this.show(),f(this,De,setTimeout(()=>{f(this,De,null),this.hide()},e)))}hide(){o(this,je)&&(f(this,je,!1),o(this,ye).add("hidden"))}show(){o(this,je)||(f(this,je,!0),o(this,ye).remove("hidden"))}}ye=new WeakMap;De=new WeakMap;Oe=new WeakMap;rt=new WeakMap;je=new WeakMap;function cr(i){let e=C.VERTICAL,t=z.NONE;switch(i){case"SinglePage":e=C.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=C.PAGE;case"TwoColumnLeft":t=z.ODD;break;case"TwoPageRight":e=C.PAGE;case"TwoColumnRight":t=z.EVEN;break}return{scrollMode:e,spreadMode:t}}const J={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function ur(i){return i<11904}function dr(i){return(i&65408)===0}function fr(i){return i>=97&&i<=122||i>=65&&i<=90}function pr(i){return i>=48&&i<=57}function gr(i){return i===32||i===9||i===13||i===10}function _r(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}function mr(i){return i>=12448&&i<=12543}function vr(i){return i>=12352&&i<=12447}function br(i){return i>=65376&&i<=65439}function wr(i){return(i&65408)===3584}function kt(i){return ur(i)?dr(i)?gr(i)?J.SPACE:fr(i)||pr(i)||i===95?J.ALPHA_LETTER:J.PUNCT:wr(i)?J.THAI_LETTER:i===160?J.SPACE:J.ALPHA_LETTER:_r(i)?J.HAN_LETTER:mr(i)?J.KATAKANA_LETTER:vr(i)?J.HIRAGANA_LETTER:br(i)?J.HALFWIDTH_KATAKANA_LETTER:J.ALPHA_LETTER}let Si;function Er(){return Si||(Si=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),Si}const we={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},yr=250,Pr=-50,Sr=-400,_n={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},mn=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let xi;const xr=new RegExp("\\p{M}+","gu"),Lr=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),Ar=new RegExp("([^\\p{M}])\\p{M}*$","u"),Ir=new RegExp("^\\p{M}*([^\\p{M}])","u"),Mr=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,vn=new Map,Tr="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",bn=new Map;let Li=null,Ai=null;function Xi(i){const e=[];let t;for(;(t=Mr.exec(i))!==null;){let{index:M}=t;for(const b of t[0]){let x=vn.get(b);x||(x=b.normalize("NFD").length,vn.set(b,x)),e.push([x,M++])}}let n;if(e.length===0&&Li)n=Li;else if(e.length>0&&Ai)n=Ai;else{const M=Object.keys(_n).join(""),b=Er(),I=`([${M}])|([${b}])|((?:゙|゚)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[぀-ヿ])\\n)|(\\n)`;e.length===0?n=Li=new RegExp(I+"|(\\u0000)","gum"):n=Ai=new RegExp(I+`|(${Tr})`,"gum")}const s=[];for(;(t=xr.exec(i))!==null;)s.push([t[0].length,t.index]);let r=i.normalize("NFD");const a=[[0,0]];let l=0,h=0,u=0,d=0,v=0,w=!1;return r=r.replace(n,(M,b,x,j,I,T,y,A,O,E)=>{var P,R,_;if(E-=d,b){const m=_n[b],S=m.length;for(let N=1;N<S;N++)a.push([E-u+N,u-N]);return u-=S-1,m}if(x){let m=bn.get(x);m||(m=x.normalize("NFKC"),bn.set(x,m));const S=m.length;for(let N=1;N<S;N++)a.push([E-u+N,u-N]);return u-=S-1,m}if(j)return w=!0,E+v===((P=s[l])==null?void 0:P[1])?++l:(a.push([E-1-u+1,u-1]),u-=1,d+=1),a.push([E-u+1,u]),d+=1,v+=1,j.charAt(0);if(I){const m=I.endsWith(`
`),S=m?I.length-2:I.length;w=!0;let N=S;E+v===((R=s[l])==null?void 0:R[1])&&(N-=s[l][0],++l);for(let U=1;U<=N;U++)a.push([E-1-u+U,u-U]);return u-=N,d+=N,m?(E+=S-1,a.push([E-u+1,1+u]),u+=1,d+=1,v+=1,I.slice(0,S)):I}if(T){const m=T.length-2;return a.push([E-u+m,1+u]),u+=1,d+=1,v+=1,T.slice(0,-2)}if(y){const m=y.length-1;return a.push([E-u+m,u]),d+=1,v+=1,y.slice(0,-1)}if(A)return a.push([E-u+1,u-1]),u-=1,d+=1,v+=1," ";if(E+v===((_=e[h])==null?void 0:_[1])){const m=e[h][0]-1;++h;for(let S=1;S<=m;S++)a.push([E-(u-S),u-S]);u-=m,d+=m}return O}),a.push([r.length,u]),[r,a,w]}function Cr(i,e,t){if(!i)return[e,t];const n=e,s=e+t-1;let r=At(i,d=>d[0]>=n);i[r][0]>n&&--r;let a=At(i,d=>d[0]>=s,r);i[a][0]>s&&--a;const l=n+i[r][1],u=s+i[a][1]+1-l;return[l,u]}class Rr{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:n=!0}){g(this,L),g(this,$,null),g(this,Pt,!0),g(this,nt,0),this._linkService=e,this._eventBus=t,f(this,Pt,n),this.onIsPageVisible=null,c(this,L,Ci).call(this),t._on("find",c(this,L,Wn).bind(this)),t._on("findbarclose",c(this,L,Kn).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return o(this,$)}setDocument(e){this._pdfDocument&&c(this,L,Ci).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:n=-1,matchIndex:s=-1}){if(!this._scrollMatches||!e)return;if(s===-1||s!==this._selected.matchIdx)return;if(n===-1||n!==this._selected.pageIdx)return;this._scrollMatches=!1;const r={top:Pr,left:t+Sr};Ss(e,r,!0)}}$=new WeakMap;Pt=new WeakMap;nt=new WeakMap;L=new WeakSet;Wn=function(i){if(!i)return;const e=this._pdfDocument,{type:t}=i;(o(this,$)===null||c(this,L,Bn).call(this,i))&&(this._dirtyMatch=!0),f(this,$,i),t!=="highlightallchange"&&c(this,L,Tt).call(this,we.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||e&&this._pdfDocument!==e)return;c(this,L,zn).call(this);const n=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),t?this._dirtyMatch?c(this,L,Ve).call(this):t==="again"?(c(this,L,Ve).call(this),n&&o(this,$).highlightAll&&c(this,L,St).call(this)):t==="highlightallchange"?(s?c(this,L,Ve).call(this):this._highlightMatches=!0,c(this,L,St).call(this)):c(this,L,Ve).call(this):this._findTimeout=setTimeout(()=>{c(this,L,Ve).call(this),this._findTimeout=null},yr)})};Ci=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],f(this,nt,0),f(this,$,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()};en=function(){const{query:i}=o(this,$);return typeof i=="string"?(i!==this._rawQuery&&(this._rawQuery=i,[this._normalizedQuery]=Xi(i)),this._normalizedQuery):(i||[]).filter(e=>!!e).map(e=>Xi(e)[0])};Bn=function(i){var e;const t=i.query,n=o(this,$).query,s=typeof t;if(s!==typeof n)return!0;if(s==="string"){if(t!==n)return!0}else if(JSON.stringify(t)!==JSON.stringify(n))return!0;switch(i.type){case"again":const a=this._selected.pageIdx+1,l=this._linkService;return a>=1&&a<=l.pagesCount&&a!==l.page&&!(((e=this.onIsPageVisible)==null?void 0:e.call(this,a))??!0);case"highlightallchange":return!1}return!0};Hn=function(i,e,t){let n=i.slice(0,e).match(Ar);if(n){const s=i.charCodeAt(e),r=n[1].charCodeAt(0);if(kt(s)===kt(r))return!1}if(n=i.slice(e+t).match(Ir),n){const s=i.charCodeAt(e+t-1),r=n[1].charCodeAt(0);if(kt(s)===kt(r))return!1}return!0};Un=function(i,e,t,n){const s=this._pageMatches[t]=[],r=this._pageMatchesLength[t]=[];if(!i)return;const a=this._pageDiffs[t];let l;for(;(l=i.exec(n))!==null;){if(e&&!c(this,L,Hn).call(this,n,l.index,l[0].length))continue;const[h,u]=Cr(a,l.index,l[0].length);u&&(s.push(h),r.push(u))}};Ri=function(i,e){const{matchDiacritics:t}=o(this,$);let n=!1;i=i.replaceAll(Lr,(r,a,l,h,u,d)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:h?"[ ]+":t?u||d:u?mn.has(u.charCodeAt(0))?u:"":e?(n=!0,`${d}\\p{M}*`):d);const s="[ ]*";return i.endsWith(s)&&(i=i.slice(0,i.length-s.length)),t&&e&&(xi||(xi=String.fromCharCode(...mn)),n=!0,i=`${i}(?=[${xi}]|[^\\p{M}]|$)`),[n,i]};$n=function(i){let e=o(this,L,en);if(e.length===0)return;const{caseSensitive:t,entireWord:n}=o(this,$),s=this._pageContents[i],r=this._hasDiacritics[i];let a=!1;typeof e=="string"?[a,e]=c(this,L,Ri).call(this,e,r):e=e.sort().reverse().map(u=>{const[d,v]=c(this,L,Ri).call(this,u,r);return a||(a=d),`(${v})`}).join("|");const l=`g${a?"u":""}${t?"":"i"}`;e=e?new RegExp(e,l):null,c(this,L,Un).call(this,e,n,i,s),o(this,$).highlightAll&&c(this,L,ri).call(this,i),this._resumePageIdx===i&&(this._resumePageIdx=null,c(this,L,tn).call(this));const h=this._pageMatches[i].length;this._matchesCountTotal+=h,o(this,Pt)?h>0&&c(this,L,ki).call(this):++Qs(this,nt)._===this._linkService.pagesCount&&c(this,L,ki).call(this)};zn=function(){if(this._extractTextPromises.length>0)return;let i=Promise.resolve();const e={disableNormalization:!0};for(let t=0,n=this._linkService.pagesCount;t<n;t++){const{promise:s,resolve:r}=Promise.withResolvers();this._extractTextPromises[t]=s,i=i.then(()=>this._pdfDocument.getPage(t+1).then(a=>a.getTextContent(e)).then(a=>{const l=[];for(const h of a.items)l.push(h.str),h.hasEOL&&l.push(`
`);[this._pageContents[t],this._pageDiffs[t],this._hasDiacritics[t]]=Xi(l.join("")),r()},a=>{console.error(`Unable to get text content for page ${t+1}`,a),this._pageContents[t]="",this._pageDiffs[t]=null,this._hasDiacritics[t]=!1,r()}))}};ri=function(i){this._scrollMatches&&this._selected.pageIdx===i&&(this._linkService.page=i+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:i})};St=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})};Ve=function(){const i=o(this,$).findPrevious,e=this._linkService.page-1,t=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,f(this,nt,0),this._matchesCountTotal=0,c(this,L,St).call(this);for(let r=0;r<t;r++)this._pendingFindMatches.has(r)||(this._pendingFindMatches.add(r),this._extractTextPromises[r].then(()=>{this._pendingFindMatches.delete(r),c(this,L,$n).call(this,r)}))}if(o(this,L,en).length===0){c(this,L,Tt).call(this,we.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=t,s.matchIdx!==null){const r=this._pageMatches[s.pageIdx].length;if(!i&&s.matchIdx+1<r||i&&s.matchIdx>0){s.matchIdx=i?s.matchIdx-1:s.matchIdx+1,c(this,L,ai).call(this,!0);return}c(this,L,nn).call(this,i)}c(this,L,tn).call(this)};Gn=function(i){const e=this._offset,t=i.length,n=o(this,$).findPrevious;return t?(e.matchIdx=n?t-1:0,c(this,L,ai).call(this,!0),!0):(c(this,L,nn).call(this,n),e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0)?(c(this,L,ai).call(this,!1),!0):!1)};tn=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let i=null;do{const e=this._offset.pageIdx;if(i=this._pageMatches[e],!i){this._resumePageIdx=e;break}}while(!c(this,L,Gn).call(this,i))};nn=function(i){const e=this._offset,t=this._linkService.pagesCount;e.pageIdx=i?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=t||e.pageIdx<0)&&(e.pageIdx=i?t-1:0,e.wrapped=!0)};ai=function(i=!1){let e=we.NOT_FOUND;const t=this._offset.wrapped;if(this._offset.wrapped=!1,i){const n=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=t?we.WRAPPED:we.FOUND,n!==-1&&n!==this._selected.pageIdx&&c(this,L,ri).call(this,n)}c(this,L,Tt).call(this,e,o(this,$).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,c(this,L,ri).call(this,this._selected.pageIdx))};Kn=function(i){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),c(this,L,Tt).call(this,we.FOUND),this._highlightMatches=!1,c(this,L,St).call(this))})};sn=function(){var i;const{pageIdx:e,matchIdx:t}=this._selected;let n=0,s=this._matchesCountTotal;if(t!==-1){for(let r=0;r<e;r++)n+=((i=this._pageMatches[r])==null?void 0:i.length)||0;n+=t+1}return(n<1||n>s)&&(n=s=0),{current:n,total:s}};ki=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:c(this,L,sn).call(this)})};Tt=function(i,e=!1){var t,n;!o(this,Pt)&&(o(this,nt)!==this._linkService.pagesCount||i===we.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:i,previous:e,entireWord:((t=o(this,$))==null?void 0:t.entireWord)??null,matchesCount:c(this,L,sn).call(this),rawQuery:((n=o(this,$))==null?void 0:n.query)??null})};const kr="noopener noreferrer nofollow",Me={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},As=class Is{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:n=null,ignoreDestinationZoom:s=!1}={}){Xs(this,"externalLinkEnabled",!0),this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=n,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,n,s;if(typeof e=="string"?(t=e,n=await this.pdfDocument.getDestination(e)):(t=null,n=await e),!Array.isArray(n)){console.error(`goToDestination: "${n}" is not a valid destination array, for dest="${e}".`);return}const[r]=n;if(r&&typeof r=="object"){if(s=this.pdfDocument.cachedPageNumber(r),!s)try{s=await this.pdfDocument.getPageIndex(r)+1}catch{console.error(`goToDestination: "${r}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(r)&&(s=r+1);if(!s||s<1||s>this.pagesCount){console.error(`goToDestination: "${s}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:n,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:n,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,n=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const s=n?Me.BLANK:this.externalLinkTarget,r=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(s){case Me.NONE:break;case Me.SELF:a="_self";break;case Me.BLANK:a="_blank";break;case Me.PARENT:a="_parent";break;case Me.TOP:a="_top";break}e.target=a,e.rel=typeof r=="string"?r:kr}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){var t;if(!this.pdfDocument)return;let n,s;if(e.includes("=")){const r=wi(e);if(r.has("search")){const a=r.get("search").replaceAll('"',""),l=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:l?a:a.match(/\S+/g)})}if(r.has("page")&&(n=r.get("page")|0||1),r.has("zoom")){const a=r.get("zoom").split(","),l=a[0],h=parseFloat(l);l.includes("Fit")?l==="Fit"||l==="FitB"?s=[null,{name:l}]:l==="FitH"||l==="FitBH"||l==="FitV"||l==="FitBV"?s=[null,{name:l},a.length>1?a[1]|0:null]:l==="FitR"?a.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):s=[null,{name:l},a[1]|0,a[2]|0,a[3]|0,a[4]|0]:console.error(`PDFLinkService.setHash: "${l}" is not a valid zoom value.`):s=[null,{name:"XYZ"},a.length>1?a[1]|0:null,a.length>2?a[2]|0:null,h?h/100:l]}s?this.pdfViewer.scrollPageIntoView({pageNumber:n||this.page,destArray:s,allowNegativeOffset:!0}):n&&(this.page=n),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}s=unescape(e);try{s=JSON.parse(s),Array.isArray(s)||(s=s.toString())}catch{}if(typeof s=="string"||c(t=Is,rn,Zn).call(t,s)){this.goToDestination(s);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,n;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(n=this.pdfHistory)==null||n.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,n=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(n.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(n))}};rn=new WeakSet;Zn=function(i){if(!Array.isArray(i)||i.length<2)return!1;const[e,t,...n]=i;if(!(typeof e=="object"&&Number.isInteger(e?.num)&&Number.isInteger(e?.gen))&&!Number.isInteger(e)||!(typeof t=="object"&&typeof t?.name=="string"))return!1;let s=!0;switch(t.name){case"XYZ":if(n.length!==3)return!1;break;case"Fit":case"FitB":return n.length===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(n.length!==1)return!1;break;case"FitR":if(n.length!==4)return!1;s=!1;break;default:return!1}for(const r of n)if(!(typeof r=="number"||s&&r===null))return!1;return!0};g(As,rn);let Ms=As;class cn extends Ms{setDocument(e,t=null){}}const{AbortException:Nr,AnnotationEditorLayer:Fr,AnnotationEditorParamsType:lo,AnnotationEditorType:ve,AnnotationEditorUIManager:Dr,AnnotationLayer:Or,AnnotationMode:oe,build:ho,CMapCompressionType:co,ColorPicker:uo,createValidAbsoluteUrl:jr,DOMSVGFactory:fo,DrawLayer:Vr,FeatureTest:po,fetchData:Ts,getDocument:go,getFilenameFromUrl:_o,getPdfFilenameFromUrl:Wr,getXfaPageViewport:mo,GlobalWorkerOptions:vo,ImageKind:bo,InvalidPDFException:wo,isDataScheme:Eo,isPdfFile:Br,MissingPDFException:yo,noContextMenu:Po,normalizeUnicode:Hr,OPS:So,Outliner:xo,PasswordResponses:Lo,PDFDataRangeTransport:Ao,PDFDateString:Io,PDFWorker:Mo,PermissionFlag:Nt,PixelsPerInch:re,RenderingCancelledException:un,renderTextLayer:To,setLayerDimensions:Ur,shadow:gi,TextLayer:$r,UnexpectedResponseException:Co,updateTextLayer:Ro,Util:ko,VerbosityLevel:No,version:wn,XfaLayer:Ii}=globalThis.pdfjsLib;class Cs{constructor({pdfPage:e,linkService:t,downloadManager:n,annotationStorage:s=null,imageResourcesPath:r="",renderForms:a=!0,enableScripting:l=!1,hasJSActionsPromise:h=null,fieldObjectsPromise:u=null,annotationCanvasMap:d=null,accessibilityManager:v=null,annotationEditorUIManager:w=null,onAppend:M=null}){g(this,jt),g(this,Ot,null),g(this,Pe,null),this.pdfPage=e,this.linkService=t,this.downloadManager=n,this.imageResourcesPath=r,this.renderForms=a,this.annotationStorage=s,this.enableScripting=l,this._hasJSActionsPromise=h||Promise.resolve(!1),this._fieldObjectsPromise=u||Promise.resolve(null),this._annotationCanvasMap=d,this._accessibilityManager=v,this._annotationEditorUIManager=w,f(this,Ot,M),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render(e,t="display"){var n,s;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,a,l]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const h=this.div=document.createElement("div");if(h.className="annotationLayer",(n=o(this,Ot))==null||n.call(this,h),r.length===0){this.hide();return}this.annotationLayer=new Or({div:h,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:a,fieldObjects:l}),this.linkService.isInPresentationMode&&c(this,jt,Ni).call(this,qe.FULLSCREEN),o(this,Pe)||(f(this,Pe,new AbortController),(s=this._eventBus)==null||s._on("presentationmodechanged",u=>{c(this,jt,Ni).call(this,u.state)},{signal:o(this,Pe).signal}))}cancel(){var e;this._cancelled=!0,(e=o(this,Pe))==null||e.abort(),f(this,Pe,null)}hide(){this.div&&(this.div.hidden=!0)}}Ot=new WeakMap;Pe=new WeakMap;jt=new WeakSet;Ni=function(i){if(!this.div)return;let e=!1;switch(i){case qe.FULLSCREEN:e=!0;break;case qe.NORMAL:break;default:return}for(const t of this.div.childNodes)t.hasAttribute("data-internal-link")||(t.inert=e)};function En(i,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=i,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}class zr{constructor(){g(this,Xn,new WeakMap)}downloadData(e,t,n){const s=URL.createObjectURL(new Blob([e],{type:n}));En(s,t)}openOrDownloadData(e,t,n=null){const r=Br(t)?"application/pdf":"";return this.downloadData(e,t,r),!1}download(e,t,n,s){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!jr(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}En(r,n)}}Xn=new WeakMap;const yn={EVENT:"event",TIMEOUT:"timeout"};async function Gr({target:i,name:e,delay:t=0}){if(typeof i!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:n,resolve:s}=Promise.withResolvers(),r=new AbortController;function a(u){r.abort(),clearTimeout(h),s(u)}const l=i instanceof Rs?"_on":"addEventListener";i[l](e,a.bind(null,yn.EVENT),{signal:r.signal});const h=setTimeout(a.bind(null,yn.TIMEOUT),t);return n}class Rs{constructor(){g(this,at,Object.create(null))}on(e,t,n=null){this._on(e,t,{external:!0,once:n?.once,signal:n?.signal})}off(e,t,n=null){this._off(e,t)}dispatch(e,t){const n=o(this,at)[e];if(!n||n.length===0)return;let s;for(const{listener:r,external:a,once:l}of n.slice(0)){if(l&&this._off(e,r),a){(s||(s=[])).push(r);continue}r(t)}if(s){for(const r of s)r(t);s=null}}_on(e,t,n=null){var s;let r=null;if(n?.signal instanceof AbortSignal){const{signal:l}=n;if(l.aborted){console.error("Cannot use an `aborted` signal.");return}const h=()=>this._off(e,t);r=()=>l.removeEventListener("abort",h),l.addEventListener("abort",h)}((s=o(this,at))[e]||(s[e]=[])).push({listener:t,external:n?.external===!0,once:n?.once===!0,rmAbort:r})}_off(e,t,n=null){var s;const r=o(this,at)[e];if(r)for(let a=0,l=r.length;a<l;a++){const h=r[a];if(h.listener===t){(s=h.rmAbort)==null||s.call(h),r.splice(a,1);return}}}}at=new WeakMap;class Ei{constructor(e){this.value=e}valueOf(){return this.value}}class B extends Ei{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class he extends Ei{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class yt extends Ei{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const Pn=100,Kr="⁨",Zr="⁩";function Xr(i,e,t){if(t===e||t instanceof he&&e instanceof he&&t.value===e.value)return!0;if(e instanceof he&&typeof t=="string"){let n=i.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===n)return!0}return!1}function Sn(i,e,t){return e[t]?tt(i,e[t].value):(i.reportError(new RangeError("No default")),new B)}function Qi(i,e){const t=[],n=Object.create(null);for(const s of e)s.type==="narg"?n[s.name]=It(i,s.value):t.push(It(i,s));return{positional:t,named:n}}function It(i,e){switch(e.type){case"str":return e.value;case"num":return new he(e.value,{minimumFractionDigits:e.precision});case"var":return Qr(i,e);case"mesg":return Jr(i,e);case"term":return Yr(i,e);case"func":return qr(i,e);case"select":return ea(i,e);default:return new B}}function Qr(i,{name:e}){let t;if(i.params)if(Object.prototype.hasOwnProperty.call(i.params,e))t=i.params[e];else return new B(`$${e}`);else if(i.args&&Object.prototype.hasOwnProperty.call(i.args,e))t=i.args[e];else return i.reportError(new ReferenceError(`Unknown variable: $${e}`)),new B(`$${e}`);if(t instanceof Ei)return t;switch(typeof t){case"string":return t;case"number":return new he(t);case"object":if(t instanceof Date)return new yt(t.getTime());default:return i.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new B(`$${e}`)}}function Jr(i,{name:e,attr:t}){const n=i.bundle._messages.get(e);if(!n)return i.reportError(new ReferenceError(`Unknown message: ${e}`)),new B(e);if(t){const s=n.attributes[t];return s?tt(i,s):(i.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new B(`${e}.${t}`))}return n.value?tt(i,n.value):(i.reportError(new ReferenceError(`No value: ${e}`)),new B(e))}function Yr(i,{name:e,attr:t,args:n}){const s=`-${e}`,r=i.bundle._terms.get(s);if(!r)return i.reportError(new ReferenceError(`Unknown term: ${s}`)),new B(s);if(t){const l=r.attributes[t];if(l){i.params=Qi(i,n).named;const h=tt(i,l);return i.params=null,h}return i.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new B(`${s}.${t}`)}i.params=Qi(i,n).named;const a=tt(i,r.value);return i.params=null,a}function qr(i,{name:e,args:t}){let n=i.bundle._functions[e];if(!n)return i.reportError(new ReferenceError(`Unknown function: ${e}()`)),new B(`${e}()`);if(typeof n!="function")return i.reportError(new TypeError(`Function ${e}() is not callable`)),new B(`${e}()`);try{let s=Qi(i,t);return n(s.positional,s.named)}catch(s){return i.reportError(s),new B(`${e}()`)}}function ea(i,{selector:e,variants:t,star:n}){let s=It(i,e);if(s instanceof B)return Sn(i,t,n);for(const r of t){const a=It(i,r.key);if(Xr(i,s,a))return tt(i,r.value)}return Sn(i,t,n)}function ks(i,e){if(i.dirty.has(e))return i.reportError(new RangeError("Cyclic reference")),new B;i.dirty.add(e);const t=[],n=i.bundle._useIsolating&&e.length>1;for(const s of e){if(typeof s=="string"){t.push(i.bundle._transform(s));continue}if(i.placeables++,i.placeables>Pn)throw i.dirty.delete(e),new RangeError(`Too many placeables expanded: ${i.placeables}, max allowed is ${Pn}`);n&&t.push(Kr),t.push(It(i,s).toString(i)),n&&t.push(Zr)}return i.dirty.delete(e),t.join("")}function tt(i,e){return typeof e=="string"?i.bundle._transform(e):ks(i,e)}class ta{constructor(e,t,n){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=n}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let n=this.bundle._intls.get(e);n||(n={},this.bundle._intls.set(e,n));let s=JSON.stringify(t);return n[s]||(n[s]=new e(this.bundle.locales,t)),n[s]}}function _i(i,e){const t=Object.create(null);for(const[n,s]of Object.entries(i))e.includes(n)&&(t[n]=s.valueOf());return t}const xn=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function ia(i,e){let t=i[0];if(t instanceof B)return new B(`NUMBER(${t.valueOf()})`);if(t instanceof he)return new he(t.valueOf(),{...t.opts,..._i(e,xn)});if(t instanceof yt)return new he(t.valueOf(),{..._i(e,xn)});throw new TypeError("Invalid argument to NUMBER")}const Ln=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function na(i,e){let t=i[0];if(t instanceof B)return new B(`DATETIME(${t.valueOf()})`);if(t instanceof yt)return new yt(t.valueOf(),{...t.opts,..._i(e,Ln)});if(t instanceof he)return new yt(t.valueOf(),{..._i(e,Ln)});throw new TypeError("Invalid argument to DATETIME")}const An=new Map;function sa(i){const e=Array.isArray(i)?i.join(" "):i;let t=An.get(e);return t===void 0&&(t=new Map,An.set(e,t)),t}class ra{constructor(e,{functions:t,useIsolating:n=!0,transform:s=r=>r}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:ia,DATETIME:na,...t},this._useIsolating=n,this._transform=s,this._intls=sa(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const n=[];for(let s=0;s<e.body.length;s++){let r=e.body[s];if(r.id.startsWith("-")){if(t===!1&&this._terms.has(r.id)){n.push(new Error(`Attempt to override an existing term: "${r.id}"`));continue}this._terms.set(r.id,r)}else{if(t===!1&&this._messages.has(r.id)){n.push(new Error(`Attempt to override an existing message: "${r.id}"`));continue}this._messages.set(r.id,r)}}return n}formatPattern(e,t=null,n=null){if(typeof e=="string")return this._transform(e);let s=new ta(this,n,t);try{return ks(s,e).toString(s)}catch(r){if(s.errors&&r instanceof Error)return s.errors.push(r),new B().toString(s);throw r}}}const Mi=/^(-?[a-zA-Z][\w-]*) *= */gm,In=/\.([a-zA-Z][\w-]*) *= */y,aa=/\*?\[/y,Ti=/(-?[0-9]+(?:\.([0-9]+))?)/y,oa=/([a-zA-Z][\w-]*)/y,Mn=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,la=/^[A-Z][A-Z0-9_-]*$/,Ft=/([^{}\n\r]+)/y,ha=/([^\\"\n\r]*)/y,Tn=/\\([\\"])/y,Cn=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,ca=/^\n+/,Rn=/ +$/,ua=/ *\r?\n/g,da=/( *)$/,fa=/{\s*/y,kn=/\s*}/y,pa=/\[\s*/y,ga=/\s*] */y,_a=/\s*\(\s*/y,ma=/\s*->\s*/y,va=/\s*:\s*/y,ba=/\s*,?\s*/y,wa=/\s+/y;class Ea{constructor(e){this.body=[],Mi.lastIndex=0;let t=0;for(;;){let _=Mi.exec(e);if(_===null)break;t=Mi.lastIndex;try{this.body.push(h(_[1]))}catch(m){if(m instanceof SyntaxError)continue;throw m}}function n(_){return _.lastIndex=t,_.test(e)}function s(_,m){if(e[t]===_)return t++,!0;if(m)throw new m(`Expected ${_}`);return!1}function r(_,m){if(n(_))return t=_.lastIndex,!0;if(m)throw new m(`Expected ${_.toString()}`);return!1}function a(_){_.lastIndex=t;let m=_.exec(e);if(m===null)throw new SyntaxError(`Expected ${_.toString()}`);return t=_.lastIndex,m}function l(_){return a(_)[1]}function h(_){let m=d(),S=u();if(m===null&&Object.keys(S).length===0)throw new SyntaxError("Expected message value or attributes");return{id:_,value:m,attributes:S}}function u(){let _=Object.create(null);for(;n(In);){let m=l(In),S=d();if(S===null)throw new SyntaxError("Expected attribute value");_[m]=S}return _}function d(){let _;if(n(Ft)&&(_=l(Ft)),e[t]==="{"||e[t]==="}")return v(_?[_]:[],1/0);let m=E();return m?_?v([_,m],m.length):(m.value=P(m.value,ca),v([m],m.length)):_?P(_,Rn):null}function v(_=[],m){for(;;){if(n(Ft)){_.push(l(Ft));continue}if(e[t]==="{"){_.push(w());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let Z=E();if(Z){_.push(Z),m=Math.min(m,Z.length);continue}break}let S=_.length-1,N=_[S];typeof N=="string"&&(_[S]=P(N,Rn));let U=[];for(let Z of _)Z instanceof Nn&&(Z=Z.value.slice(0,Z.value.length-m)),Z&&U.push(Z);return U}function w(){r(fa,SyntaxError);let _=M();if(r(kn))return _;if(r(ma)){let m=j();return r(kn,SyntaxError),{type:"select",selector:_,...m}}throw new SyntaxError("Unclosed placeable")}function M(){if(e[t]==="{")return w();if(n(Mn)){let[,_,m,S=null]=a(Mn);if(_==="$")return{type:"var",name:m};if(r(_a)){let N=b();if(_==="-")return{type:"term",name:m,attr:S,args:N};if(la.test(m))return{type:"func",name:m,args:N};throw new SyntaxError("Function names must be all upper-case")}return _==="-"?{type:"term",name:m,attr:S,args:[]}:{type:"mesg",name:m,attr:S}}return T()}function b(){let _=[];for(;;){switch(e[t]){case")":return t++,_;case void 0:throw new SyntaxError("Unclosed argument list")}_.push(x()),r(ba)}}function x(){let _=M();return _.type!=="mesg"?_:r(va)?{type:"narg",name:_.name,value:T()}:_}function j(){let _=[],m=0,S;for(;n(aa);){s("*")&&(S=m);let N=I(),U=d();if(U===null)throw new SyntaxError("Expected variant value");_[m++]={key:N,value:U}}if(m===0)return null;if(S===void 0)throw new SyntaxError("Expected default variant");return{variants:_,star:S}}function I(){r(pa,SyntaxError);let _;return n(Ti)?_=y():_={type:"str",value:l(oa)},r(ga,SyntaxError),_}function T(){if(n(Ti))return y();if(e[t]==='"')return A();throw new SyntaxError("Invalid expression")}function y(){let[,_,m=""]=a(Ti),S=m.length;return{type:"num",value:parseFloat(_),precision:S}}function A(){s('"',SyntaxError);let _="";for(;;){if(_+=l(ha),e[t]==="\\"){_+=O();continue}if(s('"'))return{type:"str",value:_};throw new SyntaxError("Unclosed string literal")}}function O(){if(n(Tn))return l(Tn);if(n(Cn)){let[,_,m]=a(Cn),S=parseInt(_||m,16);return S<=55295||57344<=S?String.fromCodePoint(S):"�"}throw new SyntaxError("Unknown escape sequence")}function E(){let _=t;switch(r(wa),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return R(e.slice(_,t))}return e[t-1]===" "?R(e.slice(_,t)):!1}function P(_,m){return _.replace(m,"")}function R(_){let m=_.replace(ua,`
`),S=da.exec(_)[1].length;return new Nn(m,S)}}}class Nn{constructor(e,t){this.value=e,this.length=t}}const ya=/<|&#?\w+;/,Pa={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Sa={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function xa(i,e){const{value:t}=e;if(typeof t=="string")if(i.localName==="title"&&i.namespaceURI==="http://www.w3.org/1999/xhtml")i.textContent=t;else if(!ya.test(t))i.textContent=t;else{const n=i.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");n.innerHTML=t,La(n.content,i)}Ns(e,i)}function La(i,e){for(const t of i.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const n=Ia(e,t);i.replaceChild(n,t);continue}if(Ta(t)){const n=Ma(t);i.replaceChild(n,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),i.replaceChild(Ji(t),t)}e.textContent="",e.appendChild(i)}function Aa(i,e){if(!i)return!1;for(let t of i)if(t.name===e)return!0;return!1}function Ns(i,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(n=>n.trim()):null;for(const n of Array.from(e.attributes))Fn(n.name,e,t)&&!Aa(i.attributes,n.name)&&e.removeAttribute(n.name);if(i.attributes)for(const n of Array.from(i.attributes))Fn(n.name,e,t)&&e.getAttribute(n.name)!==n.value&&e.setAttribute(n.name,n.value)}function Ia(i,e){const t=e.getAttribute("data-l10n-name"),n=i.querySelector(`[data-l10n-name="${t}"]`);if(!n)return console.warn(`An element named "${t}" wasn't found in the source.`),Ji(e);if(n.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${n.localName}).`),Ji(e);i.removeChild(n);const s=n.cloneNode(!1);return Fs(e,s)}function Ma(i){const e=i.ownerDocument.createElement(i.localName);return Fs(i,e)}function Ji(i){return i.ownerDocument.createTextNode(i.textContent)}function Ta(i){const e=Pa[i.namespaceURI];return e&&e.includes(i.localName)}function Fn(i,e,t=null){if(t&&t.includes(i))return!0;const n=Sa[e.namespaceURI];if(!n)return!1;const s=i.toLowerCase(),r=e.localName;if(n.global.includes(s))return!0;if(!n[r])return!1;if(n[r].includes(s))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&r==="input"&&s==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function Fs(i,e){return e.textContent=i.textContent,Ns(i,e),e}class Ca extends Array{static from(e){return e instanceof this?e:new this(e)}}class Ra extends Ca{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const n=this[this.length-1];if(n&&(await n).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class ka{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const n=[];let s=!1;for await(const r of this.bundles){s=!0;const a=Da(t,r,e,n);if(a.size===0)break;if(typeof console<"u"){const l=r.locales[0],h=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${l}: ${h}`)}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),n}formatMessages(e){return this.formatWithFallback(e,Fa)}formatValues(e){return this.formatWithFallback(e,Na)}async formatValue(e,t){const[n]=await this.formatValues([{id:e,args:t}]);return n}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Ra.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Na(i,e,t,n){return t.value?i.formatPattern(t.value,n,e):null}function Fa(i,e,t,n){const s={value:null,attributes:null};t.value&&(s.value=i.formatPattern(t.value,n,e));let r=Object.keys(t.attributes);if(r.length>0){s.attributes=new Array(r.length);for(let[a,l]of r.entries()){let h=i.formatPattern(t.attributes[l],n,e);s.attributes[a]={name:l,value:h}}}return s}function Da(i,e,t,n){const s=[],r=new Set;return t.forEach(({id:a,args:l},h)=>{if(n[h]!==void 0)return;let u=e.getMessage(a);if(u){if(s.length=0,n[h]=i(e,s,u,l),s.length>0&&typeof console<"u"){const d=e.locales[0],v=s.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${v}.`)}}else r.add(a)}),r}const Te="data-l10n-id",st="data-l10n-args",Oa=`[${Te}]`;class ja extends ka{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Te,st]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,n){return e.setAttribute(Te,t),n?e.setAttribute(st,JSON.stringify(n)):e.removeAttribute(st),e}getAttributes(e){return{id:e.getAttribute(Te),args:JSON.parse(e.getAttribute(st)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const n of t.addedNodes)if(n.nodeType===n.ELEMENT_NODE)if(n.childElementCount)for(const s of this.getTranslatables(n))this.pendingElements.add(s);else n.hasAttribute(Te)&&this.pendingElements.add(n);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),n=await this.formatMessages(t);return this.applyTranslations(e,n)}applyTranslations(e,t){this.pauseObserving();for(let n=0;n<e.length;n++)t[n]!==void 0&&xa(e[n],t[n]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Oa));return typeof e.hasAttribute=="function"&&e.hasAttribute(Te)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Te),args:JSON.parse(e.getAttribute(st)||null)}}}const Ds=class Yi{constructor({lang:e,isRTL:t},n=null){g(this,Vt),g(this,ot,new Set),g(this,lt),g(this,Q);var s,r;f(this,lt,c(s=Yi,oi,Qn).call(s,e)),f(this,Q,n),f(this,Vt,t??c(r=Yi,oi,Jn).call(r,o(this,lt))?"rtl":"ltr")}_setL10n(e){f(this,Q,e)}getLanguage(){return o(this,lt)}getDirection(){return o(this,Vt)}async get(e,t=null,n){if(Array.isArray(e))return e=e.map(a=>({id:a})),(await o(this,Q).formatMessages(e)).map(a=>a.value);const s=await o(this,Q).formatMessages([{id:e,args:t}]);return s?.[0].value||n}async translate(e){o(this,ot).add(e);try{o(this,Q).connectRoot(e),await o(this,Q).translateRoots()}catch{}}async destroy(){for(const e of o(this,ot))o(this,Q).disconnectRoot(e);o(this,ot).clear(),o(this,Q).pauseObserving()}pause(){o(this,Q).pauseObserving()}resume(){o(this,Q).resumeObserving()}};Vt=new WeakMap;ot=new WeakMap;lt=new WeakMap;Q=new WeakMap;oi=new WeakSet;Qn=function(i){return i=i?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[i]||i};Jn=function(i){const e=i.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(e)};g(Ds,oi);let Va=Ds;function Os(i,e){const t=new Ea(e),n=new ra(i),s=n.addResource(t);return s.length&&console.error("L10n errors",s),n}const js=class pt extends Va{constructor(e){super({lang:e});const t=e?c(pt,be,Yn).bind(pt,"en-us",this.getLanguage()):c(pt,be,ts).bind(pt,this.getLanguage());this._setL10n(new ja([],t))}};be=new WeakSet;Yn=async function*(i,e){const{baseURL:t,paths:n}=await c(this,be,es).call(this),s=[e];if(i!==e){const r=e.split("-",1)[0];r!==e&&s.push(r),s.push(i)}for(const r of s){const a=await c(this,be,qn).call(this,r,t,n);a?yield a:r==="en-us"&&(yield c(this,be,an).call(this,r))}};qn=async function(i,e,t){const n=t[i];if(!n)return null;const s=new URL(n,e),r=await Ts(s,"text");return Os(i,r)};es=async function(){try{const{href:i}=document.querySelector('link[type="application/l10n"]'),e=await Ts(i,"json");return{baseURL:i.replace(/[^/]*$/,"")||"./",paths:e}}catch{}return{baseURL:"./",paths:Object.create(null)}};ts=async function*(i){yield c(this,be,an).call(this,i)};an=async function(i){return Os(i,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties…
pdfjs-document-properties-button-label = Document Properties…
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)
pdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-string = { $date }, { $time }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing…
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document…
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-string = { $date }, { $time }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text =
    .aria-label = Text Editor
pdfjs-free-text-default-content = Start typing…
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, “A young man sits down at a table to eat a meal”
pdfjs-editor-resizer-label-top-left = Top left corner — resize
pdfjs-editor-resizer-label-top-middle = Top middle — resize
pdfjs-editor-resizer-label-top-right = Top right corner — resize
pdfjs-editor-resizer-label-middle-right = Middle right — resize
pdfjs-editor-resizer-label-bottom-right = Bottom right corner — resize
pdfjs-editor-resizer-label-bottom-middle = Bottom middle — resize
pdfjs-editor-resizer-label-bottom-left = Bottom left corner — resize
pdfjs-editor-resizer-label-middle-left = Middle left — resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all`)};g(js,be);let yi=js;const Wa=1e3,Ba=50,Ha=1e3;function dn(){return document.location.hash}class Ua{constructor({linkService:e,eventBus:t}){g(this,k),g(this,ke,null),this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",n=>{this._isPagesLoaded=!!n.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:n=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const s=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=n===!0,this._initialized=!0,c(this,k,ss).call(this);const r=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=dn(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!c(this,k,gt).call(this,r,!0)||t){const{hash:l,page:h,rotation:u}=c(this,k,on).call(this,!0);if(!l||s||t){c(this,k,ae).call(this,null,!0);return}c(this,k,ae).call(this,{hash:l,page:h,rotation:u},!0);return}const a=r.destination;c(this,k,vi).call(this,a,r.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(c(this,k,ln).call(this),this._initialized=!1,c(this,k,rs).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:n}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!c(this,k,li).call(this,n)&&(n!==null||this._destination)){console.error(`PDFHistory.push: "${n}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const s=e||JSON.stringify(t);if(!s)return;let r=!1;if(this._destination&&($a(this._destination.hash,s)||za(this._destination.dest,t))){if(this._destination.page)return;r=!0}this._popStateInProgress&&!r||(c(this,k,ae).call(this,{dest:t,hash:s,page:n,rotation:this.linkService.rotation},r),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!c(this,k,li).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(c(this,k,ae).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||c(this,k,mi).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;c(this,k,gt).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;c(this,k,gt).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}ke=new WeakMap;k=new WeakSet;ae=function(i,e=!1){const t=e||!this._destination,n={fingerprint:this._fingerprint,uid:t?this._uid:this._uid+1,destination:i};c(this,k,vi).call(this,i,n.uid);let s;if(this._updateUrl&&i?.hash){const r=document.location.href.split("#",1)[0];r.startsWith("file://")||(s=`${r}#${i.hash}`)}t?window.history.replaceState(n,"",s):window.history.pushState(n,"",s)};mi=function(i=!1){if(!this._position)return;let e=this._position;if(i&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination){c(this,k,ae).call(this,e);return}if(this._destination.temporary){c(this,k,ae).call(this,e,!0);return}if(this._destination.hash===e.hash||!this._destination.page&&this._numPositionUpdates<=Ba)return;let t=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest!==void 0||!this._destination.first)return;t=!0}c(this,k,ae).call(this,e,t)};li=function(i){return Number.isInteger(i)&&i>0&&i<=this.linkService.pagesCount};gt=function(i,e=!1){if(!i)return!1;if(i.fingerprint!==this._fingerprint)if(e){if(typeof i.fingerprint!="string"||i.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if(t?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(i.uid)||i.uid<0||i.destination===null||typeof i.destination!="object")};vi=function(i,e,t=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),t&&i?.temporary&&delete i.temporary,this._destination=i,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0};on=function(i=!1){const e=unescape(dn()).substring(1),t=wi(e),n=t.get("nameddest")||"";let s=t.get("page")|0;return(!c(this,k,li).call(this,s)||i&&n.length>0)&&(s=null),{hash:e,page:s,rotation:this.linkService.rotation}};is=function({location:i}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||c(this,k,mi).call(this,!0),this._updateViewareaTimeout=null},Ha))};ns=function({state:i}){const e=dn(),t=this._currentHash!==e;if(this._currentHash=e,!i){this._uid++;const{hash:s,page:r,rotation:a}=c(this,k,on).call(this);c(this,k,ae).call(this,{hash:s,page:r,rotation:a},!0);return}if(!c(this,k,gt).call(this,i))return;this._popStateInProgress=!0,t&&(this._blockHashChange++,Gr({target:window,name:"hashchange",delay:Wa}).then(()=>{this._blockHashChange--}));const n=i.destination;c(this,k,vi).call(this,n,i.uid,!0),xs(n.rotation)&&(this.linkService.rotation=n.rotation),n.dest?this.linkService.goToDestination(n.dest):n.hash?this.linkService.setHash(n.hash):n.page&&(this.linkService.page=n.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})};ln=function(){(!this._destination||this._destination.temporary)&&c(this,k,mi).call(this)};ss=function(){if(o(this,ke))return;f(this,ke,new AbortController);const{signal:i}=o(this,ke);this.eventBus._on("updateviewarea",c(this,k,is).bind(this),{signal:i}),window.addEventListener("popstate",c(this,k,ns).bind(this),{signal:i}),window.addEventListener("pagehide",c(this,k,ln).bind(this),{signal:i})};rs=function(){var i;(i=o(this,ke))==null||i.abort(),f(this,ke,null)};function $a(i,e){return typeof i!="string"||typeof e!="string"?!1:i===e||wi(i).get("nameddest")===e}function za(i,e){function t(n,s){if(typeof n!=typeof s||Array.isArray(n)||Array.isArray(s))return!1;if(n!==null&&typeof n=="object"&&s!==null){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(!t(n[r],s[r]))return!1;return!0}return n===s||Number.isNaN(n)&&Number.isNaN(s)}if(!(Array.isArray(i)&&Array.isArray(e))||i.length!==e.length)return!1;for(let n=0,s=i.length;n<s;n++)if(!t(i[n],e[n]))return!1;return!0}class Ga{constructor(e){g(this,Wt,null),g(this,Bt,null),g(this,Ht,null),g(this,Ut,null),g(this,ht),this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new yi),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,f(this,ht,e.uiManager),f(this,Wt,e.annotationLayer||null),f(this,Ut,e.textLayer||null),f(this,Bt,e.drawLayer||null),f(this,Ht,e.onAppend||null)}async render(e,t="display"){var n;if(t!=="display"||this._cancelled)return;const s=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:s}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=o(this,ht).direction,(n=o(this,Ht))==null||n.call(this,r),this.annotationEditorLayer=new Fr({uiManager:o(this,ht),div:r,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:s,annotationLayer:o(this,Wt),textLayer:o(this,Ut),drawLayer:o(this,Bt)});const a={viewport:s,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(a),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}Wt=new WeakMap;Bt=new WeakMap;Ht=new WeakMap;Ut=new WeakMap;ht=new WeakMap;{var Mt=Object.create(null);const i=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,n=/Android/.test(i),s=/\b(iPad|iPhone|iPod)(?=;)/.test(i)||e==="MacIntel"&&t>1;(function(){(s||n)&&(Mt.maxCanvasPixels=5242880)})()}const p={BROWSER:1,VIEWER:2,API:4,WORKER:8,PREFERENCE:128},Ee={canvasMaxAreaInBytes:{value:-1,kind:p.BROWSER+p.API},isInAutomation:{value:!1,kind:p.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:p.BROWSER},supportsDocumentFonts:{value:!0,kind:p.BROWSER},supportsIntegratedFind:{value:!1,kind:p.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:p.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:p.BROWSER},supportsPinchToZoom:{value:!0,kind:p.BROWSER},annotationEditorMode:{value:0,kind:p.VIEWER+p.PREFERENCE},annotationMode:{value:2,kind:p.VIEWER+p.PREFERENCE},cursorToolOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:p.VIEWER},defaultZoomDelay:{value:400,kind:p.VIEWER+p.PREFERENCE},defaultZoomValue:{value:"",kind:p.VIEWER+p.PREFERENCE},disableHistory:{value:!1,kind:p.VIEWER},disablePageLabels:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableHighlightEditor:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableHighlightFloatingButton:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableML:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePermissions:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableScripting:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableStampEditor:{value:!0,kind:p.VIEWER+p.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:p.VIEWER},externalLinkTarget:{value:0,kind:p.VIEWER+p.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:p.VIEWER+p.PREFERENCE},historyUpdateUrl:{value:!1,kind:p.VIEWER+p.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},imageResourcesPath:{value:"./images/",kind:p.VIEWER},maxCanvasPixels:{value:2**25,kind:p.VIEWER},forcePageColors:{value:!1,kind:p.VIEWER+p.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:p.VIEWER+p.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:p.VIEWER+p.PREFERENCE},pdfBugEnabled:{value:!1,kind:p.VIEWER+p.PREFERENCE},printResolution:{value:150,kind:p.VIEWER},sidebarViewOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},scrollModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},spreadModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},textLayerMode:{value:1,kind:p.VIEWER+p.PREFERENCE},viewOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},cMapPacked:{value:!0,kind:p.API},cMapUrl:{value:"../web/cmaps/",kind:p.API},disableAutoFetch:{value:!1,kind:p.API+p.PREFERENCE},disableFontFace:{value:!1,kind:p.API+p.PREFERENCE},disableRange:{value:!1,kind:p.API+p.PREFERENCE},disableStream:{value:!1,kind:p.API+p.PREFERENCE},docBaseUrl:{value:"",kind:p.API},enableHWA:{value:!0,kind:p.API+p.VIEWER+p.PREFERENCE},enableXfa:{value:!0,kind:p.API+p.PREFERENCE},fontExtraProperties:{value:!1,kind:p.API},isEvalSupported:{value:!0,kind:p.API},isOffscreenCanvasSupported:{value:!0,kind:p.API},maxImageSize:{value:-1,kind:p.API},pdfBug:{value:!1,kind:p.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:p.API},verbosity:{value:1,kind:p.API},workerPort:{value:null,kind:p.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:p.WORKER}};Ee.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:p.VIEWER},Ee.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:p.VIEWER},Ee.viewerCssTheme={value:0,kind:p.VIEWER+p.PREFERENCE};Ee.disablePreferences={value:!1,kind:p.VIEWER},Ee.locale={value:navigator.language||"en-US",kind:p.VIEWER};const de=Object.create(null);for(const i in Mt)de[i]=Mt[i];class Ka{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){var t;return de[e]??((t=Ee[e])==null?void 0:t.value)??void 0}static getAll(e=null,t=!1){const n=Object.create(null);for(const s in Ee){const r=Ee[s];e&&!(e&r.kind)||(n[s]=t?r.value:de[s]??r.value)}return n}static set(e,t){de[e]=t}static setAll(e,t=!1){if(t){if(this.get("disablePreferences"))return;for(const n in de)if(Mt[n]===void 0){console.warn('setAll: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.');break}}for(const n in e)de[n]=e[n]}static remove(e){delete de[e];const t=Mt[e];t!==void 0&&(de[e]=t)}}class Za{constructor(e){g(this,ne,null),this.pageIndex=e.pageIndex}async render(e="display"){e!=="display"||o(this,ne)||this._cancelled||f(this,ne,new Vr({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,o(this,ne)&&(o(this,ne).destroy(),f(this,ne,null))}setParent(e){var t;(t=o(this,ne))==null||t.setParent(e)}getDrawLayer(){return o(this,ne)}}ne=new WeakMap;const Dn={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Xa=/^H(\d+)$/;class Vs{constructor(){g(this,Ke),g(this,Y)}get renderingDone(){return o(this,Y)!==void 0}render(e){if(o(this,Y)!==void 0)return o(this,Y);const t=c(this,Ke,Di).call(this,e);return t?.classList.add("structTree"),f(this,Y,t)}hide(){o(this,Y)&&!o(this,Y).hidden&&(o(this,Y).hidden=!0)}show(){var e;(e=o(this,Y))!=null&&e.hidden&&(o(this,Y).hidden=!1)}}Y=new WeakMap;Ke=new WeakSet;Fi=function(i,e){const{alt:t,id:n,lang:s}=i;t!==void 0&&e.setAttribute("aria-label",pi(t)),n!==void 0&&e.setAttribute("aria-owns",n),s!==void 0&&e.setAttribute("lang",pi(s,!0))};Di=function(i){if(!i)return null;const e=document.createElement("span");if("role"in i){const{role:t}=i,n=t.match(Xa);n?(e.setAttribute("role","heading"),e.setAttribute("aria-level",n[1])):Dn[t]&&e.setAttribute("role",Dn[t])}if(c(this,Ke,Fi).call(this,i,e),i.children)if(i.children.length===1&&"id"in i.children[0])c(this,Ke,Fi).call(this,i.children[0],e);else for(const t of i.children)e.append(c(this,Ke,Di).call(this,t));return e};const Ws=class si{constructor(){g(this,zt),g(this,ce,!1),g(this,q,null),g(this,ue,new Map),g(this,Se,new Map)}setTextMapping(e){f(this,q,e)}enable(){if(o(this,ce))throw new Error("TextAccessibilityManager is already enabled.");if(!o(this,q))throw new Error("Text divs and strings have not been set.");if(f(this,ce,!0),f(this,q,o(this,q).slice()),o(this,q).sort(c(si,_t,$t)),o(this,ue).size>0){const e=o(this,q);for(const[t,n]of o(this,ue)){if(!document.getElementById(t)){o(this,ue).delete(t);continue}c(this,zt,Oi).call(this,t,e[n])}}for(const[e,t]of o(this,Se))this.addPointerInTextLayer(e,t);o(this,Se).clear()}disable(){o(this,ce)&&(o(this,Se).clear(),f(this,q,null),f(this,ce,!1))}removePointerInTextLayer(e){if(!o(this,ce)){o(this,Se).delete(e);return}const t=o(this,q);if(!t||t.length===0)return;const{id:n}=e,s=o(this,ue).get(n);if(s===void 0)return;const r=t[s];o(this,ue).delete(n);let a=r.getAttribute("aria-owns");a?.includes(n)&&(a=a.split(" ").filter(l=>l!==n).join(" "),a?r.setAttribute("aria-owns",a):(r.removeAttribute("aria-owns"),r.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:n}=e;if(!n)return null;if(!o(this,ce))return o(this,Se).set(e,t),null;t&&this.removePointerInTextLayer(e);const s=o(this,q);if(!s||s.length===0)return null;const r=At(s,u=>{var d;return c(d=si,_t,$t).call(d,e,u)<0}),a=Math.max(0,r-1),l=s[a];c(this,zt,Oi).call(this,n,l),o(this,ue).set(n,a);const h=l.parentNode;return h?.classList.contains("markedContent")?h.id:null}moveElementInDOM(e,t,n,s){const r=this.addPointerInTextLayer(n,s);if(!e.hasChildNodes())return e.append(t),r;const a=Array.from(e.childNodes).filter(u=>u!==t);if(a.length===0)return r;const l=n||t,h=At(a,u=>{var d;return c(d=si,_t,$t).call(d,l,u)<0});return h===0?a[0].before(t):a[h-1].after(t),r}};ce=new WeakMap;q=new WeakMap;ue=new WeakMap;Se=new WeakMap;_t=new WeakSet;$t=function(i,e){const t=i.getBoundingClientRect(),n=e.getBoundingClientRect();if(t.width===0&&t.height===0)return 1;if(n.width===0&&n.height===0)return-1;const s=t.y,r=t.y+t.height,a=t.y+t.height/2,l=n.y,h=n.y+n.height,u=n.y+n.height/2;if(a<=l&&u>=r)return-1;if(u<=s&&a>=h)return 1;const d=t.x+t.width/2,v=n.x+n.width/2;return d-v};zt=new WeakSet;Oi=function(i,e){const t=e.getAttribute("aria-owns");t?.includes(i)||e.setAttribute("aria-owns",t?`${t} ${i}`:i),e.removeAttribute("role")};g(Ws,_t);let Qa=Ws;class Ja{constructor({findController:e,eventBus:t,pageIndex:n}){g(this,xe,null),this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=n,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,o(this,xe)||(f(this,xe,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:o(this,xe).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=o(this,xe))==null||e.abort(),f(this,xe,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:n}=this;let s=0,r=0;const a=n.length-1,l=[];for(let h=0,u=e.length;h<u;h++){let d=e[h];for(;s!==a&&d>=r+n[s].length;)r+=n[s].length,s++;s===n.length&&console.error("Could not find a matching mapping");const v={begin:{divIdx:s,offset:d-r}};for(d+=t[h];s!==a&&d>r+n[s].length;)r+=n[s].length,s++;v.end={divIdx:s,offset:d-r},l.push(v)}return l}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:n}=this,{textContentItemsStr:s,textDivs:r}=this,a=n===t.selected.pageIdx,l=t.selected.matchIdx,h=t.state.highlightAll;let u=null;const d={offset:void 0};function v(I,T){const y=I.divIdx;return r[y].textContent="",w(y,0,I.offset,T)}function w(I,T,y,A){let O=r[I];if(O.nodeType===Node.TEXT_NODE){const R=document.createElement("span");O.before(R),R.append(O),r[I]=R,O=R}const E=s[I].substring(T,y),P=document.createTextNode(E);if(A){const R=document.createElement("span");return R.className=`${A} appended`,R.append(P),O.append(R),A.includes("selected")?R.offsetLeft:0}return O.append(P),0}let M=l,b=M+1;if(h)M=0,b=e.length;else if(!a)return;let x=-1,j=-1;for(let I=M;I<b;I++){const T=e[I],y=T.begin;if(y.divIdx===x&&y.offset===j)continue;x=y.divIdx,j=y.offset;const A=T.end,O=a&&I===l,E=O?" selected":"";let P=0;if(!u||y.divIdx!==u.divIdx?(u!==null&&w(u.divIdx,u.offset,d.offset),v(y)):w(u.divIdx,u.offset,y.offset),y.divIdx===A.divIdx)P=w(y.divIdx,y.offset,A.offset,"highlight"+E);else{P=w(y.divIdx,y.offset,d.offset,"highlight begin"+E);for(let R=y.divIdx+1,_=A.divIdx;R<_;R++)r[R].className="highlight middle"+E;v(A,"highlight end"+E)}u=A,O&&t.scrollMatchIntoView({element:r[y.divIdx],selectedLeft:P,pageIndex:n,matchIndex:l})}u&&w(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:n,pageIdx:s}=this,{textContentItemsStr:r,textDivs:a}=this;let l=-1;for(const d of n){const v=Math.max(l,d.begin.divIdx);for(let w=v,M=d.end.divIdx;w<=M;w++){const b=a[w];b.textContent=r[w],b.className=""}l=d.end.divIdx+1}if(!t?.highlightMatches||e)return;const h=t.pageMatches[s]||null,u=t.pageMatchesLength[s]||null;this.matches=this._convertMatches(h,u),this._renderMatches(this.matches)}}xe=new WeakMap;const it=class Bs{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:n=null,enablePermissions:s=!1,onAppend:r=null}){g(this,ji),g(this,hi,!1),g(this,Gt,null),g(this,We,!1),g(this,se,null),this.pdfPage=e,this.highlighter=t,this.accessibilityManager=n,f(this,hi,s===!0),f(this,Gt,r),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render(e,t=null){var n,s,r,a,l;if(o(this,We)&&o(this,se)){o(this,se).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),f(this,se,new $r({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:h,textContentItemsStr:u}=o(this,se);(n=this.highlighter)==null||n.setTextMapping(h,u),(s=this.accessibilityManager)==null||s.setTextMapping(h),await o(this,se).render(),f(this,We,!0);const d=document.createElement("div");d.className="endOfContent",this.div.append(d),c(this,ji,as).call(this,d),(r=o(this,Gt))==null||r.call(this,this.div),(a=this.highlighter)==null||a.enable(),(l=this.accessibilityManager)==null||l.enable()}hide(){var e;!this.div.hidden&&o(this,We)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&o(this,We)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,n,s;(e=o(this,se))==null||e.cancel(),f(this,se,null),(t=this.highlighter)==null||t.disable(),(n=this.accessibilityManager)==null||n.disable(),c(s=Bs,bi,os).call(s,this.div)}};hi=new WeakMap;Gt=new WeakMap;We=new WeakMap;se=new WeakMap;ee=new WeakMap;Ne=new WeakMap;ji=new WeakSet;as=function(i){var e;const{div:t}=this;t.addEventListener("mousedown",n=>{i.classList.add("active")}),t.addEventListener("copy",n=>{if(!o(this,hi)){const s=document.getSelection();n.clipboardData.setData("text/plain",pi(Hr(s.toString())))}n.preventDefault(),n.stopPropagation()}),o(it,ee).set(t,i),c(e=it,bi,ls).call(e)};bi=new WeakSet;os=function(i){var e;o(this,ee).delete(i),o(this,ee).size===0&&((e=o(this,Ne))==null||e.abort(),f(this,Ne,null))};ls=function(){if(o(this,Ne))return;f(this,Ne,new AbortController);const{signal:i}=o(this,Ne),e=(s,r)=>{r.append(s),s.style.width="",s.style.height="",s.classList.remove("active")};document.addEventListener("pointerup",()=>{o(this,ee).forEach(e)},{signal:i});var t,n;document.addEventListener("selectionchange",()=>{const s=document.getSelection();if(s.rangeCount===0){o(this,ee).forEach(e);return}const r=new Set;for(let v=0;v<s.rangeCount;v++){const w=s.getRangeAt(v);for(const M of o(this,ee).keys())!r.has(M)&&w.intersectsNode(M)&&r.add(M)}for(const[v,w]of o(this,ee))r.has(v)?w.classList.add("active"):e(w,v);if(t??(t=getComputedStyle(o(this,ee).values().next().value).getPropertyValue("-moz-user-select")==="none"),t)return;const a=s.getRangeAt(0),l=n&&(a.compareBoundaryPoints(Range.END_TO_END,n)===0||a.compareBoundaryPoints(Range.START_TO_END,n)===0);let h=l?a.startContainer:a.endContainer;h.nodeType===Node.TEXT_NODE&&(h=h.parentNode);const u=h.parentElement.closest(".textLayer"),d=o(this,ee).get(u);d&&(d.style.width=u.style.width,d.style.height=u.style.height,h.parentElement.insertBefore(d,l?h:h.nextSibling)),n=a.cloneRange()},{signal:i})};g(it,bi);g(it,ee,new Map);g(it,Ne,null);let Hs=it;class Us{constructor({pdfPage:e,annotationStorage:t=null,linkService:n,xfaHtml:s=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=n,this.xfaHtml=s,this.div=null,this._cancelled=!1}async render(e,t="display"){if(t==="print"){const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),r.div=this.div,Ii.render(r)}const n=await this.pdfPage.getXfa();if(this._cancelled||!n)return{textDivs:[]};const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?Ii.update(s):(this.div=document.createElement("div"),s.div=this.div,Ii.render(s))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Ya={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new cn}},qa=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class $s{constructor(e){g(this,D),g(this,Be,oe.ENABLE_FORMS),g(this,Kt,!1),g(this,He,!1),g(this,Le,null),g(this,Ae,null),g(this,ci,null),g(this,Ze,null),g(this,ct,W.INITIAL),g(this,ut,ie.ENABLE),g(this,fe,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}),g(this,Ue,new WeakMap),g(this,Fe,[null,null,null,null]);var t;const n=e.container,s=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,f(this,Le,e.layerProperties||Ya),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||Es,this.viewport=s,this.pdfPageRotate=s.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,f(this,ut,e.textLayerMode??ie.ENABLE),f(this,Be,e.annotationMode??oe.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??Ka.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,f(this,Kt,e.enableHWA||!1),this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||(this.l10n=new yi),this.renderTask=null,this.resume=null,this._isStandalone=!((t=this.renderingQueue)!=null&&t.hasViewer()),this._container=n,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const r=document.createElement("div");if(r.className="page",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),r.setAttribute("data-l10n-id","pdfjs-page-landmark"),r.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=r,c(this,D,Zt).call(this),n?.append(r),this._isStandalone){n?.style.setProperty("--scale-factor",this.scale*re.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:a}=e;a&&a.then(l=>{a===this._optionalContentConfigPromise&&(o(this,fe).initialOptionalContent=l.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}get renderingState(){return o(this,ct)}set renderingState(e){if(e!==o(this,ct))switch(f(this,ct,e),o(this,Ae)&&(clearTimeout(o(this,Ae)),f(this,Ae,null)),e){case W.PAUSED:this.div.classList.remove("loading");break;case W.RUNNING:this.div.classList.add("loadingIcon"),f(this,Ae,setTimeout(()=>{this.div.classList.add("loading"),f(this,Ae,null)},0));break;case W.INITIAL:case W.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(e){var t,n,s,r;this._isStandalone&&(((t=this.pageColors)==null?void 0:t.foreground)==="CanvasText"||((n=this.pageColors)==null?void 0:n.background)==="Canvas")&&((s=this._container)==null||s.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(r=this._container)==null||r.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;const a=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*re.PDF_TO_CSS_UNITS,rotation:a}),c(this,D,Zt).call(this),this.reset()}destroy(){var e;this.reset(),(e=this.pdfPage)==null||e.cleanup()}get _textHighlighter(){return gi(this,"_textHighlighter",new Ja({pageIndex:this.id-1,eventBus:this.eventBus,findController:o(this,Le).findController}))}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;o(this,Ue).delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:n=!1,keepXfaLayer:s=!1,keepTextLayer:r=!1}={}){var a,l,h,u,d;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:n,keepXfaLayer:s,keepTextLayer:r}),this.renderingState=W.INITIAL;const v=this.div,w=v.childNodes,M=e&&this.zoomLayer||null,b=t&&((a=this.annotationLayer)==null?void 0:a.div)||null,x=n&&((l=this.annotationEditorLayer)==null?void 0:l.div)||null,j=s&&((h=this.xfaLayer)==null?void 0:h.div)||null,I=r&&((u=this.textLayer)==null?void 0:u.div)||null;for(let T=w.length-1;T>=0;T--){const y=w[T];switch(y){case M:case b:case x:case j:case I:continue}y.remove();const A=o(this,Fe).indexOf(y);A>=0&&(o(this,Fe)[A]=null)}v.removeAttribute("data-loaded"),b&&this.annotationLayer.hide(),x&&this.annotationEditorLayer.hide(),j&&this.xfaLayer.hide(),I&&this.textLayer.hide(),(d=this.structTreeLayer)==null||d.hide(),M||(this.canvas&&(o(this,Ue).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:n=null,drawingDelay:s=-1}){var r;this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),n instanceof Promise&&(this._optionalContentConfigPromise=n,n.then(l=>{n===this._optionalContentConfigPromise&&(o(this,fe).initialOptionalContent=l.hasInitialVisibility)})),o(this,fe).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*re.PDF_TO_CSS_UNITS,rotation:a}),c(this,D,Zt).call(this),this._isStandalone&&((r=this._container)==null||r.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let l=!1;if(o(this,He)){if(this.maxCanvasPixels===0)l=!0;else if(this.maxCanvasPixels>0){const{width:u,height:d}=this.viewport,{sx:v,sy:w}=this.outputScale;l=(Math.floor(u)*v|0)*(Math.floor(d)*w|0)>this.maxCanvasPixels}}const h=s>=0&&s<1e3;if(h||l){if(h&&!l&&this.renderingState!==W.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=W.FINISHED,o(this,fe).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:o(this,Ze)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:n=!1,keepTextLayer:s=!1,cancelExtraDelay:r=0}={}){var a;this.renderTask&&(this.renderTask.cancel(r),this.renderTask=null),this.resume=null,this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!n||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(a=this._textHighlighter)==null||a.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:n=!1,redrawXfaLayer:s=!1,redrawTextLayer:r=!1,hideTextLayer:a=!1}){var l;if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:u}=e;u.width=u.height=""}const h=o(this,Ue).get(e);if(this.viewport!==h){const u=this.viewport.rotation-h.rotation,d=Math.abs(u);let v=1,w=1;if(d===90||d===270){const{width:M,height:b}=this.viewport;v=b/M,w=M/b}e.style.transform=`rotate(${u}deg) scale(${v}, ${w})`}t&&this.annotationLayer&&c(this,D,Vi).call(this),n&&this.annotationEditorLayer&&(this.drawLayer&&c(this,D,Bi).call(this),c(this,D,Wi).call(this)),s&&this.xfaLayer&&c(this,D,Hi).call(this),this.textLayer&&(a?(this.textLayer.hide(),(l=this.structTreeLayer)==null||l.hide()):r&&c(this,D,Ui).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}async draw(){this.renderingState!==W.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:e,l10n:t,pageColors:n,pdfPage:s,viewport:r}=this;if(!s)throw this.renderingState=W.FINISHED,new Error("pdfPage is not loaded");this.renderingState=W.RUNNING;const a=document.createElement("div");if(a.classList.add("canvasWrapper"),c(this,D,Ge).call(this,a,"canvasWrapper"),!this.textLayer&&o(this,ut)!==ie.DISABLE&&!s.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new Qa),this.textLayer=new Hs({pdfPage:s,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:o(this,ut)===ie.ENABLE_PERMISSIONS,onAppend:E=>{this.l10n.pause(),c(this,D,Ge).call(this,E,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&o(this,Be)!==oe.DISABLE){const{annotationStorage:E,annotationEditorUIManager:P,downloadManager:R,enableScripting:_,fieldObjectsPromise:m,hasJSActionsPromise:S,linkService:N}=o(this,Le);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new Cs({pdfPage:s,annotationStorage:E,imageResourcesPath:this.imageResourcesPath,renderForms:o(this,Be)===oe.ENABLE_FORMS,linkService:N,downloadManager:R,enableScripting:_,hasJSActionsPromise:S,fieldObjectsPromise:m,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:P,onAppend:U=>{c(this,D,Ge).call(this,U,"annotationLayer")}})}const l=E=>{if(w?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=W.PAUSED,this.resume=()=>{this.renderingState=W.RUNNING,E()};return}E()},{width:h,height:u}=r,d=document.createElement("canvas");d.setAttribute("role","presentation"),d.hidden=!0;const v=!!(n?.background&&n?.foreground);let w=E=>{(!v||E)&&(d.hidden=!1,w=null)};a.append(d),this.canvas=d;const M=d.getContext("2d",{alpha:!1,willReadFrequently:!o(this,Kt)}),b=this.outputScale=new tr;if(this.maxCanvasPixels===0){const E=1/this.scale;b.sx*=E,b.sy*=E,f(this,He,!0)}else if(this.maxCanvasPixels>0){const E=h*u,P=Math.sqrt(this.maxCanvasPixels/E);b.sx>P||b.sy>P?(b.sx=P,b.sy=P,f(this,He,!0)):f(this,He,!1)}const x=gn(b.sx),j=gn(b.sy);d.width=Rt(h*b.sx,x[0]),d.height=Rt(u*b.sy,j[0]);const{style:I}=d;I.width=Rt(h,x[1])+"px",I.height=Rt(u,j[1])+"px",o(this,Ue).set(d,r);const T=b.scaled?[b.sx,0,0,b.sy,0,0]:null,y={canvasContext:M,transform:T,viewport:r,annotationMode:o(this,Be),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:n},A=this.renderTask=s.render(y);A.onContinue=l;const O=A.promise.then(async()=>{var E;w?.(!0),await c(this,D,$i).call(this,A),c(this,D,Ui).call(this),this.annotationLayer&&await c(this,D,Vi).call(this);const{annotationEditorUIManager:P}=o(this,Le);P&&(this.drawLayer||(this.drawLayer=new Za({pageIndex:this.id})),await c(this,D,Bi).call(this),this.drawLayer.setParent(a),this.annotationEditorLayer||(this.annotationEditorLayer=new Ga({uiManager:P,pdfPage:s,l10n:t,accessibilityManager:this._accessibilityManager,annotationLayer:(E=this.annotationLayer)==null?void 0:E.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:R=>{c(this,D,Ge).call(this,R,"annotationEditorLayer")}})),c(this,D,Wi).call(this))},E=>(E instanceof un||w?.(!0),c(this,D,$i).call(this,A,E)));if(s.isPureXfa){if(!this.xfaLayer){const{annotationStorage:E,linkService:P}=o(this,Le);this.xfaLayer=new Us({pdfPage:s,annotationStorage:E,linkService:P})}c(this,D,Hi).call(this)}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),O}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:n}=o(this,fe);return e&&t&&n?this.canvas:null}}Be=new WeakMap;Kt=new WeakMap;He=new WeakMap;Le=new WeakMap;Ae=new WeakMap;ci=new WeakMap;Ze=new WeakMap;ct=new WeakMap;ut=new WeakMap;fe=new WeakMap;Ue=new WeakMap;Fe=new WeakMap;D=new WeakSet;Ge=function(i,e){const t=qa.get(e),n=o(this,Fe)[t];if(o(this,Fe)[t]=i,n){n.replaceWith(i);return}for(let s=t-1;s>=0;s--){const r=o(this,Fe)[s];if(r){r.after(i);return}}this.div.prepend(i)};Zt=function(){const{viewport:i}=this;if(this.pdfPage){if(o(this,ci)===i.rotation)return;f(this,ci,i.rotation)}Ur(this.div,i,!0,!1)};Ct=function(i,e){this.eventBus.dispatch(i,{source:this,pageNumber:this.id,error:e})};Vi=async function(){let i=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(e){console.error(`#renderAnnotationLayer: "${e}".`),i=e}finally{c(this,D,Ct).call(this,"annotationlayerrendered",i)}};Wi=async function(){let i=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(e){console.error(`#renderAnnotationEditorLayer: "${e}".`),i=e}finally{c(this,D,Ct).call(this,"annotationeditorlayerrendered",i)}};Bi=async function(){try{await this.drawLayer.render("display")}catch(i){console.error(`#renderDrawLayer: "${i}".`)}};Hi=async function(){var i;let e=null;try{const t=await this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&c(this,D,cs).call(this,t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),c(this,D,Ge).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),c(this,D,Ct).call(this,"xfalayerrendered",e)}};Ui=async function(){if(!this.textLayer)return;let i=null;try{await this.textLayer.render(this.viewport)}catch(e){if(e instanceof Nr)return;console.error(`#renderTextLayer: "${e}".`),i=e}c(this,D,Ct).call(this,"textlayerrendered",i),c(this,D,hs).call(this)};hs=async function(){var i,e,t;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new Vs);const n=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),s=(i=this.structTreeLayer)==null?void 0:i.render(n);s&&(this.l10n.pause(),(e=this.canvas)==null||e.append(s),this.l10n.resume()),(t=this.structTreeLayer)==null||t.show()};cs=async function(i){const e=await this.pdfPage.getTextContent(),t=[];for(const n of e.items)t.push(n.str);this._textHighlighter.setTextMapping(i,t),this._textHighlighter.enable()};$i=async function(i,e=null){if(i===this.renderTask&&(this.renderTask=null),e instanceof un){f(this,Ze,null);return}if(f(this,Ze,e),this.renderingState=W.FINISHED,this._resetZoomLayer(!0),o(this,fe).regularAnnotations=!i.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:o(this,Ze)}),e)throw e};async function eo(i){const e="",t=e.split("#",1)[0];let{info:n,metadata:s,contentDispositionFilename:r,contentLength:a}=await i.getMetadata();if(!a){const{length:l}=await i.getDownloadInfo();a=l}return{...n,baseURL:t,filesize:a,filename:r||Wr(e),metadata:s?.getRaw(),authors:s?.get("dc:creator"),numPages:i.numPages,URL:e}}class to{constructor(e){this._ready=new Promise((t,n)=>{import(e).then(r=>{t(r.QuickJSSandbox())}).catch(n)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}class io{constructor({eventBus:e,externalServices:t=null,docProperties:n=null}){g(this,X),g(this,le,null),g(this,et,null),g(this,Xt,null),g(this,Xe,null),g(this,Qe,null),g(this,ui,null),g(this,K,null),g(this,_e,null),g(this,mt,!1),g(this,H,null),g(this,te,null),f(this,Qe,e),f(this,ui,t),f(this,Xt,n)}setViewer(e){f(this,_e,e)}async setDocument(e){var t;if(o(this,K)&&await c(this,X,dt).call(this),f(this,K,e),!e)return;const[n,s,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!n&&!r){await c(this,X,dt).call(this);return}if(e!==o(this,K))return;try{f(this,H,c(this,X,ds).call(this))}catch(h){console.error(`setDocument: "${h.message}".`),await c(this,X,dt).call(this);return}const a=o(this,Qe);f(this,Xe,new AbortController);const{signal:l}=o(this,Xe);a._on("updatefromsandbox",h=>{h?.source===window&&c(this,X,us).call(this,h.detail)},{signal:l}),a._on("dispatcheventinsandbox",h=>{var u;(u=o(this,H))==null||u.dispatchEventInSandbox(h.detail)},{signal:l}),a._on("pagechanging",({pageNumber:h,previous:u})=>{h!==u&&(c(this,X,zi).call(this,u),c(this,X,Qt).call(this,h))},{signal:l}),a._on("pagerendered",({pageNumber:h})=>{this._pageOpenPending.has(h)&&h===o(this,_e).currentPageNumber&&c(this,X,Qt).call(this,h)},{signal:l}),a._on("pagesdestroy",async()=>{var h,u;await c(this,X,zi).call(this,o(this,_e).currentPageNumber),await((h=o(this,H))==null?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=o(this,le))==null||u.resolve()},{signal:l});try{const h=await o(this,Xt).call(this,e);if(e!==o(this,K))return;await o(this,H).createSandbox({objects:n,calculationOrder:s,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...h,actions:r}}),a.dispatch("sandboxcreated",{source:this})}catch(h){console.error(`setDocument: "${h.message}".`),await c(this,X,dt).call(this);return}await((t=o(this,H))==null?void 0:t.dispatchEventInSandbox({id:"doc",name:"Open"})),await c(this,X,Qt).call(this,o(this,_e).currentPageNumber,!0),Promise.resolve().then(()=>{e===o(this,K)&&f(this,mt,!0)})}async dispatchWillSave(){var e;return(e=o(this,H))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=o(this,H))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(o(this,H)){await((e=o(this,te))==null?void 0:e.promise),f(this,te,Promise.withResolvers());try{await o(this,H).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw o(this,te).resolve(),f(this,te,null),t}await o(this,te).promise}}async dispatchDidPrint(){var e;return(e=o(this,H))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=o(this,et))==null?void 0:e.promise)||null}get ready(){return o(this,mt)}get _pageOpenPending(){return gi(this,"_pageOpenPending",new Set)}get _visitedPages(){return gi(this,"_visitedPages",new Map)}}le=new WeakMap;et=new WeakMap;Xt=new WeakMap;Xe=new WeakMap;Qe=new WeakMap;ui=new WeakMap;K=new WeakMap;_e=new WeakMap;mt=new WeakMap;H=new WeakMap;te=new WeakMap;X=new WeakSet;us=async function(i){var e,t;const n=o(this,_e),s=n.isInPresentationMode||n.isChangingPresentationMode,{id:r,siblings:a,command:l,value:h}=i;if(!r){switch(l){case"clear":console.clear();break;case"error":console.error(h);break;case"layout":if(!s){const d=cr(h);n.spreadMode=d.spreadMode}break;case"page-num":n.currentPageNumber=h+1;break;case"print":await n.pagesPromise,o(this,Qe).dispatch("print",{source:this});break;case"println":console.log(h);break;case"zoom":s||(n.currentScaleValue=h);break;case"SaveAs":o(this,Qe).dispatch("download",{source:this});break;case"FirstPage":n.currentPageNumber=1;break;case"LastPage":n.currentPageNumber=n.pagesCount;break;case"NextPage":n.nextPage();break;case"PrevPage":n.previousPage();break;case"ZoomViewIn":s||n.increaseScale();break;case"ZoomViewOut":s||n.decreaseScale();break;case"WillPrintFinished":(e=o(this,te))==null||e.resolve(),f(this,te,null);break}return}if(s&&i.focus)return;delete i.id,delete i.siblings;const u=a?[r,...a]:[r];for(const d of u){const v=document.querySelector(`[data-element-id="${d}"]`);v?v.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):(t=o(this,K))==null||t.annotationStorage.setValue(d,i)}};Qt=async function(i,e=!1){const t=o(this,K),n=this._visitedPages;if(e&&f(this,le,Promise.withResolvers()),!o(this,le))return;const s=o(this,_e).getPageView(i-1);if(s?.renderingState!==W.FINISHED){this._pageOpenPending.add(i);return}this._pageOpenPending.delete(i);const r=(async()=>{var a,l;const h=await(n.has(i)?null:(a=s.pdfPage)==null?void 0:a.getJSActions());t===o(this,K)&&await((l=o(this,H))==null?void 0:l.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:h}))})();n.set(i,r)};zi=async function(i){var e;const t=o(this,K),n=this._visitedPages;if(!o(this,le)||this._pageOpenPending.has(i))return;const s=n.get(i);s&&(n.set(i,null),await s,t===o(this,K)&&await((e=o(this,H))==null?void 0:e.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))};ds=function(){if(f(this,et,Promise.withResolvers()),o(this,H))throw new Error("#initScripting: Scripting already exists.");return o(this,ui).createScripting()};dt=async function(){var i,e,t,n;if(!o(this,H)){f(this,K,null),(i=o(this,et))==null||i.resolve();return}o(this,le)&&(await Promise.race([o(this,le).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),f(this,le,null)),f(this,K,null);try{await o(this,H).destroySandbox()}catch{}(e=o(this,te))==null||e.reject(new Error("Scripting destroyed.")),f(this,te,null),(t=o(this,Xe))==null||t.abort(),f(this,Xe,null),this._pageOpenPending.clear(),this._visitedPages.clear(),f(this,H,null),f(this,mt,!1),(n=o(this,et))==null||n.resolve()};class no extends io{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new to(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>eo(t)),super(e)}}const so=3e4;class ro{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),so)))}getHighestPriority(e,t,n,s=!1){const r=e.views,a=r.length;if(a===0)return null;for(let v=0;v<a;v++){const w=r[v].view;if(!this.isViewFinished(w))return w}const l=e.first.id,h=e.last.id;if(h-l+1>a){const v=e.ids;for(let w=1,M=h-l;w<M;w++){const b=n?l+w:h-w;if(v.has(b))continue;const x=t[b-1];if(!this.isViewFinished(x))return x}}let u=n?h:l-2,d=t[u];return d&&!this.isViewFinished(d)||s&&(u+=n?1:-1,d=t[u],d&&!this.isViewFinished(d))?d:null}isViewFinished(e){return e.renderingState===W.FINISHED}renderView(e){switch(e.renderingState){case W.FINISHED:return!1;case W.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case W.RUNNING:this.highestPriorityPage=e.renderingId;break;case W.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof un||console.error(`renderView: "${t}"`)});break}return!0}}const On=10,Dt={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function jn(i){return Object.values(ve).includes(i)&&i!==ve.DISABLE}class ao{constructor(e){g(this,Jt),g(this,me,new Set),g(this,$e,0),f(this,$e,e)}push(e){const t=o(this,me);t.has(e)&&t.delete(e),t.add(e),t.size>o(this,$e)&&c(this,Jt,Gi).call(this)}resize(e,t=null){f(this,$e,e);const n=o(this,me);if(t){const s=n.size;let r=1;for(const a of n)if(t.has(a.id)&&(n.delete(a),n.add(a)),++r>s)break}for(;n.size>o(this,$e);)c(this,Jt,Gi).call(this)}has(e){return o(this,me).has(e)}[Symbol.iterator](){return o(this,me).keys()}}me=new WeakMap;$e=new WeakMap;Jt=new WeakSet;Gi=function(){const i=o(this,me).keys().next().value;i?.destroy(),o(this,me).delete(i)};class zs{constructor(e){g(this,F),g(this,Ie,null),g(this,Yt,null),g(this,qt,null),g(this,pe,ve.NONE),g(this,G,null),g(this,Je,oe.ENABLE_FORMS),g(this,vt,null),g(this,ei,!1),g(this,ti,!1),g(this,ii,!1),g(this,ze,null),g(this,ni,null),g(this,bt,!1),g(this,Ce,null),g(this,xt,!1),g(this,di,0),g(this,ft,new ResizeObserver(c(this,F,ws).bind(this))),g(this,Ye,null),g(this,Re,null),g(this,Lt,ie.ENABLE);var t,n;const s="4.4.168";if(wn!==s)throw new Error(`The API version "${wn}" does not match the Viewer version "${s}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,((t=this.container)==null?void 0:t.tagName)!=="DIV"||((n=this.viewer)==null?void 0:n.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");o(this,ft).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new cn,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,f(this,Yt,e.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,f(this,Lt,e.textLayerMode??ie.ENABLE),f(this,Je,e.annotationMode??oe.ENABLE_FORMS),f(this,pe,e.annotationEditorMode??ve.NONE),f(this,qt,e.annotationEditorHighlightColors||null),f(this,ti,e.enableHighlightFloatingButton===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||(this.l10n=new yi),f(this,ii,e.enablePermissions||!1),this.pageColors=e.pageColors||null,f(this,ni,e.mlManager||null),f(this,ei,e.enableHWA||!1),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new ro,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:r}=e;r?.addEventListener("abort",()=>{o(this,ft).disconnect(),f(this,ft,null)},{once:!0}),this.scroll=ir(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=qe.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),c(this,F,hn).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:l})=>{const h=this._pages[a-1];o(this,Ie).has(h)||l?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(o(this,Ie))}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return o(this,Je)===oe.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var n;if(this._currentPageNumber===e)return t&&c(this,F,Zi).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const s=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((n=this._pageLabels)==null?void 0:n[e-1])??null,previous:s}),t&&c(this,F,Zi).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==Pi?this._currentScale:Es}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&c(this,F,ge).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&c(this,F,ge).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!xs(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&c(this,F,ge).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return gi(this,"_layerProperties",{get annotationEditorUIManager(){return o(e,G)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let n=1,s=this.pdfDocument.numPages;n<=s;++n){if(o(this,xt))return null;t.length=0;const r=await this.pdfDocument.getPage(n),{items:a}=await r.getTextContent();for(const l of a)l.str&&t.push(l.str),l.hasEOL&&t.push(`
`);e.push(pi(t.join("")))}return e.join(`
`)}setDocument(e){var t,n;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(t=this.findController)==null||t.setDocument(null),(n=this._scriptingManager)==null||n.setDocument(null),o(this,G)&&(o(this,G).destroy(),f(this,G,null))),this.pdfDocument=e,!e)return;const s=e.numPages,r=e.getPage(1),a=e.getOptionalContentConfig({intent:"display"}),l=o(this,ii)?e.getPermissions():Promise.resolve(),{eventBus:h,pageColors:u,viewer:d}=this;f(this,ze,new AbortController);const{signal:v}=o(this,ze);if(s>Dt.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const b=this._scrollMode=C.PAGE;h.dispatch("scrollmodechanged",{source:this,mode:b})}this._pagesCapability.promise.then(()=>{h.dispatch("pagesloaded",{source:this,pagesCount:s})},()=>{});const w=b=>{const x=this._pages[b.pageNumber-1];x&&o(this,Ie).push(x)};h._on("pagerender",w,{signal:v});const M=b=>{b.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:b.timestamp}),h._off("pagerendered",M))};h._on("pagerendered",M,{signal:v}),Promise.all([r,l]).then(([b,x])=>{var j;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(b),this._optionalContentConfigPromise=a;const{annotationEditorMode:I,annotationMode:T,textLayerMode:y}=c(this,F,fs).call(this,x);if(y!==ie.DISABLE){const P=f(this,Ce,document.createElement("div"));P.id="hiddenCopyElement",d.before(P)}if(I!==ve.DISABLE){const P=I;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):jn(P)?(f(this,G,new Dr(this.container,d,o(this,Yt),h,e,u,o(this,qt),o(this,ti),o(this,ni))),h.dispatch("annotationeditoruimanager",{source:this,uiManager:o(this,G)}),P!==ve.NONE&&o(this,G).updateMode(P)):console.error(`Invalid AnnotationEditor mode: ${P}`)}const A=this._scrollMode===C.PAGE?null:d,O=this.currentScale,E=b.getViewport({scale:O*re.PDF_TO_CSS_UNITS});d.style.setProperty("--scale-factor",E.scale),(u?.foreground==="CanvasText"||u?.background==="Canvas")&&(d.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),d.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let P=1;P<=s;++P){const R=new $s({container:A,eventBus:h,id:P,scale:O,defaultViewport:E.clone(),optionalContentConfigPromise:a,renderingQueue:this.renderingQueue,textLayerMode:y,annotationMode:T,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:u,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:o(this,ei)});this._pages.push(R)}(j=this._pages[0])==null||j.setPdfPage(b),this._scrollMode===C.PAGE?c(this,F,wt).call(this):this._spreadMode!==z.NONE&&this._updateSpreadMode(),c(this,F,ps).call(this,v).then(async()=>{var P,R;if(e!==this.pdfDocument)return;if((P=this.findController)==null||P.setDocument(e),(R=this._scriptingManager)==null||R.setDocument(e),o(this,Ce)&&document.addEventListener("copy",c(this,F,gs).bind(this,y),{signal:v}),o(this,G)&&h.dispatch("annotationeditormodechanged",{source:this,mode:o(this,pe)}),e.loadingParams.disableAutoFetch||s>Dt.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let _=s-1;if(_<=0){this._pagesCapability.resolve();return}for(let m=2;m<=s;++m){const S=e.getPage(m).then(N=>{const U=this._pages[m-1];U.pdfPage||U.setPdfPage(N),--_===0&&this._pagesCapability.resolve()},N=>{console.error(`Unable to get page ${m} to initialize viewer`,N),--_===0&&this._pagesCapability.resolve()});m%Dt.PAUSE_EAGER_PAGE_INIT===0&&await S}}),h.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:P})=>{e===this.pdfDocument&&P.Language&&(d.lang=P.Language)}),this.defaultRenderingQueue&&this.update()}).catch(b=>{console.error("Unable to initialize viewer",b),this._pagesCapability.reject(b)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let n=0,s=this._pages.length;n<s;n++)this._pages[n].setPageLabel(((t=this._pageLabels)==null?void 0:t[n])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=Pi,this._currentScaleValue=null,this._pageLabels=null,f(this,Ie,new ao(On)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=C.VERTICAL,this._previousScrollMode=C.UNKNOWN,this._spreadMode=z.NONE,f(this,Ye,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=o(this,ze))==null||e.abort(),f(this,ze,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=o(this,Ce))==null||t.remove(),f(this,Ce,null)}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:n=!1,ignoreDestinationZoom:s=!1}){if(!this.pdfDocument)return;const r=Number.isInteger(e)&&this._pages[e-1];if(!r){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let a=0,l=0,h=0,u=0,d,v;const w=r.rotation%180!==0,M=(w?r.height:r.width)/r.scale/re.PDF_TO_CSS_UNITS,b=(w?r.width:r.height)/r.scale/re.PDF_TO_CSS_UNITS;let x=0;switch(t[1].name){case"XYZ":a=t[2],l=t[3],x=t[4],a=a!==null?a:0,l=l!==null?l:b;break;case"Fit":case"FitB":x="page-fit";break;case"FitH":case"FitBH":l=t[2],x="page-width",l===null&&this._location?(a=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=b);break;case"FitV":case"FitBV":a=t[2],h=M,u=b,x="page-height";break;case"FitR":a=t[2],l=t[3],h=t[4]-a,u=t[5]-l;let y=ys,A=Ps;this.removePageBorders&&(y=A=0),d=(this.container.clientWidth-y)/h/re.PDF_TO_CSS_UNITS,v=(this.container.clientHeight-A)/u/re.PDF_TO_CSS_UNITS,x=Math.min(Math.abs(d),Math.abs(v));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(s||(x&&x!==this._currentScale?this.currentScaleValue=x:this._currentScale===Pi&&(this.currentScaleValue=Js)),x==="page-fit"&&!t[4]){c(this,F,fi).call(this,r);return}const j=[r.viewport.convertToViewportPoint(a,l),r.viewport.convertToViewportPoint(a+h,l+u)];let I=Math.min(j[0][0],j[1][0]),T=Math.min(j[0][1],j[1][1]);n||(I=Math.max(I,0),T=Math.max(T,0)),c(this,F,fi).call(this,r,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,n=this._currentScaleValue,s=parseFloat(n)===t?Math.round(t*1e4)/100:n,r=e.id,a=this._pages[r-1],l=this.container,h=a.getPagePoint(l.scrollLeft-e.x,l.scrollTop-e.y),u=Math.round(h[0]),d=Math.round(h[1]);let v=`#page=${r}`;this.isInPresentationMode||(v+=`&zoom=${s},${u},${d}`),this._location={pageNumber:r,scale:s,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:v}}update(){const e=this._getVisiblePages(),t=e.views,n=t.length;if(n===0)return;const s=Math.max(On,2*n+1);o(this,Ie).resize(s,e.ids),this.renderingQueue.renderHighestPriority(e);const r=this._spreadMode===z.NONE&&(this._scrollMode===C.PAGE||this._scrollMode===C.VERTICAL),a=this._currentPageNumber;let l=!1;for(const h of t){if(h.percent<100)break;if(h.id===a&&r){l=!0;break}}this._setCurrentPageNumber(l?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===qe.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===qe.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===C.PAGE?o(this,Ye).pages:this._pages,t=this._scrollMode===C.HORIZONTAL,n=t&&this._isContainerRtl;return sr({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:n})}cleanup(){for(const e of this._pages)e.renderingState!==W.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),n=c(this,F,bs).call(this,t),s=this._spreadMode!==z.NONE&&this._scrollMode!==C.HORIZONTAL,r=this.renderingQueue.getHighestPriority(t,this._pages,n,s);return r?(c(this,F,vs).call(this,r).then(()=>{this.renderingQueue.renderView(r)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,n=this._pages.length;t<n;++t){const s=this._pages[t];if(s.width!==e.width||s.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const n=t.pdfPage.getViewport({scale:1}),s=Ls(n);if(e===void 0)e=s;else if(this.enablePrintAutoRotate&&s!==e)return{width:n.height,height:n.width,rotation:(n.rotation-90)%360};return{width:n.width,height:n.height,rotation:n.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!rr(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>Dt.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===C.HORIZONTAL),n.classList.toggle("scrollWrapped",t===C.WRAPPED),!(!this.pdfDocument||!e)&&(t===C.PAGE?c(this,F,wt).call(this):this._previousScrollMode===C.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&c(this,F,ge).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!ar(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,n=this._pages;if(this._scrollMode===C.PAGE)c(this,F,wt).call(this);else if(t.textContent="",this._spreadMode===z.NONE)for(const s of this._pages)t.append(s.div);else{const s=this._spreadMode-1;let r=null;for(let a=0,l=n.length;a<l;++a)r===null?(r=document.createElement("div"),r.className="spread",t.append(r)):a%2===s&&(r=r.cloneNode(!1),t.append(r)),r.append(n[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&c(this,F,ge).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case C.WRAPPED:{const{views:n}=this._getVisiblePages(),s=new Map;for(const{id:r,y:a,percent:l,widthPercent:h}of n){if(l===0||h<100)continue;let u=s.get(a);u||s.set(a,u||(u=[])),u.push(r)}for(const r of s.values()){const a=r.indexOf(e);if(a===-1)continue;const l=r.length;if(l===1)break;if(t)for(let h=a-1,u=0;h>=u;h--){const d=r[h],v=r[h+1]-1;if(d<v)return e-v}else for(let h=a+1,u=l;h<u;h++){const d=r[h],v=r[h-1]+1;if(d>v)return v-e}if(t){const h=r[0];if(h<e)return e-h+1}else{const h=r[l-1];if(h>e)return h-e+1}break}break}case C.HORIZONTAL:break;case C.PAGE:case C.VERTICAL:{if(this._spreadMode===z.NONE)break;const n=this._spreadMode-1;if(t&&e%2!==n)break;if(!t&&e%2===n)break;const{views:s}=this._getVisiblePages(),r=t?e-1:e+1;for(const{id:a,percent:l,widthPercent:h}of s)if(a===r){if(l>0&&h===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const n=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+n,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:n=null,origin:s}){if(n===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let r=this._currentScale;if(t>0&&t!==1)r=Math.round(r*t*100)/100;else if(n){const a=n>0?fn:1/fn,l=n>0?Math.ceil:Math.floor;n=Math.abs(n);do r=l((r*a).toFixed(2)*10)/10;while(--n>0)}r=Math.max(Ys,Math.min(qs,r)),c(this,F,ge).call(this,r,{noScroll:!1,drawingDelay:e,origin:s})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return o(this,vt)||f(this,vt,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return o(this,G)?o(this,pe):ve.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:n=!1}){if(!o(this,G))throw new Error("The AnnotationEditor is not enabled.");if(o(this,pe)!==e){if(!jn(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);this.pdfDocument&&(f(this,pe,e),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),o(this,G).updateMode(e,t,n))}}set annotationEditorParams({type:e,value:t}){if(!o(this,G))throw new Error("The AnnotationEditor is not enabled.");o(this,G).updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const n of this._pages)n.update(t);o(this,Re)!==null&&(clearTimeout(o(this,Re)),f(this,Re,null)),e||this.update()}}}Ie=new WeakMap;Yt=new WeakMap;qt=new WeakMap;pe=new WeakMap;G=new WeakMap;Je=new WeakMap;vt=new WeakMap;ei=new WeakMap;ti=new WeakMap;ii=new WeakMap;ze=new WeakMap;ni=new WeakMap;bt=new WeakMap;Ce=new WeakMap;xt=new WeakMap;di=new WeakMap;ft=new WeakMap;Ye=new WeakMap;Re=new WeakMap;Lt=new WeakMap;F=new WeakSet;fs=function(i){const e={annotationEditorMode:o(this,pe),annotationMode:o(this,Je),textLayerMode:o(this,Lt)};return i&&(!i.includes(Nt.COPY)&&o(this,Lt)===ie.ENABLE&&(e.textLayerMode=ie.ENABLE_PERMISSIONS),i.includes(Nt.MODIFY_CONTENTS)||(e.annotationEditorMode=ve.DISABLE),!i.includes(Nt.MODIFY_ANNOTATIONS)&&!i.includes(Nt.FILL_INTERACTIVE_FORMS)&&o(this,Je)===oe.ENABLE_FORMS&&(e.annotationMode=oe.ENABLE)),e};ps=async function(i){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const e=Promise.withResolvers();function t(){document.visibilityState==="hidden"&&e.resolve()}document.addEventListener("visibilitychange",t,{signal:i}),await Promise.race([this._onePageRenderedCapability.promise,e.promise]),document.removeEventListener("visibilitychange",t)};gs=function(i,e){const t=document.getSelection(),{focusNode:n,anchorNode:s}=t;if(s&&n&&t.containsNode(o(this,Ce))){if(o(this,bt)||i===ie.ENABLE_PERMISSIONS){e.preventDefault(),e.stopPropagation();return}f(this,bt,!0);const{classList:r}=this.viewer;r.add("copyAll");const a=new AbortController;window.addEventListener("keydown",l=>f(this,xt,l.key==="Escape"),{signal:a.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{f(this,bt,!1),f(this,xt,!1),a.abort(),r.remove("copyAll")}),e.preventDefault(),e.stopPropagation()}};wt=function(){if(this._scrollMode!==C.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const i=this._currentPageNumber,e=o(this,Ye),t=this.viewer;if(t.textContent="",e.pages.length=0,this._spreadMode===z.NONE&&!this.isInPresentationMode){const n=this._pages[i-1];t.append(n.div),e.pages.push(n)}else{const n=new Set,s=this._spreadMode-1;s===-1?n.add(i-1):i%2!==s?(n.add(i-1),n.add(i)):(n.add(i-2),n.add(i-1));const r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){const a=document.createElement("div");a.className="dummyPage",r.append(a)}for(const a of n){const l=this._pages[a];l&&(r.append(l.div),e.pages.push(l))}t.append(r)}e.scrollDown=i>=e.previousPageNumber,e.previousPageNumber=i};fi=function(i,e=null){const{div:t,id:n}=i;if(this._currentPageNumber!==n&&this._setCurrentPageNumber(n),this._scrollMode===C.PAGE&&(c(this,F,wt).call(this),this.update()),!e&&!this.isInPresentationMode){const s=t.offsetLeft+t.clientLeft,r=s+t.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===C.HORIZONTAL||s<a||r>a+l)&&(e={left:0,top:0})}Ss(t,e),!this._currentScaleValue&&this._location&&(this._location=null)};_s=function(i){return i===this._currentScale||Math.abs(i-this._currentScale)<1e-15};Ki=function(i,e,{noScroll:t=!1,preset:n=!1,drawingDelay:s=-1,origin:r=null}){if(this._currentScaleValue=e.toString(),c(this,F,_s).call(this,i)){n&&this.eventBus.dispatch("scalechanging",{source:this,scale:i,presetValue:e});return}this.viewer.style.setProperty("--scale-factor",i*re.PDF_TO_CSS_UNITS);const a=s>=0&&s<1e3;this.refresh(!0,{scale:i,drawingDelay:a?s:-1}),a&&f(this,Re,setTimeout(()=>{f(this,Re,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=i,!t){let h=this._currentPageNumber,u;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(h=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:h,destArray:u,allowNegativeOffset:!0}),Array.isArray(r)){const d=i/l-1,[v,w]=this.containerTopLeft;this.container.scrollLeft+=(r[0]-w)*d,this.container.scrollTop+=(r[1]-v)*d}}this.eventBus.dispatch("scalechanging",{source:this,scale:i,presetValue:n?e:void 0}),this.defaultRenderingQueue&&this.update()};ms=function(){return this._spreadMode!==z.NONE&&this._scrollMode!==C.HORIZONTAL?2:1};ge=function(i,e){let t=parseFloat(i);if(t>0)e.preset=!1,c(this,F,Ki).call(this,t,i,e);else{const n=this._pages[this._currentPageNumber-1];if(!n)return;let s=ys,r=Ps;this.isInPresentationMode?(s=r=4,this._spreadMode!==z.NONE&&(s*=2)):this.removePageBorders?s=r=0:this._scrollMode===C.HORIZONTAL&&([s,r]=[r,s]);const a=(this.container.clientWidth-s)/n.width*n.scale/o(this,F,ms),l=(this.container.clientHeight-r)/n.height*n.scale;switch(i){case"page-actual":t=1;break;case"page-width":t=a;break;case"page-height":t=l;break;case"page-fit":t=Math.min(a,l);break;case"auto":const h=Ls(n)?a:Math.min(l,a);t=Math.min(er,h);break;default:console.error(`#setScale: "${i}" is an unknown zoom value.`);return}e.preset=!0,c(this,F,Ki).call(this,t,i,e)}};Zi=function(){const i=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&c(this,F,ge).call(this,this._currentScaleValue,{noScroll:!0}),c(this,F,fi).call(this,i)};vs=async function(i){if(i.pdfPage)return i.pdfPage;try{const e=await this.pdfDocument.getPage(i.id);return i.pdfPage||i.setPdfPage(e),e}catch(e){return console.error("Unable to get page for page view",e),null}};bs=function(i){var e,t;if(((e=i.first)==null?void 0:e.id)===1)return!0;if(((t=i.last)==null?void 0:t.id)===this.pagesCount)return!1;switch(this._scrollMode){case C.PAGE:return o(this,Ye).scrollDown;case C.HORIZONTAL:return this.scroll.right}return this.scroll.down};hn=function(i=this.container.clientHeight){i!==o(this,di)&&(f(this,di,i),or.setProperty("--viewer-container-height",`${i}px`))};ws=function(i){for(const e of i)if(e.target===this.container){c(this,F,hn).call(this,Math.floor(e.borderBoxSize[0].blockSize)),f(this,vt,null);break}};class oo extends zs{_resetView(){super._resetView(),this._scrollMode=C.PAGE,this._spreadMode=z.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}var Fo=V.AnnotationLayerBuilder,Do=V.DownloadManager,Oo=V.EventBus,jo=V.FindState,Vo=V.GenericL10n,Wo=V.LinkTarget,Bo=V.PDFFindController,Ho=V.PDFHistory,Uo=V.PDFLinkService,$o=V.PDFPageView,zo=V.PDFScriptingManager,Go=V.PDFSinglePageViewer,Ko=V.PDFViewer,Zo=V.ProgressBar,Xo=V.RenderingStates,Qo=V.ScrollMode,Jo=V.SimpleLinkService,Yo=V.SpreadMode,qo=V.StructTreeLayerBuilder,el=V.TextLayerBuilder,tl=V.XfaLayerBuilder,il=V.parseQueryString;export{Fo as AnnotationLayerBuilder,Do as DownloadManager,Oo as EventBus,jo as FindState,Vo as GenericL10n,Wo as LinkTarget,Bo as PDFFindController,Ho as PDFHistory,Uo as PDFLinkService,$o as PDFPageView,zo as PDFScriptingManager,Go as PDFSinglePageViewer,Ko as PDFViewer,Zo as ProgressBar,Xo as RenderingStates,Qo as ScrollMode,Jo as SimpleLinkService,Yo as SpreadMode,qo as StructTreeLayerBuilder,el as TextLayerBuilder,tl as XfaLayerBuilder,il as parseQueryString};
//# sourceMappingURL=pdf_viewer.815L7odC.js.map
