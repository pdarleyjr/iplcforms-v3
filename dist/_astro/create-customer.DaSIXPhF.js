import{j as e}from"./index.BDwUue4i.js";import{B as c}from"./button.BBqis-m9.js";import{D as u,a as f,b as w,c as C,d as g}from"./dialog.epzmHarR.js";import{o as F,s as a,u as b,a as N,F as E,b as t,c as n,d as m,e as i,f as l}from"./schemas.8s39zcMy.js";import{I as d}from"./input.DVIqiHmA.js";import{T as y}from"./textarea.Db7GML6A.js";import{r as D}from"./index.D4lIrffr.js";import{c as S}from"./api.BiPwSYRr.js";import{P as I}from"./plus.B0ra3a6p.js";import"./index.CWpJmkEa.js";import"./index.C_ksqHmP.js";import"./index.7Xl9-Kly.js";import"./Combination.DEQktaGu.js";import"./index.BXhwHFWz.js";import"./x.D5giPUq_.js";import"./label.DrpxMY44.js";const T=F({name:a().min(2,"Name must be at least 2 characters"),email:a().email("Invalid email address"),notes:a().optional()});function Q({apiToken:x}){const[p,j]=D.useState(!1),s=b({resolver:N(T),defaultValues:{name:"",email:"",notes:""}}),h=async r=>{try{const o=new URL(window.location.href);if(!(await S(o.origin,x,r)).success)throw new Error("Failed to create customer");window.location.reload()}catch(o){console.error("Error creating customer:",o)}};return e.jsxs(u,{open:p,onOpenChange:j,children:[e.jsx(f,{asChild:!0,children:e.jsxs(c,{children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Create New Customer"]})}),e.jsxs(w,{className:"sm:max-w-[425px]",children:[e.jsx(C,{children:e.jsx(g,{children:"Create New Customer"})}),e.jsx(E,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(h),className:"space-y-4",children:[e.jsx(t,{control:s.control,name:"name",render:({field:r})=>e.jsxs(n,{children:[e.jsx(m,{children:"Name"}),e.jsx(i,{children:e.jsx(d,{placeholder:"Enter customer name",...r})}),e.jsx(l,{})]})}),e.jsx(t,{control:s.control,name:"email",render:({field:r})=>e.jsxs(n,{children:[e.jsx(m,{children:"Email"}),e.jsx(i,{children:e.jsx(d,{type:"email",placeholder:"Enter customer email",...r})}),e.jsx(l,{})]})}),e.jsx(t,{control:s.control,name:"notes",render:({field:r})=>e.jsxs(n,{children:[e.jsx(m,{children:"Notes"}),e.jsx(i,{children:e.jsx(y,{placeholder:"Enter any additional notes",...r})}),e.jsx(l,{})]})}),e.jsx(c,{className:"w-full",type:"submit",children:"Create Customer"})]})})]})]})}export{Q as CreateCustomerButton};
//# sourceMappingURL=create-customer.DaSIXPhF.js.map
