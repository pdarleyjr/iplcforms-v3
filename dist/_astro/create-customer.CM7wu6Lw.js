import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{B as c}from"./button.DAHL7osy.js";import{D as u,a as f,b as w,c as C,d as g}from"./dialog.CJQRyvNY.js";import{o as F,s as t,u as b,a as N,F as E,b as a,c as n,d as m,e as i,f as l}from"./schemas.DmIWGFrR.js";import{I as d}from"./input.BqLLRaLk.js";import{T as y}from"./textarea.BU_xJv7O.js";import{r as D}from"./index.7-fRwNhn.js";import{c as S}from"./api.BiPwSYRr.js";import{P as I}from"./plus.q9ev0EMF.js";import"./index.CuufFikk.js";import"./index.DVFN_t0d.js";import"./index.AmEYgA8_.js";import"./index.BDInZWg7.js";import"./index.BhDqio8u.js";import"./Combination.D1D1t5_V.js";import"./index.D1rCwynp.js";import"./x.iTm9BFym.js";import"./label.CzLeOBg3.js";const T=F({name:t().min(2,"Name must be at least 2 characters"),email:t().email("Invalid email address"),notes:t().optional()});function X({apiToken:p}){const[x,j]=D.useState(!1),s=b({resolver:N(T),defaultValues:{name:"",email:"",notes:""}}),h=async r=>{try{const o=new URL(window.location.href);if(!(await S(o.origin,p,r)).success)throw new Error("Failed to create customer");window.location.reload()}catch(o){console.error("Error creating customer:",o)}};return e.jsxs(u,{open:x,onOpenChange:j,children:[e.jsx(f,{asChild:!0,children:e.jsxs(c,{children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Create New Customer"]})}),e.jsxs(w,{className:"sm:max-w-[425px]",children:[e.jsx(C,{children:e.jsx(g,{children:"Create New Customer"})}),e.jsx(E,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(h),className:"space-y-4",children:[e.jsx(a,{control:s.control,name:"name",render:({field:r})=>e.jsxs(n,{children:[e.jsx(m,{children:"Name"}),e.jsx(i,{children:e.jsx(d,{placeholder:"Enter customer name",...r})}),e.jsx(l,{})]})}),e.jsx(a,{control:s.control,name:"email",render:({field:r})=>e.jsxs(n,{children:[e.jsx(m,{children:"Email"}),e.jsx(i,{children:e.jsx(d,{type:"email",placeholder:"Enter customer email",...r})}),e.jsx(l,{})]})}),e.jsx(a,{control:s.control,name:"notes",render:({field:r})=>e.jsxs(n,{children:[e.jsx(m,{children:"Notes"}),e.jsx(i,{children:e.jsx(y,{placeholder:"Enter any additional notes",...r})}),e.jsx(l,{})]})}),e.jsx(c,{className:"w-full",type:"submit",children:"Create Customer"})]})})]})]})}export{X as CreateCustomerButton};
//# sourceMappingURL=create-customer.CM7wu6Lw.js.map
