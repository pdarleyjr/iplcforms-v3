import{r as p,j as e,P as f}from"./react-vendor.BA2wKBqg.js";import{B as c}from"./button.ByCdt4UQ.js";import{D as w,a as C,b as g,c as F,d as b}from"./dialog.BVVCI8f5.js";import{F as N,a,b as t,c as n,d as m,e as l}from"./form.Cnv9BBQA.js";import{I as d}from"./input.CGlmA2MW.js";import{T as E}from"./textarea.DYUaUl6i.js";import{o as y,s as i,u as D,a as S}from"./form-vendor.d8L_mb-j.js";import{c as I}from"./api.BiPwSYRr.js";import"./ui-vendor.BQCqNqg0.js";import"./index.DFUPT9Yl.js";import"./label.B1wjpwVS.js";const T=y({name:i().min(2,"Name must be at least 2 characters"),email:i().email("Invalid email address"),notes:i().optional()});function z({apiToken:x}){const[j,h]=p.useState(!1),s=D({resolver:S(T),defaultValues:{name:"",email:"",notes:""}}),u=async r=>{try{const o=new URL(window.location.href);if(!(await I(o.origin,x,r)).success)throw new Error("Failed to create customer");window.location.reload()}catch(o){console.error("Error creating customer:",o)}};return e.jsxs(w,{open:j,onOpenChange:h,children:[e.jsx(C,{asChild:!0,children:e.jsxs(c,{children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Create New Customer"]})}),e.jsxs(g,{className:"sm:max-w-[425px]",children:[e.jsx(F,{children:e.jsx(b,{children:"Create New Customer"})}),e.jsx(N,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(u),className:"space-y-4",children:[e.jsx(a,{control:s.control,name:"name",render:({field:r})=>e.jsxs(t,{children:[e.jsx(n,{children:"Name"}),e.jsx(m,{children:e.jsx(d,{placeholder:"Enter customer name",...r})}),e.jsx(l,{})]})}),e.jsx(a,{control:s.control,name:"email",render:({field:r})=>e.jsxs(t,{children:[e.jsx(n,{children:"Email"}),e.jsx(m,{children:e.jsx(d,{type:"email",placeholder:"Enter customer email",...r})}),e.jsx(l,{})]})}),e.jsx(a,{control:s.control,name:"notes",render:({field:r})=>e.jsxs(t,{children:[e.jsx(n,{children:"Notes"}),e.jsx(m,{children:e.jsx(E,{placeholder:"Enter any additional notes",...r})}),e.jsx(l,{})]})}),e.jsx(c,{className:"w-full",type:"submit",children:"Create Customer"})]})})]})]})}export{z as CreateCustomerButton};
//# sourceMappingURL=create-customer.DVOYCqkV.js.map
