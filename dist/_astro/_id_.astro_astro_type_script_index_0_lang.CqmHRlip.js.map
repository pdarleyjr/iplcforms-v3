{"version":3,"file":"_id_.astro_astro_type_script_index_0_lang.CqmHRlip.js","sources":["../../src/pages/pdf-viewer/[id].astro?astro&type=script&index=0&lang.ts"],"sourcesContent":["  // Listen for annotation changes and save them\r\n  document.addEventListener('pdf-annotations-change', async (event: any) => {\r\n    const { annotations } = event.detail;\r\n    console.log('Annotations changed:', annotations);\r\n  });\r\n\r\n  document.addEventListener('pdf-annotations-save', async (event: any) => {\r\n    const { annotations } = event.detail;\r\n    const pdfId = window.location.pathname.split('/').pop();\r\n    \r\n    try {\r\n      const response = await fetch(`/api/pdf-annotations/${pdfId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ annotations }),\r\n      });\r\n      \r\n      if (response.ok) {\r\n        console.log('Annotations saved successfully');\r\n      } else {\r\n        console.error('Failed to save annotations');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving annotations:', error);\r\n    }\r\n  });\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyAidmVyc2lvbiI6IDMsICJzb3VyY2VzIjogWyJDOi9Vc2Vycy9QZXRlciBEYXJsZXkvRGVza3RvcC9pcGxjZm9ybXMtdjMvc3JjL3BhZ2VzL3BkZi12aWV3ZXIvW2lkXS5hc3RybyJdLCAic291cmNlc0NvbnRlbnQiOiBbIi0tLVxyXG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uLy4uL2xheW91dHMvTGF5b3V0LmFzdHJvJztcclxuaW1wb3J0IFBERkFubm90YXRvciBmcm9tICcuLi8uLi9jb21wb25lbnRzL3BkZi9QREZBbm5vdGF0b3IuYXN0cm8nO1xyXG5cclxuY29uc3QgeyBpZCB9ID0gQXN0cm8ucGFyYW1zO1xyXG5cclxuLy8gRm9yIGRlbW8gcHVycG9zZXMsIHdlJ2xsIHVzZSB0aGUgc2FtcGxlIFBERlxyXG4vLyBJbiBwcm9kdWN0aW9uLCB5b3UnZCBmZXRjaCB0aGUgUERGIFVSTCBiYXNlZCBvbiB0aGUgSURcclxuY29uc3QgcGRmVXJsID0gJy9zYW1wbGUucGRmJztcclxuY29uc3QgcGRmVGl0bGUgPSBgUERGIERvY3VtZW50ICR7aWR9YDtcclxuXHJcbi8vIFlvdSBjb3VsZCBmZXRjaCBpbml0aWFsIGFubm90YXRpb25zIGZyb20gdGhlIGRhdGFiYXNlIGhlcmVcclxubGV0IGluaXRpYWxBbm5vdGF0aW9ucyA9IFtdO1xyXG50cnkge1xyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QXN0cm8udXJsLm9yaWdpbn0vYXBpL3BkZi1hbm5vdGF0aW9ucy8ke2lkfWApO1xyXG4gIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGluaXRpYWxBbm5vdGF0aW9ucyA9IGRhdGEuYW5ub3RhdGlvbnMgfHwgW107XHJcbiAgfVxyXG59IGNhdGNoIChlcnJvcikge1xyXG4gIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBpbml0aWFsIGFubm90YXRpb25zOicsIGVycm9yKTtcclxufVxyXG4tLS1cclxuXHJcblx1MDAzY0xheW91dCB0aXRsZT17cGRmVGl0bGV9XHUwMDNlXHJcbiAgXHUwMDNjZGl2IGNsYXNzPVwiY29udGFpbmVyIG14LWF1dG8gcHktOFwiXHUwMDNlXHJcbiAgICBcdTAwM2NkaXYgY2xhc3M9XCJtYi02XCJcdTAwM2VcclxuICAgICAgXHUwMDNjaDEgY2xhc3M9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiXHUwMDNle3BkZlRpdGxlfVx1MDAzYy9oMVx1MDAzZVxyXG4gICAgICBcdTAwM2NwIGNsYXNzPVwidGV4dC1ncmF5LTYwMCBtdC0yXCJcdTAwM2VEb2N1bWVudCBJRDoge2lkfVx1MDAzYy9wXHUwMDNlXHJcbiAgICBcdTAwM2MvZGl2XHUwMDNlXHJcbiAgICBcclxuICAgIFx1MDAzY2RpdiBjbGFzcz1cInBkZi12aWV3ZXItY29udGFpbmVyXCJcdTAwM2VcclxuICAgICAgXHUwMDNjUERGQW5ub3RhdG9yIFxyXG4gICAgICAgIHBkZlVybD17cGRmVXJsfVxyXG4gICAgICAgIHBkZklkPXtpZH1cclxuICAgICAgICBpbml0aWFsQW5ub3RhdGlvbnM9e2luaXRpYWxBbm5vdGF0aW9uc31cclxuICAgICAgL1x1MDAzZVxyXG4gICAgXHUwMDNjL2Rpdlx1MDAzZVxyXG4gIFx1MDAzYy9kaXZcdTAwM2VcclxuXHUwMDNjL0xheW91dFx1MDAzZVxyXG5cclxuXHUwMDNjc3R5bGVcdTAwM2VcclxuICAucGRmLXZpZXdlci1jb250YWluZXIge1xyXG4gICAgbWluLWhlaWdodDogODAwcHg7XHJcbiAgfVxyXG5cdTAwM2Mvc3R5bGVcdTAwM2VcclxuXHJcblx1MDAzY3NjcmlwdFx1MDAzZVxyXG4gIC8vIExpc3RlbiBmb3IgYW5ub3RhdGlvbiBjaGFuZ2VzIGFuZCBzYXZlIHRoZW1cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwZGYtYW5ub3RhdGlvbnMtY2hhbmdlJywgYXN5bmMgKGV2ZW50OiBhbnkpID1cdTAwM2Uge1xyXG4gICAgY29uc3QgeyBhbm5vdGF0aW9ucyB9ID0gZXZlbnQuZGV0YWlsO1xyXG4gICAgY29uc29sZS5sb2coJ0Fubm90YXRpb25zIGNoYW5nZWQ6JywgYW5ub3RhdGlvbnMpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwZGYtYW5ub3RhdGlvbnMtc2F2ZScsIGFzeW5jIChldmVudDogYW55KSA9XHUwMDNlIHtcclxuICAgIGNvbnN0IHsgYW5ub3RhdGlvbnMgfSA9IGV2ZW50LmRldGFpbDtcclxuICAgIGNvbnN0IHBkZklkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcGRmLWFubm90YXRpb25zLyR7cGRmSWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYW5ub3RhdGlvbnMgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Fubm90YXRpb25zIHNhdmVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGFubm90YXRpb25zJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBhbm5vdGF0aW9uczonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblx1MDAzYy9zY3JpcHRcdTAwM2UiXSwgIm1hcHBpbmdzIjogIkFBZ0RBLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9DLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDNUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRCxFQUFFLENBQUMsQ0FBQztBQUNKO0FBQ0EsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQzFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0Q7QUFDQSxJQUFJLENBQUMsQ0FBQyxFQUFFO0FBQ1IsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNwRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ2pCLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDNUMsUUFBUSxDQUFDO0FBQ1QsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxDQUFDO0FBQ1I7QUFDQSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ3ZCLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyRCxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNiLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuRCxNQUFNO0FBQ04sSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ3BCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RCxJQUFJO0FBQ0osRUFBRSxDQUFDLENBQUM7QUFBQTsiLCAibmFtZXMiOiBbXSB9"],"names":["event","annotations","pdfId","error"],"mappings":"AAiDE,SAAS,iBAAiB,yBAA0B,MAAOA,GAAe,CACxE,KAAM,CAAE,YAAAC,GAAgBD,EAAM,OAC9B,QAAQ,IAAI,uBAAwBC,CAAW,CACjD,CAAC,EAED,SAAS,iBAAiB,uBAAwB,MAAOD,GAAe,CACtE,KAAM,CAAE,YAAAC,GAAgBD,EAAM,OACxBE,EAAQ,OAAO,SAAS,SAAS,MAAM,GAAG,EAAE,IAAA,EAElD,GAAI,EACe,MAAM,MAAM,wBAAwBA,CAAK,GAAI,CAC5D,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAU,CAAE,YAAAD,CAAA,CAAa,EACrC,GAEY,GACX,QAAQ,IAAI,gCAAgC,EAE5C,QAAQ,MAAM,4BAA4B,CAE9C,OAASE,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,CAClD,CACF,CAAC"}