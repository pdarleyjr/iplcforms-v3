{"version":3,"file":"NotebookLMInterface.BXCfWlBw.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bot.js","../../node_modules/lucide-react/dist/esm/icons/copy.js","../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/eye-off.js","../../node_modules/lucide-react/dist/esm/icons/file-code.js","../../node_modules/lucide-react/dist/esm/icons/file-image.js","../../node_modules/lucide-react/dist/esm/icons/file-plus.js","../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../node_modules/lucide-react/dist/esm/icons/send.js","../../node_modules/lucide-react/dist/esm/icons/share-2.js","../../node_modules/@radix-ui/react-menu/dist/index.mjs","../../node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs","../../src/components/ui/dropdown-menu.tsx","../../src/components/chat/NotebookLMInterface.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n];\nconst Bot = createLucideIcon(\"bot\", __iconNode);\n\nexport { __iconNode, Bot as default };\n//# sourceMappingURL=bot.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 15V3\", key: \"m9g1x1\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"path\", { d: \"m7 10 5 5 5-5\", key: \"brsn70\" }]\n];\nconst Download = createLucideIcon(\"download\", __iconNode);\n\nexport { __iconNode, Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n];\nconst EyeOff = createLucideIcon(\"eye-off\", __iconNode);\n\nexport { __iconNode, EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 12.5 8 15l2 2.5\", key: \"1tg20x\" }],\n  [\"path\", { d: \"m14 12.5 2 2.5-2 2.5\", key: \"yinavb\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z\", key: \"1mlx9k\" }]\n];\nconst FileCode = createLucideIcon(\"file-code\", __iconNode);\n\nexport { __iconNode, FileCode as default };\n//# sourceMappingURL=file-code.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"circle\", { cx: \"10\", cy: \"12\", r: \"2\", key: \"737tya\" }],\n  [\"path\", { d: \"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22\", key: \"wt3hpn\" }]\n];\nconst FileImage = createLucideIcon(\"file-image\", __iconNode);\n\nexport { __iconNode, FileImage as default };\n//# sourceMappingURL=file-image.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M9 15h6\", key: \"cctwl0\" }],\n  [\"path\", { d: \"M12 18v-6\", key: \"17g6i2\" }]\n];\nconst FilePlus = createLucideIcon(\"file-plus\", __iconNode);\n\nexport { __iconNode, FilePlus as default };\n//# sourceMappingURL=file-plus.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n];\nconst FolderOpen = createLucideIcon(\"folder-open\", __iconNode);\n\nexport { __iconNode, FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n];\nconst Send = createLucideIcon(\"send\", __iconNode);\n\nexport { __iconNode, Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n];\nconst Share2 = createLucideIcon(\"share-2\", __iconNode);\n\nexport { __iconNode, Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","\"use client\";\n\n// src/menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs, composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeMenu, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? /* @__PURE__ */ jsx(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return /* @__PURE__ */ jsx(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar Slot = createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState(null);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef(\"\");\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef(null);\n    const pointerDirRef = React.useRef(\"right\");\n    const lastPointerXRef = React.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: /* @__PURE__ */ jsx(ScrollLockWrapper, { ...scrollLockWrapperProps, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: /* @__PURE__ */ jsx(\n                  RovingFocusGroup.Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: /* @__PURE__ */ jsx(\n                      PopperPrimitive.Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [textContent, setTextContent] = React.useState(\"\");\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: /* @__PURE__ */ jsx(RovingFocusGroup.Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: /* @__PURE__ */ jsx(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return /* @__PURE__ */ jsx(MenuAnchor, { asChild: true, ...scope, children: /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  CheckboxItem,\n  Content2 as Content,\n  Group,\n  Item2 as Item,\n  ItemIndicator,\n  Label,\n  Menu,\n  MenuAnchor,\n  MenuArrow,\n  MenuCheckboxItem,\n  MenuContent,\n  MenuGroup,\n  MenuItem,\n  MenuItemIndicator,\n  MenuLabel,\n  MenuPortal,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuSeparator,\n  MenuSub,\n  MenuSubContent,\n  MenuSubTrigger,\n  Portal,\n  RadioGroup,\n  RadioItem,\n  Root3 as Root,\n  Separator,\n  Sub,\n  SubContent,\n  SubTrigger,\n  createMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dropdown-menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as MenuPrimitive from \"@radix-ui/react-menu\";\nimport { createMenuScope } from \"@radix-ui/react-menu\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu = (props) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    DropdownMenuProvider,\n    {\n      scope: __scopeDropdownMenu,\n      triggerId: useId(),\n      triggerRef,\n      contentId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children: /* @__PURE__ */ jsx(MenuPrimitive.Root, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })\n    }\n  );\n};\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Anchor, { asChild: true, ...menuScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        id: context.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.open ? context.contentId : void 0,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        ...triggerProps,\n        ref: composeRefs(forwardedRef, context.triggerRef),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          if (!disabled && event.button === 0 && event.ctrlKey === false) {\n            context.onOpenToggle();\n            if (!context.open) event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (disabled) return;\n          if ([\"Enter\", \" \"].includes(event.key)) context.onOpenToggle();\n          if (event.key === \"ArrowDown\") context.onOpenChange(true);\n          if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key)) event.preventDefault();\n        })\n      }\n    ) });\n  }\n);\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DropdownMenuPortal\";\nvar DropdownMenuPortal = (props) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Portal, { ...menuScope, ...portalProps });\n};\nDropdownMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"DropdownMenuContent\";\nvar DropdownMenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      MenuPrimitive.Content,\n      {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nDropdownMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"DropdownMenuGroup\";\nvar DropdownMenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nDropdownMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"DropdownMenuLabel\";\nvar DropdownMenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nDropdownMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"DropdownMenuItem\";\nvar DropdownMenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Item, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nDropdownMenuItem.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Arrow, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nDropdownMenuArrow.displayName = ARROW_NAME;\nvar DropdownMenuSub = (props) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: \"DropdownMenuSub\"\n  });\n  return /* @__PURE__ */ jsx(MenuPrimitive.Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nvar SUB_TRIGGER_NAME = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });\n});\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(\n    MenuPrimitive.SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\nvar Root2 = DropdownMenu;\nvar Trigger = DropdownMenuTrigger;\nvar Portal2 = DropdownMenuPortal;\nvar Content2 = DropdownMenuContent;\nvar Group2 = DropdownMenuGroup;\nvar Label2 = DropdownMenuLabel;\nvar Item2 = DropdownMenuItem;\nvar CheckboxItem2 = DropdownMenuCheckboxItem;\nvar RadioGroup2 = DropdownMenuRadioGroup;\nvar RadioItem2 = DropdownMenuRadioItem;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator;\nvar Arrow2 = DropdownMenuArrow;\nvar Sub2 = DropdownMenuSub;\nvar SubTrigger2 = DropdownMenuSubTrigger;\nvar SubContent2 = DropdownMenuSubContent;\nexport {\n  Arrow2 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content2 as Content,\n  DropdownMenu,\n  DropdownMenuArrow,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n  Group2 as Group,\n  Item2 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal2 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root2 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createDropdownMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\";\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root;\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean;\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n      inset && \"pl-8\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n));\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName;\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName;\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n));\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean;\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className,\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n));\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName;\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n));\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean;\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n};","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Button } from '../ui/button';\r\nimport { Input } from '../ui/input';\r\nimport { Card } from '../ui/card';\r\nimport { ScrollArea } from '../ui/scroll-area';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../ui/dialog';\r\nimport { Alert, AlertDescription, AlertTitle } from '../ui/alert';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\r\nimport {\r\n  Send,\r\n  Upload,\r\n  FileText,\r\n  Trash2,\r\n  Loader2,\r\n  MessageSquare,\r\n  Bot,\r\n  User,\r\n  Plus,\r\n  Clock,\r\n  Paperclip,\r\n  ChevronRight,\r\n  Eye,\r\n  EyeOff,\r\n  X,\r\n  Share2,\r\n  Check,\r\n  Copy,\r\n  Download,\r\n  AlertCircle,\r\n  Search,\r\n  FolderOpen,\r\n  FileImage,\r\n  FileCode,\r\n  FilePlus,\r\n  BookOpen,\r\n  Brain,\r\n  Sparkles,\r\n  SplitSquareVertical\r\n} from 'lucide-react';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '../ui/dropdown-menu';\r\n\r\ninterface Message {\r\n  id: string;\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n  timestamp: Date;\r\n  streaming?: boolean;\r\n  citations?: Citation[];\r\n}\r\n\r\ninterface Document {\r\n  id: string;\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  uploadedAt: Date;\r\n  chunks?: number;\r\n  enabled?: boolean;\r\n  preview?: string;\r\n}\r\n\r\ninterface Citation {\r\n  id: number;\r\n  documentName: string;\r\n  text: string;\r\n  score: number;\r\n}\r\n\r\ninterface Chunk {\r\n  id: number;\r\n  documentName: string;\r\n  text: string;\r\n  score: number;\r\n}\r\n\r\ninterface Conversation {\r\n  id: string;\r\n  title: string;\r\n  lastMessage: string;\r\n  timestamp: Date;\r\n}\r\n\r\nexport function NotebookLMInterface() {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [documents, setDocuments] = useState<Document[]>([]);\r\n  const [conversations, setConversations] = useState<Conversation[]>([]);\r\n  const [currentConversationId, setCurrentConversationId] = useState<string | null>(null);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [selectedDocument, setSelectedDocument] = useState<Document | null>(null);\r\n  const [highlightedChunk, setHighlightedChunk] = useState<Chunk | null>(null);\r\n  const [showChunkModal, setShowChunkModal] = useState(false);\r\n  const [currentChunks, setCurrentChunks] = useState<Chunk[]>([]);\r\n  const [shareModalOpen, setShareModalOpen] = useState(false);\r\n  const [shareUrl, setShareUrl] = useState('');\r\n  const [sharingMessageId, setSharingMessageId] = useState<string | null>(null);\r\n  const [copySuccess, setCopySuccess] = useState(false);\r\n  const [aiError, setAiError] = useState<string | null>(null);\r\n  const [isStreaming, setIsStreaming] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('sources');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showDocumentPreview, setShowDocumentPreview] = useState(false);\r\n  const [documentContent, setDocumentContent] = useState<string>('');\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Load conversations on mount\r\n  useEffect(() => {\r\n    loadConversations();\r\n    loadDocuments();\r\n  }, []);\r\n\r\n  // Type guards for unknown JSON payloads\r\n  function isConversationList(data: unknown): data is { conversations: Conversation[] } {\r\n    return !!data && typeof data === 'object' && Array.isArray((data as any).conversations);\r\n  }\r\n  function isDocumentsList(data: unknown): data is { documents: Document[] } {\r\n    return !!data && typeof data === 'object' && Array.isArray((data as any).documents);\r\n  }\r\n  function isConversationDetail(data: unknown): data is { messages: Message[]; documents: Document[] } {\r\n    return !!data && typeof data === 'object' && Array.isArray((data as any).messages) && Array.isArray((data as any).documents);\r\n  }\r\n  function isUploadResponse(data: unknown): data is { documents: Document[]; conversationId?: string } {\r\n    return !!data && typeof data === 'object' && Array.isArray((data as any).documents);\r\n  }\r\n\r\n  const loadConversations = async () => {\r\n    try {\r\n      const response = await fetch('/api/chat/conversations');\r\n      if (response.ok) {\r\n        const data: unknown = await response.json();\r\n        if (isConversationList(data)) {\r\n          setConversations(data.conversations);\r\n        } else {\r\n          console.warn('Unexpected conversations payload');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load conversations:', error);\r\n    }\r\n  };\r\n\r\n  const loadDocuments = async () => {\r\n    try {\r\n      const response = await fetch('/api/chat/documents');\r\n      if (response.ok) {\r\n        const data: unknown = await response.json();\r\n        if (isDocumentsList(data)) {\r\n          setDocuments(data.documents);\r\n        } else {\r\n          console.warn('Unexpected documents payload');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load documents:', error);\r\n    }\r\n  };\r\n\r\n  const loadConversation = async (conversationId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/chat/conversations/${conversationId}`);\r\n      if (response.ok) {\r\n        const data: unknown = await response.json();\r\n        if (isConversationDetail(data)) {\r\n          setMessages(data.messages);\r\n          setDocuments(data.documents);\r\n          setCurrentConversationId(conversationId);\r\n        } else {\r\n          console.warn('Unexpected conversation detail payload');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load conversation:', error);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = event.target.files;\r\n    if (!files || files.length === 0) return;\r\n\r\n    setIsUploading(true);\r\n    const formData = new FormData();\r\n    \r\n    Array.from(files).forEach(file => {\r\n      formData.append('files', file);\r\n    });\r\n\r\n    if (currentConversationId) {\r\n      formData.append('conversationId', currentConversationId);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/chat/upload', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data: unknown = await response.json();\r\n        if (isUploadResponse(data)) {\r\n          // Add documents with enabled flag set to true by default\r\n          const newDocs = data.documents.map((doc) => ({ ...doc, enabled: true }));\r\n          setDocuments(prev => [...prev, ...newDocs]);\r\n\r\n          // Create new conversation if needed\r\n          if (!currentConversationId && data.conversationId) {\r\n            setCurrentConversationId(data.conversationId);\r\n            await loadConversations();\r\n          }\r\n        } else {\r\n          console.warn('Unexpected upload response payload');\r\n        }\r\n      } else {\r\n        console.error('Upload failed:', await response.text());\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n    } finally {\r\n      setIsUploading(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    // Prevent sending if already loading or streaming\r\n    if (!inputValue.trim() || isLoading || isStreaming) return;\r\n\r\n    // Store the message before clearing the input\r\n    const messageToSend = inputValue.trim();\r\n\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      role: 'user',\r\n      content: messageToSend,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputValue('');\r\n    setIsLoading(true);\r\n    setIsStreaming(true);\r\n    setAiError(null); // Clear any previous errors\r\n\r\n    const assistantMessage: Message = {\r\n      id: (Date.now() + 1).toString(),\r\n      role: 'assistant',\r\n      content: '',\r\n      timestamp: new Date(),\r\n      streaming: true,\r\n    };\r\n\r\n    setMessages(prev => [...prev, assistantMessage]);\r\n\r\n    try {\r\n      // Only send enabled documents\r\n      const enabledDocumentIds = documents\r\n        .filter(doc => doc.enabled !== false)\r\n        .map(doc => doc.id);\r\n\r\n      const response = await fetch('/api/chat/query', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          message: messageToSend,\r\n          conversationId: currentConversationId,\r\n          documentIds: enabledDocumentIds,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      // Handle streaming response\r\n      const reader = response.body?.getReader();\r\n      const decoder = new TextDecoder();\r\n\r\n      if (reader) {\r\n        let accumulatedContent = '';\r\n        let citations: Citation[] = [];\r\n        let buffer = '';\r\n\r\n        while (true) {\r\n          const { done, value } = await reader.read();\r\n          if (done) break;\r\n\r\n          // Decode the chunk and add to buffer\r\n          buffer += decoder.decode(value, { stream: true });\r\n          \r\n          // Split by double newline (SSE message separator)\r\n          const messages = buffer.split('\\n\\n');\r\n          \r\n          // Keep the last part in buffer (might be incomplete)\r\n          buffer = messages.pop() || '';\r\n\r\n          for (const message of messages) {\r\n            // Skip empty messages\r\n            if (!message.trim()) continue;\r\n            \r\n            // Process each line in the message\r\n            const lines = message.split('\\n');\r\n            for (const line of lines) {\r\n              if (line.startsWith('data: ')) {\r\n                const dataStr = line.slice(6).trim();\r\n                \r\n                // Skip empty data or ping messages\r\n                if (!dataStr || dataStr === '[DONE]') continue;\r\n                \r\n                try {\r\n                  const data = JSON.parse(dataStr);\r\n                  \r\n                  if (data.chunks) {\r\n                    // Store chunks for citation references\r\n                    setCurrentChunks(data.chunks);\r\n                    citations = data.chunks;\r\n                  }\r\n                  \r\n                  if (data.content) {\r\n                    accumulatedContent += data.content;\r\n                    setMessages(prev =>\r\n                      prev.map(msg =>\r\n                        msg.id === assistantMessage.id\r\n                          ? { ...msg, content: accumulatedContent, citations }\r\n                          : msg\r\n                      )\r\n                    );\r\n                  }\r\n\r\n                  if (data.conversationId && !currentConversationId) {\r\n                    setCurrentConversationId(data.conversationId);\r\n                    await loadConversations();\r\n                  }\r\n                  \r\n                  if (data.error) {\r\n                    console.error('SSE Error:', data.error);\r\n                    setMessages(prev =>\r\n                      prev.map(msg =>\r\n                        msg.id === assistantMessage.id\r\n                          ? { ...msg, content: data.error || 'An error occurred', streaming: false }\r\n                          : msg\r\n                      )\r\n                    );\r\n                    return;\r\n                  }\r\n                } catch (e) {\r\n                  console.error('Failed to parse SSE data:', e, 'Data:', dataStr);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // Process any remaining buffer\r\n        if (buffer.trim()) {\r\n          const lines = buffer.split('\\n');\r\n          for (const line of lines) {\r\n            if (line.startsWith('data: ')) {\r\n              const dataStr = line.slice(6).trim();\r\n              if (dataStr && dataStr !== '[DONE]') {\r\n                try {\r\n                  const data = JSON.parse(dataStr);\r\n                  if (data.content) {\r\n                    accumulatedContent += data.content;\r\n                  }\r\n                } catch (e) {\r\n                  console.error('Failed to parse final SSE data:', e);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // Mark streaming as complete\r\n        setMessages(prev =>\r\n          prev.map(msg =>\r\n            msg.id === assistantMessage.id\r\n              ? { ...msg, content: accumulatedContent || 'No response received', streaming: false }\r\n              : msg\r\n          )\r\n        );\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Chat error:', error);\r\n      \r\n      let errorMessage = 'Sorry, an error occurred. Please try again.';\r\n      let showErrorBanner = false;\r\n      \r\n      // Check for specific AI service errors\r\n      if (error instanceof Error) {\r\n        if (error.message.includes('workers-ai-failed') ||\r\n            error.message.includes('AI service is at capacity') ||\r\n            error.message.includes('Rate limit exceeded') ||\r\n            error.message.includes('rate limit') ||\r\n            error.message.includes('Daily quota limit reached') ||\r\n            error.message.includes('AI service access denied') ||\r\n            error.message.includes('AI service is temporarily unavailable') ||\r\n            error.message.includes('AI service is not properly configured') ||\r\n            error.message.includes('Concurrency limit') ||\r\n            error.message.includes('concurrent')) {\r\n          // Extract the user-friendly message part (before the dash)\r\n          const parts = error.message.split(' - ');\r\n          errorMessage = parts[0] || error.message;\r\n          showErrorBanner = true;\r\n          setAiError(errorMessage);\r\n        }\r\n      }\r\n      \r\n      setMessages(prev =>\r\n        prev.map(msg =>\r\n          msg.id === assistantMessage.id\r\n            ? { ...msg, content: showErrorBanner ? '' : errorMessage, streaming: false }\r\n            : msg\r\n        )\r\n      );\r\n      \r\n      // Remove empty assistant message if we're showing the banner\r\n      if (showErrorBanner) {\r\n        setMessages(prev => prev.filter(msg => msg.id !== assistantMessage.id));\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n      setIsStreaming(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteDocument = async (documentId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/chat/documents/${documentId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setDocuments(prev => prev.filter(doc => doc.id !== documentId));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to delete document:', error);\r\n    }\r\n  };\r\n\r\n  const handleNewConversation = () => {\r\n    setCurrentConversationId(null);\r\n    setMessages([]);\r\n    setDocuments([]);\r\n  };\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes < 1024) return bytes + ' B';\r\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\r\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\r\n  };\r\n\r\n  const toggleDocumentEnabled = (documentId: string) => {\r\n    setDocuments(prev =>\r\n      prev.map(doc =>\r\n        doc.id === documentId\r\n          ? { ...doc, enabled: !doc.enabled }\r\n          : doc\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleCitationClick = (citationNumber: number) => {\r\n    const chunk = currentChunks.find(c => c.id === citationNumber);\r\n    if (chunk) {\r\n      setHighlightedChunk(chunk);\r\n      setShowChunkModal(true);\r\n    }\r\n  };\r\n\r\n  const renderMessageWithCitations = (content: string, citations?: Citation[]) => {\r\n    if (!citations || citations.length === 0) {\r\n      return <span className=\"whitespace-pre-wrap\">{content}</span>;\r\n    }\r\n\r\n    // Parse content for citation markers ^[n]\r\n    const parts = content.split(/(\\^\\[\\d+\\])/g);\r\n    \r\n    return (\r\n      <span className=\"whitespace-pre-wrap\">\r\n        {parts.map((part, index) => {\r\n          const citationMatch = part.match(/\\^\\[(\\d+)\\]/);\r\n          if (citationMatch) {\r\n            const citationNumber = parseInt(citationMatch[1]);\r\n            return (\r\n              <button\r\n                key={index}\r\n                onClick={() => handleCitationClick(citationNumber)}\r\n                className=\"inline-flex items-center justify-center w-5 h-5 text-xs rounded-full bg-primary/20 text-primary hover:bg-primary/30 transition-colors align-super ml-0.5\"\r\n                title={`View source ${citationNumber}`}\r\n              >\r\n                {citationNumber}\r\n              </button>\r\n            );\r\n          }\r\n          return <span key={index}>{part}</span>;\r\n        })}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const handleShareMessage = async (messageId: string) => {\r\n    const messageIndex = messages.findIndex(m => m.id === messageId);\r\n    if (messageIndex === -1) return;\r\n\r\n    // Find the user message (question) for this assistant response\r\n    let questionIndex = messageIndex;\r\n    if (messages[messageIndex].role === 'assistant') {\r\n      // Look backwards for the nearest user message\r\n      for (let i = messageIndex - 1; i >= 0; i--) {\r\n        if (messages[i].role === 'user') {\r\n          questionIndex = i;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    const question = messages[questionIndex].content;\r\n    const answer = messages[messageIndex].role === 'assistant'\r\n      ? messages[messageIndex].content\r\n      : messages[messageIndex + 1]?.content || '';\r\n\r\n    setSharingMessageId(messageId);\r\n\r\n    try {\r\n      const response = await fetch('/api/chat/share', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          question,\r\n          answer,\r\n          citations: messages[messageIndex].citations || currentChunks\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data: unknown = await response.json();\r\n        const isShare = (v: unknown): v is { shareUrl: string } =>\r\n          !!v && typeof v === 'object' && typeof (v as any).shareUrl === 'string';\r\n        if (isShare(data)) {\r\n          setShareUrl(data.shareUrl);\r\n          setShareModalOpen(true);\r\n        } else {\r\n          console.warn('Unexpected share payload');\r\n        }\r\n      } else {\r\n        console.error('Failed to create share link');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sharing message:', error);\r\n    } finally {\r\n      setSharingMessageId(null);\r\n    }\r\n  };\r\n\r\n  const handleCopyShareLink = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(shareUrl);\r\n      setCopySuccess(true);\r\n      setTimeout(() => setCopySuccess(false), 2000);\r\n    } catch (error) {\r\n      console.error('Failed to copy:', error);\r\n    }\r\n  };\r\n\r\n  const handleExportConversation = async (format: 'markdown' | 'json') => {\r\n    if (!currentConversationId || messages.length === 0) return;\r\n\r\n    try {\r\n      const response = await fetch('/api/chat/export', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          conversationId: currentConversationId,\r\n          format\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `conversation-${currentConversationId}.${format === 'markdown' ? 'md' : 'json'}`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        console.error('Failed to export conversation');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error exporting conversation:', error);\r\n    }\r\n  };\r\n\r\n  const handleDocumentClick = async (document: Document) => {\r\n    setSelectedDocument(document);\r\n    setShowDocumentPreview(true);\r\n    \r\n    // Fetch document content for preview\r\n    try {\r\n      const response = await fetch(`/api/chat/documents/${document.id}`);\r\n      if (response.ok) {\r\n        const data: unknown = await response.json();\r\n        const isDocContent = (v: unknown): v is { content?: string } =>\r\n          !!v && typeof v === 'object' && ('content' in (v as any) ? typeof (v as any).content === 'string' || typeof (v as any).content === 'undefined' : true);\r\n        if (isDocContent(data)) {\r\n          setDocumentContent((data as any).content || 'No preview available');\r\n        } else {\r\n          console.warn('Unexpected document content payload');\r\n          setDocumentContent('No preview available');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load document content:', error);\r\n      setDocumentContent('Failed to load document content');\r\n    }\r\n  };\r\n\r\n  const getFileIcon = (fileType: string) => {\r\n    if (fileType.includes('image')) return FileImage;\r\n    if (fileType.includes('code') || fileType.includes('json')) return FileCode;\r\n    return FileText;\r\n  };\r\n\r\n  const filteredDocuments = documents.filter(doc =>\r\n    doc.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex h-full\">\r\n      {/* Left Panel - Sources & Documents */}\r\n      <div className=\"w-96 border-r bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex flex-col\">\r\n        <div className=\"p-4 border-b\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <BookOpen className=\"w-5 h-5 text-primary\" />\r\n            <h2 className=\"font-semibold\">NotebookLM</h2>\r\n          </div>\r\n          \r\n          <Tabs value={activeTab} onValueChange={setActiveTab}>\r\n            <TabsList className=\"grid w-full grid-cols-3\">\r\n              <TabsTrigger value=\"sources\">Sources</TabsTrigger>\r\n              <TabsTrigger value=\"notebook\">Notebook</TabsTrigger>\r\n              <TabsTrigger value=\"history\">History</TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"sources\" className=\"mt-4\">\r\n              <div className=\"space-y-3\">\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Search documents...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"pl-9\"\r\n                  />\r\n                </div>\r\n\r\n                <Button\r\n                  className=\"w-full gradient-metallic-primary\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  disabled={isUploading}\r\n                >\r\n                  {isUploading ? (\r\n                    <>\r\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                      Uploading...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FilePlus className=\"w-4 h-4 mr-2\" />\r\n                      Add Sources\r\n                    </>\r\n                  )}\r\n                </Button>\r\n\r\n                <ScrollArea className=\"h-[calc(100vh-250px)]\">\r\n                  <div className=\"space-y-2\">\r\n                    {filteredDocuments.length === 0 ? (\r\n                      <div className=\"text-center text-muted-foreground py-8\">\r\n                        <FolderOpen className=\"w-8 h-8 mx-auto mb-3 opacity-50\" />\r\n                        <p className=\"text-sm\">No sources uploaded</p>\r\n                        <p className=\"text-xs mt-1\">Add documents to get started</p>\r\n                      </div>\r\n                    ) : (\r\n                      filteredDocuments.map((doc) => {\r\n                        const FileIcon = getFileIcon(doc.type);\r\n                        return (\r\n                          <Card\r\n                            key={doc.id}\r\n                            className={`p-3 cursor-pointer transition-all hover:shadow-md ${\r\n                              selectedDocument?.id === doc.id ? 'ring-2 ring-primary' : ''\r\n                            }`}\r\n                            onClick={() => handleDocumentClick(doc)}\r\n                          >\r\n                            <div className=\"flex items-start gap-3\">\r\n                              <FileIcon className=\"w-5 h-5 text-muted-foreground flex-shrink-0 mt-0.5\" />\r\n                              <div className=\"flex-1 min-w-0\">\r\n                                <div className=\"flex items-start justify-between gap-2\">\r\n                                  <div className=\"flex-1 min-w-0\">\r\n                                    <p className=\"font-medium text-sm truncate\">{doc.name}</p>\r\n                                    <p className=\"text-xs text-muted-foreground\">\r\n                                      {formatFileSize(doc.size)}  {doc.chunks} chunks\r\n                                    </p>\r\n                                    <p className=\"text-xs text-muted-foreground mt-1\">\r\n                                      Uploaded {new Date(doc.uploadedAt).toLocaleDateString()}\r\n                                    </p>\r\n                                  </div>\r\n                                  <div className=\"flex items-center gap-1\">\r\n                                    <Button\r\n                                      variant=\"ghost\"\r\n                                      size=\"icon\"\r\n                                      className=\"w-8 h-8\"\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        toggleDocumentEnabled(doc.id);\r\n                                      }}\r\n                                      title={doc.enabled ? 'Disable document' : 'Enable document'}\r\n                                    >\r\n                                      {doc.enabled ? (\r\n                                        <Eye className=\"w-4 h-4\" />\r\n                                      ) : (\r\n                                        <EyeOff className=\"w-4 h-4 text-muted-foreground\" />\r\n                                      )}\r\n                                    </Button>\r\n                                    <Button\r\n                                      variant=\"ghost\"\r\n                                      size=\"icon\"\r\n                                      className=\"w-8 h-8 hover:text-destructive\"\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleDeleteDocument(doc.id);\r\n                                      }}\r\n                                    >\r\n                                      <Trash2 className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </Card>\r\n                        );\r\n                      })\r\n                    )}\r\n                  </div>\r\n                </ScrollArea>\r\n              </div>\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"notebook\" className=\"mt-4\">\r\n              <div className=\"text-center text-muted-foreground py-8\">\r\n                <Brain className=\"w-8 h-8 mx-auto mb-3 opacity-50\" />\r\n                <p className=\"text-sm\">Notebook coming soon</p>\r\n                <p className=\"text-xs mt-1\">Your AI-generated notes and insights</p>\r\n              </div>\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"history\" className=\"mt-4\">\r\n              <ScrollArea className=\"h-[calc(100vh-250px)]\">\r\n                <div className=\"space-y-2\">\r\n                  {conversations.length === 0 ? (\r\n                    <div className=\"text-center text-muted-foreground py-8\">\r\n                      <MessageSquare className=\"w-8 h-8 mx-auto mb-3 opacity-50\" />\r\n                      <p className=\"text-sm\">No conversations yet</p>\r\n                    </div>\r\n                  ) : (\r\n                    conversations.map((conv) => (\r\n                      <button\r\n                        key={conv.id}\r\n                        onClick={() => loadConversation(conv.id)}\r\n                        className={`w-full text-left p-3 rounded-lg transition-all group relative ${\r\n                          conv.id === currentConversationId\r\n                            ? 'bg-gradient-to-r from-gradient-metal-start to-gradient-metal-end text-white shadow-sm'\r\n                            : 'hover:bg-muted/80'\r\n                        }`}\r\n                      >\r\n                        <p className={`font-medium text-sm truncate ${\r\n                          conv.id === currentConversationId ? 'text-white' : ''\r\n                        }`}>\r\n                          {conv.title}\r\n                        </p>\r\n                        <p className={`text-xs truncate mt-1 ${\r\n                          conv.id === currentConversationId\r\n                            ? 'text-white/80'\r\n                            : 'text-muted-foreground'\r\n                        }`}>\r\n                          {conv.lastMessage}\r\n                        </p>\r\n                        <div className={`flex items-center gap-1 mt-1 text-xs ${\r\n                          conv.id === currentConversationId\r\n                            ? 'text-white/60'\r\n                            : 'text-muted-foreground'\r\n                        }`}>\r\n                          <Clock className=\"w-3 h-3\" />\r\n                          {new Date(conv.timestamp).toLocaleDateString()}\r\n                        </div>\r\n                      </button>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </ScrollArea>\r\n            </TabsContent>\r\n          </Tabs>\r\n        </div>\r\n\r\n        <input\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          multiple\r\n          accept=\".txt,.pdf,.doc,.docx,.md,.json,.csv\"\r\n          onChange={handleFileUpload}\r\n          className=\"hidden\"\r\n        />\r\n      </div>\r\n\r\n      {/* Main Chat Area */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {/* Header Bar */}\r\n        <div className=\"border-b px-6 py-3 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <Sparkles className=\"w-5 h-5 text-primary\" />\r\n              <h2 className=\"font-semibold\">AI Assistant</h2>\r\n              {documents.filter(d => d.enabled).length > 0 && (\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                  ({documents.filter(d => d.enabled).length} sources active)\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                onClick={handleNewConversation}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n              >\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                New Chat\r\n              </Button>\r\n              \r\n              {/* Export dropdown */}\r\n              {currentConversationId && messages.length > 0 && (\r\n                <DropdownMenu>\r\n                  <DropdownMenuTrigger asChild>\r\n                    <Button variant=\"ghost\" size=\"icon\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                    </Button>\r\n                  </DropdownMenuTrigger>\r\n                  <DropdownMenuContent align=\"end\">\r\n                    <DropdownMenuItem onClick={() => handleExportConversation('markdown')}>\r\n                      <FileText className=\"w-4 h-4 mr-2\" />\r\n                      Export as Markdown\r\n                    </DropdownMenuItem>\r\n                    <DropdownMenuItem onClick={() => handleExportConversation('json')}>\r\n                      <FileText className=\"w-4 h-4 mr-2\" />\r\n                      Export as JSON\r\n                    </DropdownMenuItem>\r\n                  </DropdownMenuContent>\r\n                </DropdownMenu>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chat Messages */}\r\n        <ScrollArea className=\"flex-1 px-6\">\r\n          <div className=\"max-w-3xl mx-auto py-6\">\r\n            {/* AI Error Banner */}\r\n            {aiError && (\r\n              <Alert variant=\"warning\" className=\"mb-4\">\r\n                <AlertCircle className=\"h-4 w-4\" />\r\n                <AlertTitle>AI Service Issue</AlertTitle>\r\n                <AlertDescription>\r\n                  {aiError}\r\n                  {(aiError.includes('quota') || aiError.toLowerCase().includes('rate limit')) && (\r\n                    <p className=\"mt-2 text-sm\">\r\n                      Free tier limits: 100k requests/day, 20 requests/minute, 2 concurrent GPU jobs. Consider upgrading for better performance.\r\n                    </p>\r\n                  )}\r\n                  {aiError.includes('capacity') && (\r\n                    <p className=\"mt-2 text-sm\">\r\n                      The AI service is experiencing high demand. Please wait a moment and try again.\r\n                    </p>\r\n                  )}\r\n                  {(aiError.toLowerCase().includes('concurrent') || aiError.includes('Concurrency limit')) && (\r\n                    <p className=\"mt-2 text-sm\">\r\n                      The free tier allows only 2 concurrent AI requests. Your request has been queued and will process when a slot becomes available.\r\n                    </p>\r\n                  )}\r\n                </AlertDescription>\r\n              </Alert>\r\n            )}\r\n            \r\n            {messages.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-gradient-metal-start to-gradient-metal-end mb-4\">\r\n                  <Bot className=\"w-8 h-8 text-white\" />\r\n                </div>\r\n                <h3 className=\"text-xl font-semibold mb-2\">How can I help you today?</h3>\r\n                <p className=\"text-muted-foreground mb-6\">\r\n                  Upload documents and ask questions to get started\r\n                </p>\r\n                <div className=\"space-y-4 max-w-md mx-auto\">\r\n                  <Card className=\"p-4 cursor-pointer hover:shadow-md transition-all\" onClick={() => setInputValue(\"Summarize the key points from my documents\")}>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <BookOpen className=\"w-5 h-5 text-primary\" />\r\n                      <div className=\"text-left\">\r\n                        <p className=\"font-medium text-sm\">Summarize documents</p>\r\n                        <p className=\"text-xs text-muted-foreground\">Get key insights from your sources</p>\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                  <Card className=\"p-4 cursor-pointer hover:shadow-md transition-all\" onClick={() => setInputValue(\"Create an outline based on the main topics\")}>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Brain className=\"w-5 h-5 text-primary\" />\r\n                      <div className=\"text-left\">\r\n                        <p className=\"font-medium text-sm\">Generate outline</p>\r\n                        <p className=\"text-xs text-muted-foreground\">Structure your content logically</p>\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                  <Card className=\"p-4 cursor-pointer hover:shadow-md transition-all\" onClick={() => setInputValue(\"What are the most important findings?\")}>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Sparkles className=\"w-5 h-5 text-primary\" />\r\n                      <div className=\"text-left\">\r\n                        <p className=\"font-medium text-sm\">Extract insights</p>\r\n                        <p className=\"text-xs text-muted-foreground\">Discover key findings and patterns</p>\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                {messages.map((message) => (\r\n                  <div\r\n                    key={message.id}\r\n                    className={`flex gap-4 ${\r\n                      message.role === 'assistant' ? '' : 'justify-end'\r\n                    }`}\r\n                  >\r\n                    {message.role === 'assistant' && (\r\n                      <>\r\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-r from-gradient-metal-start to-gradient-metal-end flex items-center justify-center flex-shrink-0\">\r\n                          <Bot className=\"w-5 h-5 text-white\" />\r\n                        </div>\r\n                        <div\r\n                          className={`relative rounded-2xl px-4 py-3 max-w-[80%] group ${\r\n                            'assistant' === 'assistant'\r\n                              ? 'bg-muted'\r\n                              : 'bg-gradient-to-r from-gradient-metal-start to-gradient-metal-end text-white'\r\n                          }`}\r\n                        >\r\n                          <div className=\"text-sm leading-relaxed\">\r\n                            {renderMessageWithCitations(message.content, message.citations)}\r\n                          </div>\r\n                          {message.streaming && (\r\n                            <div className=\"flex items-center gap-2 mt-2\">\r\n                              <Loader2 className=\"w-3 h-3 animate-spin text-muted-foreground\" />\r\n                              <span className=\"text-xs text-muted-foreground\">AI is typing...</span>\r\n                            </div>\r\n                          )}\r\n                          \r\n                          {/* Share button for assistant messages */}\r\n                          {message.role === 'assistant' && !message.streaming && (\r\n                            <button\r\n                              onClick={() => handleShareMessage(message.id)}\r\n                              disabled={sharingMessageId === message.id}\r\n                              className={`absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity ${\r\n                                message.role === 'assistant'\r\n                                  ? 'text-muted-foreground hover:text-foreground'\r\n                                  : 'text-white/70 hover:text-white'\r\n                              }`}\r\n                              title=\"Share this Q&A\"\r\n                            >\r\n                              {sharingMessageId === message.id ? (\r\n                                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                              ) : (\r\n                                <Share2 className=\"w-4 h-4\" />\r\n                              )}\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    {message.role === 'user' && (\r\n                      <>\r\n                        <div\r\n                          className={`relative rounded-2xl px-4 py-3 max-w-[80%] group ${\r\n                            'assistant' === 'assistant'\r\n                              ? 'bg-muted'\r\n                              : 'bg-gradient-to-r from-gradient-metal-start to-gradient-metal-end text-white'\r\n                          }`}\r\n                        >\r\n                          <div className=\"text-sm leading-relaxed\">\r\n                            {message.content}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"w-8 h-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0\">\r\n                          <User className=\"w-5 h-5\" />\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </ScrollArea>\r\n\r\n        {/* Input Area */}\r\n        <div className=\"border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n          <div className=\"px-6 py-4\">\r\n            <div className=\"max-w-3xl mx-auto\">\r\n              <div className=\"flex gap-2\">\r\n                <Input\r\n                  value={inputValue}\r\n                  onChange={(e) => setInputValue(e.target.value)}\r\n                  onKeyPress={(e) => {\r\n                    if (e.key === 'Enter' && !e.shiftKey) {\r\n                      e.preventDefault();\r\n                      handleSendMessage();\r\n                    }\r\n                  }}\r\n                  placeholder={isStreaming ? \"AI is responding...\" : \"Ask a question about your documents...\"}\r\n                  disabled={isLoading || isStreaming}\r\n                  className=\"flex-1\"\r\n                />\r\n                <Button\r\n                  onClick={handleSendMessage}\r\n                  disabled={isLoading || isStreaming || !inputValue.trim()}\r\n                  className=\"gradient-metallic-primary flex-shrink-0\"\r\n                  title={isStreaming ? \"Please wait for the current response to complete\" : \"Send message\"}\r\n                >\r\n                  {isLoading || isStreaming ? (\r\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                  ) : (\r\n                    <Send className=\"w-4 h-4\" />\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Document Preview Modal */}\r\n      <Dialog open={showDocumentPreview} onOpenChange={setShowDocumentPreview}>\r\n        <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <FileText className=\"w-5 h-5\" />\r\n              {selectedDocument?.name}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"flex-1 mt-4\">\r\n            <div className=\"p-4 bg-muted rounded-lg\">\r\n              <pre className=\"whitespace-pre-wrap text-sm font-mono\">\r\n                {documentContent}\r\n              </pre>\r\n            </div>\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Citation Modal */}\r\n      <Dialog open={showChunkModal} onOpenChange={setShowChunkModal}>\r\n        <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <FileText className=\"w-5 h-5\" />\r\n              Source: {highlightedChunk?.documentName}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"flex-1 mt-4\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <span className=\"font-medium\">Relevance:</span>\r\n                <span>{highlightedChunk ? (highlightedChunk.score * 100).toFixed(1) : 0}%</span>\r\n              </div>\r\n              <div className=\"p-4 bg-muted rounded-lg\">\r\n                <pre className=\"whitespace-pre-wrap text-sm font-mono\">\r\n                  {highlightedChunk?.text}\r\n                </pre>\r\n              </div>\r\n            </div>\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Share Modal */}\r\n      <Dialog open={shareModalOpen} onOpenChange={setShareModalOpen}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Share2 className=\"w-5 h-5\" />\r\n              Share This Conversation\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 mt-4\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Anyone with this link can view this Q&A snippet. The link will expire in 30 days.\r\n            </p>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                value={shareUrl}\r\n                readOnly\r\n                className=\"font-mono text-xs\"\r\n              />\r\n              <Button\r\n                onClick={handleCopyShareLink}\r\n                variant=\"outline\"\r\n                size=\"icon\"\r\n                className=\"flex-shrink-0\"\r\n              >\r\n                {copySuccess ? (\r\n                  <Check className=\"w-4 h-4 text-green-600\" />\r\n                ) : (\r\n                  <Copy className=\"w-4 h-4\" />\r\n                )}\r\n              </Button>\r\n            </div>\r\n            {copySuccess && (\r\n              <p className=\"text-sm text-green-600\">Link copied to clipboard!</p>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}"],"names":["__iconNode","Bot","createLucideIcon","Copy","Download","EyeOff","FileCode","FileImage","FilePlus","FolderOpen","Send","Share2","SELECTION_KEYS","FIRST_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","SUB_CLOSE_KEYS","MENU_NAME","Collection","useCollection","createCollectionScope","createCollection","createMenuContext","createMenuScope","createContextScope","createPopperScope","createRovingFocusGroupScope","usePopperScope","useRovingFocusGroupScope","MenuProvider","useMenuContext","MenuRootProvider","useMenuRootContext","Menu","props","__scopeMenu","open","children","dir","onOpenChange","modal","popperScope","content","setContent","React.useState","isUsingKeyboardRef","React.useRef","handleOpenChange","useCallbackRef","direction","useDirection","React.useEffect","handleKeyDown","handlePointer","jsx","PopperPrimitive.Root","React.useCallback","ANCHOR_NAME","MenuAnchor","React.forwardRef","forwardedRef","anchorProps","PopperPrimitive.Anchor","PORTAL_NAME","PortalProvider","usePortalContext","MenuPortal","forceMount","container","context","Presence","PortalPrimitive","CONTENT_NAME","MenuContentProvider","useMenuContentContext","MenuContent","portalContext","contentProps","rootContext","MenuRootContentModal","MenuRootContentNonModal","ref","composedRefs","useComposedRefs","hideOthers","MenuContentImpl","composeEventHandlers","event","Slot","createSlot","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","rovingFocusGroupScope","getItems","currentItemId","setCurrentItemId","contentRef","timerRef","searchRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","ScrollLockWrapper","RemoveScroll","React.Fragment","scrollLockWrapperProps","handleTypeaheadSearch","key","search","items","item","currentItem","currentMatch","values","nextMatch","getNextMatch","newItem","updateSearch","value","useFocusGuards","isPointerMovingToSubmenu","isPointerInGraceArea","intent","FocusScope","DismissableLayer","RovingFocusGroup.Root","PopperPrimitive.Content","getOpenState","isKeyDownInside","isModifierKey","isCharacterKey","candidateNodes","focusFirst","whenMouse","target","pointerXHasChanged","newDir","GROUP_NAME","MenuGroup","groupProps","Primitive","LABEL_NAME","MenuLabel","labelProps","ITEM_NAME","ITEM_SELECT","MenuItem","disabled","onSelect","itemProps","contentContext","isPointerDownRef","handleSelect","menuItem","itemSelectEvent","dispatchDiscreteCustomEvent","MenuItemImpl","isTypingAhead","textValue","isFocused","setIsFocused","textContent","setTextContent","RovingFocusGroup.Item","CHECKBOX_ITEM_NAME","MenuCheckboxItem","checked","onCheckedChange","checkboxItemProps","ItemIndicatorProvider","isIndeterminate","getCheckedState","RADIO_GROUP_NAME","RadioGroupProvider","useRadioGroupContext","MenuRadioGroup","onValueChange","handleValueChange","RADIO_ITEM_NAME","MenuRadioItem","radioItemProps","ITEM_INDICATOR_NAME","useItemIndicatorContext","MenuItemIndicator","itemIndicatorProps","indicatorContext","SEPARATOR_NAME","MenuSeparator","separatorProps","ARROW_NAME","MenuArrow","arrowProps","PopperPrimitive.Arrow","SUB_NAME","MenuSubProvider","useMenuSubContext","SUB_TRIGGER_NAME","MenuSubTrigger","subContext","openTimerRef","onPointerGraceIntentChange","scope","clearOpenTimer","pointerGraceTimer","composeRefs","contentRect","side","rightSide","bleed","contentNearEdge","contentFarEdge","SUB_CONTENT_NAME","MenuSubContent","subContentProps","isCloseKey","candidates","PREVIOUSLY_FOCUSED_ELEMENT","candidate","wrapArray","array","startIndex","_","index","normalizedSearch","char","currentMatchIndex","wrappedValues","v","isPointInPolygon","point","polygon","x","y","inside","j","ii","jj","xi","yi","xj","yj","area","cursorPos","handler","Root3","Anchor2","Portal","Content2","Group","Label","Item2","CheckboxItem","RadioGroup","RadioItem","ItemIndicator","Separator","Arrow2","SubTrigger","SubContent","DROPDOWN_MENU_NAME","createDropdownMenuContext","createDropdownMenuScope","useMenuScope","DropdownMenuProvider","useDropdownMenuContext","DropdownMenu","__scopeDropdownMenu","openProp","defaultOpen","menuScope","triggerRef","setOpen","useControllableState","useId","prevOpen","MenuPrimitive.Root","TRIGGER_NAME","DropdownMenuTrigger","triggerProps","MenuPrimitive.Anchor","DropdownMenuPortal","portalProps","MenuPrimitive.Portal","DropdownMenuContent","hasInteractedOutsideRef","MenuPrimitive.Content","originalEvent","ctrlLeftClick","isRightClick","DropdownMenuGroup","MenuPrimitive.Group","DropdownMenuLabel","MenuPrimitive.Label","DropdownMenuItem","MenuPrimitive.Item","DropdownMenuCheckboxItem","MenuPrimitive.CheckboxItem","DropdownMenuRadioGroup","radioGroupProps","MenuPrimitive.RadioGroup","DropdownMenuRadioItem","MenuPrimitive.RadioItem","INDICATOR_NAME","DropdownMenuItemIndicator","MenuPrimitive.ItemIndicator","DropdownMenuSeparator","MenuPrimitive.Separator","DropdownMenuArrow","MenuPrimitive.Arrow","DropdownMenuSubTrigger","subTriggerProps","MenuPrimitive.SubTrigger","DropdownMenuSubContent","MenuPrimitive.SubContent","Root2","Trigger","Portal2","Label2","CheckboxItem2","RadioItem2","ItemIndicator2","Separator2","SubTrigger2","SubContent2","DropdownMenuPrimitive.Root","DropdownMenuPrimitive.Trigger","className","inset","jsxs","DropdownMenuPrimitive.SubTrigger","cn","ChevronRight","DropdownMenuPrimitive.SubContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuPrimitive.Item","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuPrimitive.RadioItem","Circle","DropdownMenuPrimitive.Label","DropdownMenuPrimitive.Separator","NotebookLMInterface","messages","setMessages","useState","documents","setDocuments","conversations","setConversations","currentConversationId","setCurrentConversationId","inputValue","setInputValue","isLoading","setIsLoading","isUploading","setIsUploading","selectedDocument","setSelectedDocument","highlightedChunk","setHighlightedChunk","showChunkModal","setShowChunkModal","currentChunks","setCurrentChunks","shareModalOpen","setShareModalOpen","shareUrl","setShareUrl","sharingMessageId","setSharingMessageId","copySuccess","setCopySuccess","aiError","setAiError","isStreaming","setIsStreaming","activeTab","setActiveTab","searchQuery","setSearchQuery","showDocumentPreview","setShowDocumentPreview","documentContent","setDocumentContent","fileInputRef","useRef","messagesEndRef","scrollToBottom","useEffect","loadConversations","loadDocuments","isConversationList","data","isDocumentsList","isConversationDetail","isUploadResponse","response","error","loadConversation","conversationId","handleFileUpload","files","formData","file","newDocs","doc","prev","handleSendMessage","messageToSend","userMessage","assistantMessage","enabledDocumentIds","reader","decoder","accumulatedContent","citations","buffer","done","message","lines","line","dataStr","msg","e","errorMessage","showErrorBanner","handleDeleteDocument","documentId","handleNewConversation","formatFileSize","bytes","toggleDocumentEnabled","handleCitationClick","citationNumber","chunk","c","renderMessageWithCitations","parts","part","citationMatch","handleShareMessage","messageId","messageIndex","m","questionIndex","i","question","answer","handleCopyShareLink","handleExportConversation","format","blob","url","a","handleDocumentClick","document","getFileIcon","fileType","FileText","filteredDocuments","BookOpen","Tabs","TabsList","TabsTrigger","TabsContent","Search","Input","Button","Fragment","Loader2","ScrollArea","FileIcon","Card","Eye","Trash2","Brain","MessageSquare","conv","Clock","Sparkles","d","Plus","Alert","AlertCircle","AlertTitle","AlertDescription","User","Dialog","DialogContent","DialogHeader","DialogTitle"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}