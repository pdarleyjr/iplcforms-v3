{"version":3,"file":"Layout_Cm10FlEX.mjs","sources":["../../../src/layouts/Layout.astro"],"sourcesContent":["---\r\nimport '@/styles/globals.css'\r\nimport { Button } from '@/components/ui/button';\r\nimport { Header } from '@/components/Header';\r\nimport ApiTokenMissingCard from '@/components/admin/api-token-missing-card';\r\n\r\nconst currentPath = Astro.url.pathname;\r\nconst title = Astro.props.title || 'SaaS Admin Template';\r\n// Handle undefined env gracefully for development\r\nconst env = Astro.locals.env || {};\r\nconst API_TOKEN = env.API_TOKEN || process.env.API_TOKEN || 'dev_fallback_token';\r\nconst apiTokenSet = API_TOKEN && API_TOKEN !== '' && API_TOKEN !== 'dev_fallback_token';\r\n\r\n// Analytics configuration\r\nconst analyticsEnabled = env.ANALYTICS_ENABLED === 'true' || env.ANALYTICS_ENABLED === true;\r\nconst dataDomain = env.DATA_DOMAIN || Astro.url.hostname;\r\n---\r\n\r\n<script is:inline>\r\n  const getThemePreference = () => {\r\n    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {\r\n      return localStorage.getItem('theme');\r\n    }\r\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n  };\r\n  const isDark = getThemePreference() === 'dark';\r\n  document.documentElement.classList[isDark ? 'add' : 'remove']('dark');\r\n \r\n  if (typeof localStorage !== 'undefined') {\r\n    const observer = new MutationObserver(() => {\r\n      const isDark = document.documentElement.classList.contains('dark');\r\n      localStorage.setItem('theme', isDark ? 'dark' : 'light');\r\n    });\r\n    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });\r\n  }\r\n</script>\r\n\r\n<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n    <meta name=\"generator\" content={Astro.generator} />\r\n    <title>{title ? `${title} - SaaS Admin Template` : 'SaaS Admin Template'}</title>\r\n    \r\n    {/* Plausible Analytics - Only load if enabled */}\r\n    {analyticsEnabled && (\r\n      <script\r\n        defer\r\n        data-domain={dataDomain}\r\n        data-api=\"/a\"\r\n        src=\"/a/js/plausible.js\"\r\n      ></script>\r\n    )}\r\n  </head>\r\n  <body>\r\n    <Header currentPath={currentPath} />\r\n    <div class=\"flex-1 space-y-4 p-8 pt-6\">\r\n      <div class=\"mb-4\">\r\n        {!apiTokenSet && <ApiTokenMissingCard />}\r\n      </div>\r\n      <div class=\"flex items-center justify-between\">\r\n        <slot name=\"actions\" />\r\n      </div>\r\n      <slot />\r\n    </div>\r\n  </body>\r\n</html>\r\n\r\n"],"names":["$$createAstro","$$createComponent","Astro","$$render","$$addAttribute","$$renderHead","$$renderComponent","$$renderSlot"],"mappings":";;;;;;;;;AAAA,MAAA,UAAAA,WAAA,EAAA;AAAA,MAAA,QAAA,GAAAC,eAAA,CAAA,CAAA,QAAA,EAAA,SAAA,OAAA,KAAA;AAAA,EAAA,MAAAC,MAAAA,GAAA,QAAA,CAAA,WAAA,CAAA,OAAA,EAAA,SAAA,OAAA,CAAA;AAAAA,EAAAA,MAAAA,CAAA,IAAA,GAAA,QAAA;AAMA,EAAA,MAAM,WAAA,GAAcA,OAAM,GAAA,CAAI,QAAA;AAC9B,EAAA,MAAM,KAAA,GAAQA,MAAAA,CAAM,KAAA,CAAM,KAAA,IAAS,qBAAA;AAEnC,EAAA,MAAM,GAAA,GAAMA,MAAAA,CAAM,MAAA,CAAO,GAAA,IAAO,EAAC;AACjC,EAAA,MAAM,SAAA,GAAY,GAAA,CAAI,SAAA,IAAa,OAAA,CAAA,GAAA,CAAY,SAAA,IAAa,oBAAA;AAC5D,EAAA,MAAM,WAAA,GAA2B,SAAA,KAAc,EAAA,IAAM,SAAA,KAAc,oBAAA;AAGnE,EAAA,MAAM,gBAAA,GAAmB,GAAA,CAAI,iBAAA,KAAsB,MAAA,IAAU,IAAI,iBAAA,KAAsB,IAAA;AACvF,EAAA,MAAM,UAAA,GAAa,GAAA,CAAI,WAAA,IAAeA,MAAAA,CAAM,GAAA,CAAI,QAAA;AAfhD,EAAA,OAAAC,cAAA,CAAA,EAAA,KAAA,EAAA,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kQAAA,CAAA,EAAA,UAAA,EA4C4E,UAAA,EAUvE,EAAA,EAtDL,iBAAA,EAyDK,gEAG2C,0DAAA,EAGvC,UAAA,EAEF,wBAAA,CAAA,CAAA,CAAA,EAjEPC,YAAA,CA2CoCF,MAAAA,CAAM,SAAA,EA3C1C,SAAA,CAAA,EA4CoB,CAAA,EAAG,KAAK,CAAA,sBAAA,CAAA,CAA2B,EAGlD,gBAAA,IA/CLC,cAAA,CAAA,OAAA,EAAA,GAAA,UAAA,CAAA,CAAA,eAAA,EAAA,mDAAA,CAAA,CAAA,CAAA,EAAAC,YAAA,CAkDqB,YAlDrB,aAAA,CAAA,CAAA,EAAAC,UAAA,CAAA,CAAA,EAAAC,eAAA,CAAA,QAAA,EAAA,UAAA,MAAA,EAAA,EAyDY,aAAA,EAAa,WAAA,EAApB,CAAA,EAGI,CAAC,WAAA,IA5DVH,iBAAAG,eAAA,CAAA,QAAA,EAAA,qBAAA,EAAA,mBAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAAAC,WAAA,QAAA,EAAA,OAAA,CA+DoB,SAAA,CAAX,GA/DTA,UAAA,CAAA,QAAA,EAAA,OAAA,CAAA,SAAA,CAiEO,CAAA,CAAA;AAjEP,CAAA,EAAA,uEAAA,MAAA;;;;"}