{"version":3,"file":"plausible.js.astro.mjs","sources":["../../../../../src/pages/a/js/plausible.js.ts"],"sourcesContent":["/**\r\n * Plausible Analytics Script Proxy Route\r\n * Serves the Plausible analytics script through our domain\r\n */\r\n\r\nimport type { APIRoute } from 'astro';\r\nimport { handlePlausibleScript } from '../../../lib/analytics/plausible-proxy';\r\n\r\nexport const GET: APIRoute = async ({ request, locals }) => {\r\n  const env = (locals as any).runtime.env;\r\n  \r\n  const config = {\r\n    analyticsEnabled: env.ANALYTICS_ENABLED === 'true' || env.ANALYTICS_ENABLED === true,\r\n    plausibleDomain: env.PLAUSIBLE_DOMAIN,\r\n    dataDomain: env.DATA_DOMAIN,\r\n  };\r\n  \r\n  return await handlePlausibleScript(request as any, config);\r\n};"],"names":[],"mappings":";;;;AAQO,MAAM,GAAA,GAAgB,OAAO,EAAE,OAAA,EAAS,QAAO,KAAM;AAC1D,EAAA,MAAM,GAAA,GAAO,OAAe,OAAA,CAAQ,GAAA;AAEpC,EAAA,MAAM,MAAA,GAAS;AAAA,IACb,gBAAA,EAAkB,GAAA,CAAI,iBAAA,KAAsB,MAAA,IAAU,IAAI,iBAAA,KAAsB,IAAA;AAAA,IAChF,iBAAiB,GAAA,CAAI,gBAAA;AAAA,IACrB,YAAY,GAAA,CAAI;AAAA,GAClB;AAEA,EAAA,OAAO,MAAM,qBAAA,CAAsB,OAAA,EAAgB,MAAM,CAAA;AAC3D,CAAA;;;;;;;;;;;"}