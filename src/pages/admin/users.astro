---
import Layout from '../../layouts/Layout.astro';
import { RoleManager } from '../../components/admin/RoleManager';

// For SSR: Check authentication and authorization
const customerId = Astro.cookies.get('customerId');
const customerRole = Astro.cookies.get('customerRole');

if (!customerId || customerRole?.value !== 'admin') {
  return Astro.redirect('/login');
}
---

<Layout title="User Management - Admin">
  <div class="container mx-auto py-8">
    <div class="mb-8">
      <h1 class="text-3xl font-bold">User Management</h1>
      <p class="text-muted-foreground mt-2">
        Manage user roles and permissions
      </p>
    </div>

    <RoleManager client:load />
  </div>
</Layout>